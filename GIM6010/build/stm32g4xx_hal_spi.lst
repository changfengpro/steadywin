ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32g4xx_hal_spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c"
  20              		.section	.text.HAL_SPI_Init,"ax",%progbits
  21              		.align	1
  22              		.global	HAL_SPI_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	HAL_SPI_Init:
  28              	.LFB132:
   1:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
   2:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @file    stm32g4xx_hal_spi.c
   4:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ******************************************************************************
  13:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @attention
  14:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
  15:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * Copyright (c) 2019 STMicroelectronics.
  16:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * All rights reserved.
  17:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
  18:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  19:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * in the root directory of this software component.
  20:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  21:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
  22:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ******************************************************************************
  23:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   @verbatim
  24:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ==============================================================================
  25:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                         ##### How to use this driver #####
  26:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ==============================================================================
  27:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     [..]
  28:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  29:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  30:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 2


  31:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  32:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  33:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  34:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  35:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) SPI pins configuration
  36:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  37:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  38:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  39:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  40:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  41:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  42:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  43:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Enable the DMAx clock
  44:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  45:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  46:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  47:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  48:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  49:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  50:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  51:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  52:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  53:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  54:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  55:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      [..]
  56:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Circular mode restriction:
  57:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  58:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  59:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) Master 1Line Rx
  60:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  61:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  62:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  63:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      [..]
  64:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Master Receive mode restriction:
  65:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  66:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  67:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  68:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  69:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (##) HAL_SPI_Init()
  70:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      [..]
  71:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Callback registration:
  72:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  73:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  74:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  75:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  76:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  77:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  78:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  79:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  80:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  81:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  82:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  83:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  84:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  85:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  86:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  87:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 3


  88:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
  89:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           and a pointer to the user callback function.
  90:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  91:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
  92:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  93:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           weak function.
  94:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  95:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           and the Callback ID.
  96:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           This function allows to reset following callbacks:
  97:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  98:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  99:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
 100:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
 101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
 102:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
 103:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
 104:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
 105:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
 106:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
 107:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 108:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        [..]
 109:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 110:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 111:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 112:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 113:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 114:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 115:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 116:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 117:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 118:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        [..]
 119:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 120:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 121:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 122:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 123:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 124:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 125:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        or HAL_SPI_Init() function.
 126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 127:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        [..]
 128:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 129:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        not defined, the callback registering feature is not available
 130:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 131:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 132:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      [..]
 133:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 134:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 135:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 137:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   @endverbatim
 138:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 139:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   Additional table :
 140:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 141:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 142:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 143:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 144:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 4


 145:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 146:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |===========================================================================================
 147:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 148:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 149:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 150:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 151:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 152:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 153:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 154:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 155:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 156:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 157:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 158:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 159:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 160:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 161:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 162:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 163:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 164:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 165:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 166:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 167:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 168:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 169:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 170:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 171:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |===========================================================================================
 172:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 173:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 174:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 175:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 176:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 177:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 178:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 179:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 180:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 181:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 182:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 183:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 184:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 185:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 186:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 187:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 188:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 189:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 190:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (4bits, 5bits,..., 8bits,...15bits, 16bi
 191:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 192:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        @note
 193:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and HAL
 194:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 195:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 196:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 197:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 198:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 199:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 200:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #include "stm32g4xx_hal.h"
 201:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 5


 202:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @addtogroup STM32G4xx_HAL_Driver
 203:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 204:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 205:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 206:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI SPI
 207:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief SPI HAL module driver
 208:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 209:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 210:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 211:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 212:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 213:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 214:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 215:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 216:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 217:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 218:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 219:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
 220:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 221:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 222:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 223:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 225:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 226:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 227:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 228:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 230:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 231:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 232:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 233:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 234:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 236:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 237:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 238:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 239:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
 241:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 242:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 243:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 244:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 245:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 246:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 247:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 248:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 249:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 250:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 251:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 252:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 253:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 254:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 255:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 256:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 257:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 258:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 6


 259:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 260:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 261:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 262:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 263:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 264:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
 265:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 266:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 267:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 268:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 269:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 270:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 271:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 272:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 273:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 274:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
 275:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @verbatim
 276:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  ===============================================================================
 277:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 278:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  ===============================================================================
 279:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 280:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 281:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 282:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 283:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 284:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 285:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 286:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           the selected configuration:
 287:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) Mode
 288:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) Direction
 289:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) Data Size
 290:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 291:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) NSS Management
 292:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) BaudRate Prescaler
 293:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) FirstBit
 294:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) TIMode
 295:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) CRC Calculation
 296:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) CRC Length, used only with Data8 and Data16
 298:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (++) FIFO reception threshold
 299:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 300:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 301:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           of the selected SPIx peripheral.
 302:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @endverbatim
 304:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 305:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 306:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 307:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 308:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 309:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 310:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 311:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
 312:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
 313:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 314:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 315:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 7


  29              		.loc 1 315 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 84B0     		sub	sp, sp, #16
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
 316:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t frxth;
 317:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 318:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 319:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi == NULL)
  45              		.loc 1 319 6
  46 0008 7B68     		ldr	r3, [r7, #4]
  47 000a 002B     		cmp	r3, #0
  48 000c 01D1     		bne	.L2
 320:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 321:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_ERROR;
  49              		.loc 1 321 12
  50 000e 0123     		movs	r3, #1
  51 0010 9DE0     		b	.L3
  52              	.L2:
 322:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 323:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the parameters */
 325:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 326:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 327:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 328:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 329:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 330:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 331:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 332:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 333:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 334:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
  53              		.loc 1 334 17
  54 0012 7B68     		ldr	r3, [r7, #4]
  55 0014 5B6A     		ldr	r3, [r3, #36]
  56              		.loc 1 334 6
  57 0016 002B     		cmp	r3, #0
  58 0018 08D1     		bne	.L4
 335:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 336:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 337:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 338:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 339:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
  59              		.loc 1 339 19
  60 001a 7B68     		ldr	r3, [r7, #4]
  61 001c 5B68     		ldr	r3, [r3, #4]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 8


  62              		.loc 1 339 8
  63 001e B3F5827F 		cmp	r3, #260
  64 0022 09D0     		beq	.L5
 340:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 341:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 342:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 343:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
 344:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 345:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 346:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
  65              		.loc 1 346 36
  66 0024 7B68     		ldr	r3, [r7, #4]
  67 0026 0022     		movs	r2, #0
  68 0028 DA61     		str	r2, [r3, #28]
  69 002a 05E0     		b	.L5
  70              	.L4:
 347:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 348:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 350:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 351:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 352:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 353:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 354:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
  71              		.loc 1 354 28
  72 002c 7B68     		ldr	r3, [r7, #4]
  73 002e 0022     		movs	r2, #0
  74 0030 1A61     		str	r2, [r3, #16]
 355:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
  75              		.loc 1 355 28
  76 0032 7B68     		ldr	r3, [r7, #4]
  77 0034 0022     		movs	r2, #0
  78 0036 5A61     		str	r2, [r3, #20]
  79              	.L5:
 356:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 357:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 358:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 359:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 360:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 361:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 362:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_LENGTH(hspi->Init.CRCLength));
 363:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 364:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
 365:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  80              		.loc 1 365 29
  81 0038 7B68     		ldr	r3, [r7, #4]
  82 003a 0022     		movs	r2, #0
  83 003c 9A62     		str	r2, [r3, #40]
 366:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 367:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 368:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
  84              		.loc 1 368 11
  85 003e 7B68     		ldr	r3, [r7, #4]
  86 0040 93F85D30 		ldrb	r3, [r3, #93]
  87 0044 DBB2     		uxtb	r3, r3
  88              		.loc 1 368 6
  89 0046 002B     		cmp	r3, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 9


  90 0048 06D1     		bne	.L6
 369:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 370:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 371:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
  91              		.loc 1 371 16
  92 004a 7B68     		ldr	r3, [r7, #4]
  93 004c 0022     		movs	r2, #0
  94 004e 83F85C20 		strb	r2, [r3, #92]
 372:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 373:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 374:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Init the SPI Callback settings */
 375:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 376:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
 378:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 379:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 380:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 381:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 382:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 383:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 384:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 385:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 386:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 387:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 388:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 389:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 390:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 391:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
 392:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 393:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
  95              		.loc 1 393 5
  96 0052 7868     		ldr	r0, [r7, #4]
  97 0054 FFF7FEFF 		bl	HAL_SPI_MspInit
  98              	.L6:
 394:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 395:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 396:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 397:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
  99              		.loc 1 397 15
 100 0058 7B68     		ldr	r3, [r7, #4]
 101 005a 0222     		movs	r2, #2
 102 005c 83F85D20 		strb	r2, [r3, #93]
 398:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 399:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 400:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 103              		.loc 1 400 3
 104 0060 7B68     		ldr	r3, [r7, #4]
 105 0062 1B68     		ldr	r3, [r3]
 106 0064 1A68     		ldr	r2, [r3]
 107 0066 7B68     		ldr	r3, [r7, #4]
 108 0068 1B68     		ldr	r3, [r3]
 109 006a 22F04002 		bic	r2, r2, #64
 110 006e 1A60     		str	r2, [r3]
 401:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 402:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Align by default the rs fifo threshold on the data size */
 403:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 111              		.loc 1 403 17
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 10


 112 0070 7B68     		ldr	r3, [r7, #4]
 113 0072 DB68     		ldr	r3, [r3, #12]
 114              		.loc 1 403 6
 115 0074 B3F5E06F 		cmp	r3, #1792
 116 0078 02D9     		bls	.L7
 404:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 405:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_HF;
 117              		.loc 1 405 11
 118 007a 0023     		movs	r3, #0
 119 007c FB60     		str	r3, [r7, #12]
 120 007e 02E0     		b	.L8
 121              	.L7:
 406:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 407:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 408:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 409:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_QF;
 122              		.loc 1 409 11
 123 0080 4FF48053 		mov	r3, #4096
 124 0084 FB60     		str	r3, [r7, #12]
 125              	.L8:
 410:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 411:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 412:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* CRC calculation is valid only for 16Bit and 8 Bit */
 413:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.DataSize != SPI_DATASIZE_16BIT) && (hspi->Init.DataSize != SPI_DATASIZE_8BIT))
 126              		.loc 1 413 18
 127 0086 7B68     		ldr	r3, [r7, #4]
 128 0088 DB68     		ldr	r3, [r3, #12]
 129              		.loc 1 413 6
 130 008a B3F5706F 		cmp	r3, #3840
 131 008e 07D0     		beq	.L9
 132              		.loc 1 413 65 discriminator 1
 133 0090 7B68     		ldr	r3, [r7, #4]
 134 0092 DB68     		ldr	r3, [r3, #12]
 135              		.loc 1 413 51 discriminator 1
 136 0094 B3F5E06F 		cmp	r3, #1792
 137 0098 02D0     		beq	.L9
 414:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 415:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* CRC must be disabled */
 416:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 138              		.loc 1 416 31
 139 009a 7B68     		ldr	r3, [r7, #4]
 140 009c 0022     		movs	r2, #0
 141 009e 9A62     		str	r2, [r3, #40]
 142              	.L9:
 417:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 418:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 419:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 420:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Clock polarity and phase, NSS management,
 421:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 422:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 143              		.loc 1 422 3
 144 00a0 7B68     		ldr	r3, [r7, #4]
 145 00a2 5B68     		ldr	r3, [r3, #4]
 146 00a4 03F48272 		and	r2, r3, #260
 147 00a8 7B68     		ldr	r3, [r7, #4]
 148 00aa 9B68     		ldr	r3, [r3, #8]
 149 00ac 03F40443 		and	r3, r3, #33792
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 11


 150 00b0 1A43     		orrs	r2, r2, r3
 151 00b2 7B68     		ldr	r3, [r7, #4]
 152 00b4 1B69     		ldr	r3, [r3, #16]
 153 00b6 03F00203 		and	r3, r3, #2
 154 00ba 1A43     		orrs	r2, r2, r3
 155 00bc 7B68     		ldr	r3, [r7, #4]
 156 00be 5B69     		ldr	r3, [r3, #20]
 157 00c0 03F00103 		and	r3, r3, #1
 158 00c4 1A43     		orrs	r2, r2, r3
 159 00c6 7B68     		ldr	r3, [r7, #4]
 160 00c8 9B69     		ldr	r3, [r3, #24]
 161 00ca 03F40073 		and	r3, r3, #512
 162 00ce 1A43     		orrs	r2, r2, r3
 163 00d0 7B68     		ldr	r3, [r7, #4]
 164 00d2 DB69     		ldr	r3, [r3, #28]
 165 00d4 03F03803 		and	r3, r3, #56
 166 00d8 1A43     		orrs	r2, r2, r3
 167 00da 7B68     		ldr	r3, [r7, #4]
 168 00dc 1B6A     		ldr	r3, [r3, #32]
 169 00de 03F08003 		and	r3, r3, #128
 170 00e2 42EA0301 		orr	r1, r2, r3
 171 00e6 7B68     		ldr	r3, [r7, #4]
 172 00e8 9B6A     		ldr	r3, [r3, #40]
 173 00ea 03F40052 		and	r2, r3, #8192
 174 00ee 7B68     		ldr	r3, [r7, #4]
 175 00f0 1B68     		ldr	r3, [r3]
 176 00f2 0A43     		orrs	r2, r2, r1
 177 00f4 1A60     		str	r2, [r3]
 423:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 424:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 425:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 426:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 427:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
 428:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
 429:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 430:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 431:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*---------------------------- SPIx CRCL Configuration -------------------*/
 432:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 433:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 434:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Align the CRC Length on the data size */
 435:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_DATASIZE)
 436:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 437:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* CRC Length aligned on the data size : value set by default */
 438:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 439:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 440:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_16BIT;
 441:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 442:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
 443:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 444:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_8BIT;
 445:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 446:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 447:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 448:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Configure : CRC Length */
 449:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
 450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 451:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCL);
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 12


 452:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 453:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 454:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 455:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 456:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure : NSS management, TI Mode, NSS Pulse, Data size and Rx Fifo threshold */
 457:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) |
 178              		.loc 1 457 3
 179 00f6 7B68     		ldr	r3, [r7, #4]
 180 00f8 9B69     		ldr	r3, [r3, #24]
 181 00fa 1B0C     		lsrs	r3, r3, #16
 182 00fc 03F00402 		and	r2, r3, #4
 183 0100 7B68     		ldr	r3, [r7, #4]
 184 0102 5B6A     		ldr	r3, [r3, #36]
 185 0104 03F01003 		and	r3, r3, #16
 186 0108 1A43     		orrs	r2, r2, r3
 187 010a 7B68     		ldr	r3, [r7, #4]
 188 010c 5B6B     		ldr	r3, [r3, #52]
 189 010e 03F00803 		and	r3, r3, #8
 190 0112 1A43     		orrs	r2, r2, r3
 191 0114 7B68     		ldr	r3, [r7, #4]
 192 0116 DB68     		ldr	r3, [r3, #12]
 193 0118 03F47063 		and	r3, r3, #3840
 194 011c 42EA0301 		orr	r1, r2, r3
 195 0120 FB68     		ldr	r3, [r7, #12]
 196 0122 03F48052 		and	r2, r3, #4096
 197 0126 7B68     		ldr	r3, [r7, #4]
 198 0128 1B68     		ldr	r3, [r3]
 199 012a 0A43     		orrs	r2, r2, r1
 200 012c 5A60     		str	r2, [r3, #4]
 458:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.TIMode & SPI_CR2_FRF) |
 459:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.NSSPMode & SPI_CR2_NSSP) |
 460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR2_DS_Msk) |
 461:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                   (frxth & SPI_CR2_FRXTH)));
 462:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 463:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 464:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 465:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 466:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 467:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 468:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 469:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 470:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 471:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 472:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 473:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 474:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 201              		.loc 1 474 3
 202 012e 7B68     		ldr	r3, [r7, #4]
 203 0130 1B68     		ldr	r3, [r3]
 204 0132 DA69     		ldr	r2, [r3, #28]
 205 0134 7B68     		ldr	r3, [r7, #4]
 206 0136 1B68     		ldr	r3, [r3]
 207 0138 22F40062 		bic	r2, r2, #2048
 208 013c DA61     		str	r2, [r3, #28]
 475:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 476:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 477:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 13


 209              		.loc 1 477 19
 210 013e 7B68     		ldr	r3, [r7, #4]
 211 0140 0022     		movs	r2, #0
 212 0142 1A66     		str	r2, [r3, #96]
 478:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 213              		.loc 1 478 19
 214 0144 7B68     		ldr	r3, [r7, #4]
 215 0146 0122     		movs	r2, #1
 216 0148 83F85D20 		strb	r2, [r3, #93]
 479:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 480:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 217              		.loc 1 480 10
 218 014c 0023     		movs	r3, #0
 219              	.L3:
 481:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 220              		.loc 1 481 1
 221 014e 1846     		mov	r0, r3
 222 0150 1037     		adds	r7, r7, #16
 223              	.LCFI3:
 224              		.cfi_def_cfa_offset 8
 225 0152 BD46     		mov	sp, r7
 226              	.LCFI4:
 227              		.cfi_def_cfa_register 13
 228              		@ sp needed
 229 0154 80BD     		pop	{r7, pc}
 230              		.cfi_endproc
 231              	.LFE132:
 233              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 234              		.align	1
 235              		.global	HAL_SPI_DeInit
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 240              	HAL_SPI_DeInit:
 241              	.LFB133:
 482:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 483:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 484:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
 485:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 486:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
 487:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
 488:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 489:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 490:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 242              		.loc 1 490 1
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 8
 245              		@ frame_needed = 1, uses_anonymous_args = 0
 246 0000 80B5     		push	{r7, lr}
 247              	.LCFI5:
 248              		.cfi_def_cfa_offset 8
 249              		.cfi_offset 7, -8
 250              		.cfi_offset 14, -4
 251 0002 82B0     		sub	sp, sp, #8
 252              	.LCFI6:
 253              		.cfi_def_cfa_offset 16
 254 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 14


 255              	.LCFI7:
 256              		.cfi_def_cfa_register 7
 257 0006 7860     		str	r0, [r7, #4]
 491:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 492:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi == NULL)
 258              		.loc 1 492 6
 259 0008 7B68     		ldr	r3, [r7, #4]
 260 000a 002B     		cmp	r3, #0
 261 000c 01D1     		bne	.L11
 493:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 494:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_ERROR;
 262              		.loc 1 494 12
 263 000e 0123     		movs	r3, #1
 264 0010 1AE0     		b	.L12
 265              	.L11:
 495:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 496:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 497:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check SPI Instance parameter */
 498:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 499:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 500:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 266              		.loc 1 500 15
 267 0012 7B68     		ldr	r3, [r7, #4]
 268 0014 0222     		movs	r2, #2
 269 0016 83F85D20 		strb	r2, [r3, #93]
 501:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 502:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 503:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 270              		.loc 1 503 3
 271 001a 7B68     		ldr	r3, [r7, #4]
 272 001c 1B68     		ldr	r3, [r3]
 273 001e 1A68     		ldr	r2, [r3]
 274 0020 7B68     		ldr	r3, [r7, #4]
 275 0022 1B68     		ldr	r3, [r3]
 276 0024 22F04002 		bic	r2, r2, #64
 277 0028 1A60     		str	r2, [r3]
 504:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 505:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 506:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 507:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 508:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 509:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 510:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 511:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 512:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 513:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
 514:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 515:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 278              		.loc 1 515 3
 279 002a 7868     		ldr	r0, [r7, #4]
 280 002c FFF7FEFF 		bl	HAL_SPI_MspDeInit
 516:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 517:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 518:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 281              		.loc 1 518 19
 282 0030 7B68     		ldr	r3, [r7, #4]
 283 0032 0022     		movs	r2, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 15


 284 0034 1A66     		str	r2, [r3, #96]
 519:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 285              		.loc 1 519 15
 286 0036 7B68     		ldr	r3, [r7, #4]
 287 0038 0022     		movs	r2, #0
 288 003a 83F85D20 		strb	r2, [r3, #93]
 520:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 521:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Release Lock */
 522:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 289              		.loc 1 522 3
 290 003e 7B68     		ldr	r3, [r7, #4]
 291 0040 0022     		movs	r2, #0
 292 0042 83F85C20 		strb	r2, [r3, #92]
 523:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 524:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 293              		.loc 1 524 10
 294 0046 0023     		movs	r3, #0
 295              	.L12:
 525:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 296              		.loc 1 525 1
 297 0048 1846     		mov	r0, r3
 298 004a 0837     		adds	r7, r7, #8
 299              	.LCFI8:
 300              		.cfi_def_cfa_offset 8
 301 004c BD46     		mov	sp, r7
 302              	.LCFI9:
 303              		.cfi_def_cfa_register 13
 304              		@ sp needed
 305 004e 80BD     		pop	{r7, pc}
 306              		.cfi_endproc
 307              	.LFE133:
 309              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 310              		.align	1
 311              		.weak	HAL_SPI_MspInit
 312              		.syntax unified
 313              		.thumb
 314              		.thumb_func
 316              	HAL_SPI_MspInit:
 317              	.LFB134:
 526:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 527:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 528:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 529:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 530:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
 531:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
 532:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 533:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 534:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 318              		.loc 1 534 1
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 8
 321              		@ frame_needed = 1, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 323 0000 80B4     		push	{r7}
 324              	.LCFI10:
 325              		.cfi_def_cfa_offset 4
 326              		.cfi_offset 7, -4
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 16


 327 0002 83B0     		sub	sp, sp, #12
 328              	.LCFI11:
 329              		.cfi_def_cfa_offset 16
 330 0004 00AF     		add	r7, sp, #0
 331              	.LCFI12:
 332              		.cfi_def_cfa_register 7
 333 0006 7860     		str	r0, [r7, #4]
 535:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 536:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
 537:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 538:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 539:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 540:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
 541:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 334              		.loc 1 541 1
 335 0008 00BF     		nop
 336 000a 0C37     		adds	r7, r7, #12
 337              	.LCFI13:
 338              		.cfi_def_cfa_offset 4
 339 000c BD46     		mov	sp, r7
 340              	.LCFI14:
 341              		.cfi_def_cfa_register 13
 342              		@ sp needed
 343 000e 5DF8047B 		ldr	r7, [sp], #4
 344              	.LCFI15:
 345              		.cfi_restore 7
 346              		.cfi_def_cfa_offset 0
 347 0012 7047     		bx	lr
 348              		.cfi_endproc
 349              	.LFE134:
 351              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 352              		.align	1
 353              		.weak	HAL_SPI_MspDeInit
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 358              	HAL_SPI_MspDeInit:
 359              	.LFB135:
 542:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 543:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 544:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 545:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 546:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
 547:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
 548:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 549:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 550:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 360              		.loc 1 550 1
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 8
 363              		@ frame_needed = 1, uses_anonymous_args = 0
 364              		@ link register save eliminated.
 365 0000 80B4     		push	{r7}
 366              	.LCFI16:
 367              		.cfi_def_cfa_offset 4
 368              		.cfi_offset 7, -4
 369 0002 83B0     		sub	sp, sp, #12
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 17


 370              	.LCFI17:
 371              		.cfi_def_cfa_offset 16
 372 0004 00AF     		add	r7, sp, #0
 373              	.LCFI18:
 374              		.cfi_def_cfa_register 7
 375 0006 7860     		str	r0, [r7, #4]
 551:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 552:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
 553:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 554:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 555:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 556:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
 557:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 376              		.loc 1 557 1
 377 0008 00BF     		nop
 378 000a 0C37     		adds	r7, r7, #12
 379              	.LCFI19:
 380              		.cfi_def_cfa_offset 4
 381 000c BD46     		mov	sp, r7
 382              	.LCFI20:
 383              		.cfi_def_cfa_register 13
 384              		@ sp needed
 385 000e 5DF8047B 		ldr	r7, [sp], #4
 386              	.LCFI21:
 387              		.cfi_restore 7
 388              		.cfi_def_cfa_offset 0
 389 0012 7047     		bx	lr
 390              		.cfi_endproc
 391              	.LFE135:
 393              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 394              		.align	1
 395              		.global	HAL_SPI_Transmit
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 400              	HAL_SPI_Transmit:
 401              	.LFB136:
 558:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 559:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 560:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 561:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 562:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 563:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 564:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 565:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 566:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 567:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
 568:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 569:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 570:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 571:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 572:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 573:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 574:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (pCallback == NULL)
 575:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 576:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update the error code */
 577:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 18


 578:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 579:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_ERROR;
 580:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 581:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process locked */
 582:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 583:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 584:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 585:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 586:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     switch (CallbackID)
 587:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 588:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 589:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 590:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 591:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 592:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 593:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
 594:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 595:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 596:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 597:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 598:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 599:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 600:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 601:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 602:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 603:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 604:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 605:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 606:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 607:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 608:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 609:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 610:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 611:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 612:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 613:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 614:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 615:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 616:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 617:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 618:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 619:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 620:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 621:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 622:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 623:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 624:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 625:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 626:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 627:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 628:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       default :
 629:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Update the error code */
 630:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 631:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 632:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Return error status */
 633:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         status =  HAL_ERROR;
 634:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 19


 635:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 636:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 637:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 638:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 639:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     switch (CallbackID)
 640:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 641:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 642:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 643:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 644:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 645:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 646:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 647:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 648:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 649:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       default :
 650:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Update the error code */
 651:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 652:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 653:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Return error status */
 654:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         status =  HAL_ERROR;
 655:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 656:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 657:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 658:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 659:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 660:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update the error code */
 661:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 662:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 663:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Return error status */
 664:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     status =  HAL_ERROR;
 665:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 666:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 667:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Release Lock */
 668:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 669:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return status;
 670:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 671:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 672:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 673:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 674:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 675:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 676:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 677:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 678:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
 679:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 680:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 681:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 682:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 683:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 684:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process locked */
 685:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 686:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 687:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 688:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 689:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     switch (CallbackID)
 690:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 691:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 20


 692:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 693:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 694:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 695:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 696:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 697:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 698:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 699:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 700:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 701:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 702:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 703:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 704:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 705:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 706:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 707:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 708:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 709:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 710:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 711:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 712:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
 713:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 714:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 715:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 716:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 717:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 718:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 719:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 720:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 721:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 722:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 723:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 724:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 725:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 726:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 727:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 728:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 729:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 730:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 731:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       default :
 732:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Update the error code */
 733:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 734:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 735:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Return error status */
 736:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         status =  HAL_ERROR;
 737:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 738:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 739:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 740:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 741:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 742:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     switch (CallbackID)
 743:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 744:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 745:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 746:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 747:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 748:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 21


 749:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 750:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 751:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 752:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       default :
 753:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Update the error code */
 754:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 755:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 756:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Return error status */
 757:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         status =  HAL_ERROR;
 758:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 759:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 760:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 761:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 762:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 763:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update the error code */
 764:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 765:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 766:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Return error status */
 767:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     status =  HAL_ERROR;
 768:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 769:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 770:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Release Lock */
 771:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 772:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return status;
 773:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 774:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 775:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 776:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
 777:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 778:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 779:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 780:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *  @brief   Data transfers functions
 781:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
 782:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @verbatim
 783:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ==============================================================================
 784:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                       ##### IO operation functions #####
 785:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  ===============================================================================
 786:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  [..]
 787:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 788:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     data transfers.
 789:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 790:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 791:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 792:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     (#) There are two modes of transfer:
 793:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 794:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 795:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             after finishing transfer.
 796:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 797:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 798:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             The end of the data processing will be indicated through the
 799:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 800:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             using DMA mode.
 801:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 802:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 803:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 804:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 805:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 22


 806:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 807:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 808:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @endverbatim
 809:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
 810:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 811:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 812:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
 813:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 814:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 815:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
 816:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 817:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
 818:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 819:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
 820:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
 821:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
 822:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 402              		.loc 1 822 1
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 32
 405              		@ frame_needed = 1, uses_anonymous_args = 0
 406 0000 80B5     		push	{r7, lr}
 407              	.LCFI22:
 408              		.cfi_def_cfa_offset 8
 409              		.cfi_offset 7, -8
 410              		.cfi_offset 14, -4
 411 0002 88B0     		sub	sp, sp, #32
 412              	.LCFI23:
 413              		.cfi_def_cfa_offset 40
 414 0004 00AF     		add	r7, sp, #0
 415              	.LCFI24:
 416              		.cfi_def_cfa_register 7
 417 0006 F860     		str	r0, [r7, #12]
 418 0008 B960     		str	r1, [r7, #8]
 419 000a 3B60     		str	r3, [r7]
 420 000c 1346     		mov	r3, r2	@ movhi
 421 000e FB80     		strh	r3, [r7, #6]	@ movhi
 823:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
 824:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 422              		.loc 1 824 21
 423 0010 0023     		movs	r3, #0
 424 0012 FB77     		strb	r3, [r7, #31]
 825:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 826:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 827:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
 828:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 829:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 830:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
 831:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 425              		.loc 1 831 3
 426 0014 FB68     		ldr	r3, [r7, #12]
 427 0016 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 428 001a 012B     		cmp	r3, #1
 429 001c 01D1     		bne	.L16
 430              		.loc 1 831 3 is_stmt 0 discriminator 1
 431 001e 0223     		movs	r3, #2
 432              		.loc 1 831 3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 23


 433 0020 5FE1     		b	.L17
 434              	.L16:
 435              		.loc 1 831 3 discriminator 2
 436 0022 FB68     		ldr	r3, [r7, #12]
 437 0024 0122     		movs	r2, #1
 438 0026 83F85C20 		strb	r2, [r3, #92]
 832:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 833:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 834:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 439              		.loc 1 834 15 is_stmt 1
 440 002a FFF7FEFF 		bl	HAL_GetTick
 441 002e B861     		str	r0, [r7, #24]
 835:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   initial_TxXferCount = Size;
 442              		.loc 1 835 23
 443 0030 FB88     		ldrh	r3, [r7, #6]	@ movhi
 444 0032 FB82     		strh	r3, [r7, #22]	@ movhi
 836:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 837:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 445              		.loc 1 837 11
 446 0034 FB68     		ldr	r3, [r7, #12]
 447 0036 93F85D30 		ldrb	r3, [r3, #93]
 448 003a DBB2     		uxtb	r3, r3
 449              		.loc 1 837 6
 450 003c 012B     		cmp	r3, #1
 451 003e 02D0     		beq	.L18
 838:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 839:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 452              		.loc 1 839 15
 453 0040 0223     		movs	r3, #2
 454 0042 FB77     		strb	r3, [r7, #31]
 840:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 455              		.loc 1 840 5
 456 0044 48E1     		b	.L19
 457              	.L18:
 841:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 843:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 458              		.loc 1 843 6
 459 0046 BB68     		ldr	r3, [r7, #8]
 460 0048 002B     		cmp	r3, #0
 461 004a 02D0     		beq	.L20
 462              		.loc 1 843 23 discriminator 1
 463 004c FB88     		ldrh	r3, [r7, #6]
 464 004e 002B     		cmp	r3, #0
 465 0050 02D1     		bne	.L21
 466              	.L20:
 844:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 845:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 467              		.loc 1 845 15
 468 0052 0123     		movs	r3, #1
 469 0054 FB77     		strb	r3, [r7, #31]
 846:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 470              		.loc 1 846 5
 471 0056 3FE1     		b	.L19
 472              	.L21:
 847:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 848:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 24


 849:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
 850:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 473              		.loc 1 850 21
 474 0058 FB68     		ldr	r3, [r7, #12]
 475 005a 0322     		movs	r2, #3
 476 005c 83F85D20 		strb	r2, [r3, #93]
 851:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 477              		.loc 1 851 21
 478 0060 FB68     		ldr	r3, [r7, #12]
 479 0062 0022     		movs	r2, #0
 480 0064 1A66     		str	r2, [r3, #96]
 852:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 481              		.loc 1 852 21
 482 0066 FB68     		ldr	r3, [r7, #12]
 483 0068 BA68     		ldr	r2, [r7, #8]
 484 006a 9A63     		str	r2, [r3, #56]
 853:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 485              		.loc 1 853 21
 486 006c FB68     		ldr	r3, [r7, #12]
 487 006e FA88     		ldrh	r2, [r7, #6]	@ movhi
 488 0070 9A87     		strh	r2, [r3, #60]	@ movhi
 854:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 489              		.loc 1 854 21
 490 0072 FB68     		ldr	r3, [r7, #12]
 491 0074 FA88     		ldrh	r2, [r7, #6]	@ movhi
 492 0076 DA87     		strh	r2, [r3, #62]	@ movhi
 855:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 856:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 857:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 493              		.loc 1 857 21
 494 0078 FB68     		ldr	r3, [r7, #12]
 495 007a 0022     		movs	r2, #0
 496 007c 1A64     		str	r2, [r3, #64]
 858:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 497              		.loc 1 858 21
 498 007e FB68     		ldr	r3, [r7, #12]
 499 0080 0022     		movs	r2, #0
 500 0082 A3F84420 		strh	r2, [r3, #68]	@ movhi
 859:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 501              		.loc 1 859 21
 502 0086 FB68     		ldr	r3, [r7, #12]
 503 0088 0022     		movs	r2, #0
 504 008a A3F84620 		strh	r2, [r3, #70]	@ movhi
 860:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 505              		.loc 1 860 21
 506 008e FB68     		ldr	r3, [r7, #12]
 507 0090 0022     		movs	r2, #0
 508 0092 1A65     		str	r2, [r3, #80]
 861:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 509              		.loc 1 861 21
 510 0094 FB68     		ldr	r3, [r7, #12]
 511 0096 0022     		movs	r2, #0
 512 0098 DA64     		str	r2, [r3, #76]
 862:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 863:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 864:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 513              		.loc 1 864 17
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 25


 514 009a FB68     		ldr	r3, [r7, #12]
 515 009c 9B68     		ldr	r3, [r3, #8]
 516              		.loc 1 864 6
 517 009e B3F5004F 		cmp	r3, #32768
 518 00a2 0FD1     		bne	.L22
 865:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 866:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 867:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 519              		.loc 1 867 5
 520 00a4 FB68     		ldr	r3, [r7, #12]
 521 00a6 1B68     		ldr	r3, [r3]
 522 00a8 1A68     		ldr	r2, [r3]
 523 00aa FB68     		ldr	r3, [r7, #12]
 524 00ac 1B68     		ldr	r3, [r3]
 525 00ae 22F04002 		bic	r2, r2, #64
 526 00b2 1A60     		str	r2, [r3]
 868:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 527              		.loc 1 868 5
 528 00b4 FB68     		ldr	r3, [r7, #12]
 529 00b6 1B68     		ldr	r3, [r3]
 530 00b8 1A68     		ldr	r2, [r3]
 531 00ba FB68     		ldr	r3, [r7, #12]
 532 00bc 1B68     		ldr	r3, [r3]
 533 00be 42F48042 		orr	r2, r2, #16384
 534 00c2 1A60     		str	r2, [r3]
 535              	.L22:
 869:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 870:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 871:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 872:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
 873:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 874:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 875:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 876:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 877:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 878:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 879:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 880:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 536              		.loc 1 880 12
 537 00c4 FB68     		ldr	r3, [r7, #12]
 538 00c6 1B68     		ldr	r3, [r3]
 539              		.loc 1 880 22
 540 00c8 1B68     		ldr	r3, [r3]
 541              		.loc 1 880 28
 542 00ca 03F04003 		and	r3, r3, #64
 543              		.loc 1 880 6
 544 00ce 402B     		cmp	r3, #64
 545 00d0 07D0     		beq	.L23
 881:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 882:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
 883:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 546              		.loc 1 883 5
 547 00d2 FB68     		ldr	r3, [r7, #12]
 548 00d4 1B68     		ldr	r3, [r3]
 549 00d6 1A68     		ldr	r2, [r3]
 550 00d8 FB68     		ldr	r3, [r7, #12]
 551 00da 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 26


 552 00dc 42F04002 		orr	r2, r2, #64
 553 00e0 1A60     		str	r2, [r3]
 554              	.L23:
 884:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 885:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 886:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 887:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 555              		.loc 1 887 17
 556 00e2 FB68     		ldr	r3, [r7, #12]
 557 00e4 DB68     		ldr	r3, [r3, #12]
 558              		.loc 1 887 6
 559 00e6 B3F5E06F 		cmp	r3, #1792
 560 00ea 4FD9     		bls	.L24
 888:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 889:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 561              		.loc 1 889 20
 562 00ec FB68     		ldr	r3, [r7, #12]
 563 00ee 5B68     		ldr	r3, [r3, #4]
 564              		.loc 1 889 8
 565 00f0 002B     		cmp	r3, #0
 566 00f2 02D0     		beq	.L25
 567              		.loc 1 889 45 discriminator 1
 568 00f4 FB8A     		ldrh	r3, [r7, #22]
 569 00f6 012B     		cmp	r3, #1
 570 00f8 42D1     		bne	.L27
 571              	.L25:
 890:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 891:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 572              		.loc 1 891 46
 573 00fa FB68     		ldr	r3, [r7, #12]
 574 00fc 9B6B     		ldr	r3, [r3, #56]
 575              		.loc 1 891 28
 576 00fe 1A88     		ldrh	r2, [r3]
 577              		.loc 1 891 11
 578 0100 FB68     		ldr	r3, [r7, #12]
 579 0102 1B68     		ldr	r3, [r3]
 580              		.loc 1 891 26
 581 0104 DA60     		str	r2, [r3, #12]
 892:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 582              		.loc 1 892 11
 583 0106 FB68     		ldr	r3, [r7, #12]
 584 0108 9B6B     		ldr	r3, [r3, #56]
 585              		.loc 1 892 24
 586 010a 9A1C     		adds	r2, r3, #2
 587 010c FB68     		ldr	r3, [r7, #12]
 588 010e 9A63     		str	r2, [r3, #56]
 893:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->TxXferCount--;
 589              		.loc 1 893 11
 590 0110 FB68     		ldr	r3, [r7, #12]
 591 0112 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 592 0114 9BB2     		uxth	r3, r3
 593              		.loc 1 893 24
 594 0116 013B     		subs	r3, r3, #1
 595 0118 9AB2     		uxth	r2, r3
 596 011a FB68     		ldr	r3, [r7, #12]
 597 011c DA87     		strh	r2, [r3, #62]	@ movhi
 894:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 27


 895:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 598              		.loc 1 896 11
 599 011e 2FE0     		b	.L27
 600              	.L32:
 897:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 898:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 899:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 601              		.loc 1 899 11
 602 0120 FB68     		ldr	r3, [r7, #12]
 603 0122 1B68     		ldr	r3, [r3]
 604 0124 9B68     		ldr	r3, [r3, #8]
 605 0126 03F00203 		and	r3, r3, #2
 606              		.loc 1 899 10
 607 012a 022B     		cmp	r3, #2
 608 012c 12D1     		bne	.L28
 900:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 901:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 609              		.loc 1 901 48
 610 012e FB68     		ldr	r3, [r7, #12]
 611 0130 9B6B     		ldr	r3, [r3, #56]
 612              		.loc 1 901 30
 613 0132 1A88     		ldrh	r2, [r3]
 614              		.loc 1 901 13
 615 0134 FB68     		ldr	r3, [r7, #12]
 616 0136 1B68     		ldr	r3, [r3]
 617              		.loc 1 901 28
 618 0138 DA60     		str	r2, [r3, #12]
 902:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 619              		.loc 1 902 13
 620 013a FB68     		ldr	r3, [r7, #12]
 621 013c 9B6B     		ldr	r3, [r3, #56]
 622              		.loc 1 902 26
 623 013e 9A1C     		adds	r2, r3, #2
 624 0140 FB68     		ldr	r3, [r7, #12]
 625 0142 9A63     		str	r2, [r3, #56]
 903:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount--;
 626              		.loc 1 903 13
 627 0144 FB68     		ldr	r3, [r7, #12]
 628 0146 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 629 0148 9BB2     		uxth	r3, r3
 630              		.loc 1 903 26
 631 014a 013B     		subs	r3, r3, #1
 632 014c 9AB2     		uxth	r2, r3
 633 014e FB68     		ldr	r3, [r7, #12]
 634 0150 DA87     		strh	r2, [r3, #62]	@ movhi
 635 0152 15E0     		b	.L27
 636              	.L28:
 904:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 905:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
 906:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 907:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Timeout management */
 908:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 637              		.loc 1 908 16
 638 0154 FFF7FEFF 		bl	HAL_GetTick
 639 0158 0246     		mov	r2, r0
 640              		.loc 1 908 30 discriminator 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 28


 641 015a BB69     		ldr	r3, [r7, #24]
 642 015c D31A     		subs	r3, r2, r3
 643              		.loc 1 908 12 discriminator 1
 644 015e 3A68     		ldr	r2, [r7]
 645 0160 9A42     		cmp	r2, r3
 646 0162 03D8     		bhi	.L30
 647              		.loc 1 908 56 discriminator 1
 648 0164 3B68     		ldr	r3, [r7]
 649 0166 B3F1FF3F 		cmp	r3, #-1
 650 016a 02D1     		bne	.L31
 651              	.L30:
 652              		.loc 1 908 87 discriminator 3
 653 016c 3B68     		ldr	r3, [r7]
 654 016e 002B     		cmp	r3, #0
 655 0170 06D1     		bne	.L27
 656              	.L31:
 909:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 910:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 657              		.loc 1 910 21
 658 0172 0323     		movs	r3, #3
 659 0174 FB77     		strb	r3, [r7, #31]
 911:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 660              		.loc 1 911 23
 661 0176 FB68     		ldr	r3, [r7, #12]
 662 0178 0122     		movs	r2, #1
 663 017a 83F85D20 		strb	r2, [r3, #93]
 912:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
 664              		.loc 1 912 11
 665 017e ABE0     		b	.L19
 666              	.L27:
 896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 667              		.loc 1 896 16
 668 0180 FB68     		ldr	r3, [r7, #12]
 669 0182 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 670 0184 9BB2     		uxth	r3, r3
 896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 671              		.loc 1 896 30
 672 0186 002B     		cmp	r3, #0
 673 0188 CAD1     		bne	.L32
 674 018a 80E0     		b	.L33
 675              	.L24:
 913:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
 914:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 915:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 916:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 917:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 918:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 919:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 920:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 676              		.loc 1 920 20
 677 018c FB68     		ldr	r3, [r7, #12]
 678 018e 5B68     		ldr	r3, [r3, #4]
 679              		.loc 1 920 8
 680 0190 002B     		cmp	r3, #0
 681 0192 02D0     		beq	.L34
 682              		.loc 1 920 45 discriminator 1
 683 0194 FB8A     		ldrh	r3, [r7, #22]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 29


 684 0196 012B     		cmp	r3, #1
 685 0198 74D1     		bne	.L37
 686              	.L34:
 921:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 922:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
 687              		.loc 1 922 15
 688 019a FB68     		ldr	r3, [r7, #12]
 689 019c DB8F     		ldrh	r3, [r3, #62]	@ movhi
 690 019e 9BB2     		uxth	r3, r3
 691              		.loc 1 922 10
 692 01a0 012B     		cmp	r3, #1
 693 01a2 12D9     		bls	.L36
 923:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 924:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* write on the data register in packing mode */
 925:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 694              		.loc 1 925 48
 695 01a4 FB68     		ldr	r3, [r7, #12]
 696 01a6 9B6B     		ldr	r3, [r3, #56]
 697              		.loc 1 925 30
 698 01a8 1A88     		ldrh	r2, [r3]
 699              		.loc 1 925 13
 700 01aa FB68     		ldr	r3, [r7, #12]
 701 01ac 1B68     		ldr	r3, [r3]
 702              		.loc 1 925 28
 703 01ae DA60     		str	r2, [r3, #12]
 926:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 704              		.loc 1 926 13
 705 01b0 FB68     		ldr	r3, [r7, #12]
 706 01b2 9B6B     		ldr	r3, [r3, #56]
 707              		.loc 1 926 26
 708 01b4 9A1C     		adds	r2, r3, #2
 709 01b6 FB68     		ldr	r3, [r7, #12]
 710 01b8 9A63     		str	r2, [r3, #56]
 927:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 711              		.loc 1 927 13
 712 01ba FB68     		ldr	r3, [r7, #12]
 713 01bc DB8F     		ldrh	r3, [r3, #62]	@ movhi
 714 01be 9BB2     		uxth	r3, r3
 715              		.loc 1 927 27
 716 01c0 023B     		subs	r3, r3, #2
 717 01c2 9AB2     		uxth	r2, r3
 718 01c4 FB68     		ldr	r3, [r7, #12]
 719 01c6 DA87     		strh	r2, [r3, #62]	@ movhi
 720 01c8 5CE0     		b	.L37
 721              	.L36:
 928:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 929:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
 930:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 931:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 722              		.loc 1 931 56
 723 01ca FB68     		ldr	r3, [r7, #12]
 724 01cc 9A6B     		ldr	r2, [r3, #56]
 725              		.loc 1 931 32
 726 01ce FB68     		ldr	r3, [r7, #12]
 727 01d0 1B68     		ldr	r3, [r3]
 728              		.loc 1 931 27
 729 01d2 0C33     		adds	r3, r3, #12
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 30


 730              		.loc 1 931 51
 731 01d4 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 732              		.loc 1 931 48
 733 01d6 1A70     		strb	r2, [r3]
 932:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 734              		.loc 1 932 13
 735 01d8 FB68     		ldr	r3, [r7, #12]
 736 01da 9B6B     		ldr	r3, [r3, #56]
 737              		.loc 1 932 26
 738 01dc 5A1C     		adds	r2, r3, #1
 739 01de FB68     		ldr	r3, [r7, #12]
 740 01e0 9A63     		str	r2, [r3, #56]
 933:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount--;
 741              		.loc 1 933 13
 742 01e2 FB68     		ldr	r3, [r7, #12]
 743 01e4 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 744 01e6 9BB2     		uxth	r3, r3
 745              		.loc 1 933 26
 746 01e8 013B     		subs	r3, r3, #1
 747 01ea 9AB2     		uxth	r2, r3
 748 01ec FB68     		ldr	r3, [r7, #12]
 749 01ee DA87     		strh	r2, [r3, #62]	@ movhi
 934:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 935:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 750              		.loc 1 936 11
 751 01f0 48E0     		b	.L37
 752              	.L43:
 937:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 938:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 939:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 753              		.loc 1 939 11
 754 01f2 FB68     		ldr	r3, [r7, #12]
 755 01f4 1B68     		ldr	r3, [r3]
 756 01f6 9B68     		ldr	r3, [r3, #8]
 757 01f8 03F00203 		and	r3, r3, #2
 758              		.loc 1 939 10
 759 01fc 022B     		cmp	r3, #2
 760 01fe 2BD1     		bne	.L38
 940:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 941:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
 761              		.loc 1 941 17
 762 0200 FB68     		ldr	r3, [r7, #12]
 763 0202 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 764 0204 9BB2     		uxth	r3, r3
 765              		.loc 1 941 12
 766 0206 012B     		cmp	r3, #1
 767 0208 12D9     		bls	.L39
 942:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 943:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* write on the data register in packing mode */
 944:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 768              		.loc 1 944 50
 769 020a FB68     		ldr	r3, [r7, #12]
 770 020c 9B6B     		ldr	r3, [r3, #56]
 771              		.loc 1 944 32
 772 020e 1A88     		ldrh	r2, [r3]
 773              		.loc 1 944 15
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 31


 774 0210 FB68     		ldr	r3, [r7, #12]
 775 0212 1B68     		ldr	r3, [r3]
 776              		.loc 1 944 30
 777 0214 DA60     		str	r2, [r3, #12]
 945:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 778              		.loc 1 945 15
 779 0216 FB68     		ldr	r3, [r7, #12]
 780 0218 9B6B     		ldr	r3, [r3, #56]
 781              		.loc 1 945 28
 782 021a 9A1C     		adds	r2, r3, #2
 783 021c FB68     		ldr	r3, [r7, #12]
 784 021e 9A63     		str	r2, [r3, #56]
 946:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 785              		.loc 1 946 15
 786 0220 FB68     		ldr	r3, [r7, #12]
 787 0222 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 788 0224 9BB2     		uxth	r3, r3
 789              		.loc 1 946 29
 790 0226 023B     		subs	r3, r3, #2
 791 0228 9AB2     		uxth	r2, r3
 792 022a FB68     		ldr	r3, [r7, #12]
 793 022c DA87     		strh	r2, [r3, #62]	@ movhi
 794 022e 29E0     		b	.L37
 795              	.L39:
 947:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
 948:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         else
 949:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 950:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 796              		.loc 1 950 58
 797 0230 FB68     		ldr	r3, [r7, #12]
 798 0232 9A6B     		ldr	r2, [r3, #56]
 799              		.loc 1 950 34
 800 0234 FB68     		ldr	r3, [r7, #12]
 801 0236 1B68     		ldr	r3, [r3]
 802              		.loc 1 950 29
 803 0238 0C33     		adds	r3, r3, #12
 804              		.loc 1 950 53
 805 023a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 806              		.loc 1 950 50
 807 023c 1A70     		strb	r2, [r3]
 951:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 808              		.loc 1 951 15
 809 023e FB68     		ldr	r3, [r7, #12]
 810 0240 9B6B     		ldr	r3, [r3, #56]
 811              		.loc 1 951 27
 812 0242 5A1C     		adds	r2, r3, #1
 813 0244 FB68     		ldr	r3, [r7, #12]
 814 0246 9A63     		str	r2, [r3, #56]
 952:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->TxXferCount--;
 815              		.loc 1 952 15
 816 0248 FB68     		ldr	r3, [r7, #12]
 817 024a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 818 024c 9BB2     		uxth	r3, r3
 819              		.loc 1 952 28
 820 024e 013B     		subs	r3, r3, #1
 821 0250 9AB2     		uxth	r2, r3
 822 0252 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 32


 823 0254 DA87     		strh	r2, [r3, #62]	@ movhi
 824 0256 15E0     		b	.L37
 825              	.L38:
 953:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
 954:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 955:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
 956:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
 957:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Timeout management */
 958:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 826              		.loc 1 958 16
 827 0258 FFF7FEFF 		bl	HAL_GetTick
 828 025c 0246     		mov	r2, r0
 829              		.loc 1 958 30 discriminator 1
 830 025e BB69     		ldr	r3, [r7, #24]
 831 0260 D31A     		subs	r3, r2, r3
 832              		.loc 1 958 12 discriminator 1
 833 0262 3A68     		ldr	r2, [r7]
 834 0264 9A42     		cmp	r2, r3
 835 0266 03D8     		bhi	.L41
 836              		.loc 1 958 56 discriminator 1
 837 0268 3B68     		ldr	r3, [r7]
 838 026a B3F1FF3F 		cmp	r3, #-1
 839 026e 02D1     		bne	.L42
 840              	.L41:
 841              		.loc 1 958 87 discriminator 3
 842 0270 3B68     		ldr	r3, [r7]
 843 0272 002B     		cmp	r3, #0
 844 0274 06D1     		bne	.L37
 845              	.L42:
 959:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 960:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 846              		.loc 1 960 21
 847 0276 0323     		movs	r3, #3
 848 0278 FB77     		strb	r3, [r7, #31]
 961:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 849              		.loc 1 961 23
 850 027a FB68     		ldr	r3, [r7, #12]
 851 027c 0122     		movs	r2, #1
 852 027e 83F85D20 		strb	r2, [r3, #93]
 962:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
 853              		.loc 1 962 11
 854 0282 29E0     		b	.L19
 855              	.L37:
 936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 856              		.loc 1 936 16
 857 0284 FB68     		ldr	r3, [r7, #12]
 858 0286 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 859 0288 9BB2     		uxth	r3, r3
 936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 860              		.loc 1 936 30
 861 028a 002B     		cmp	r3, #0
 862 028c B1D1     		bne	.L43
 863              	.L33:
 963:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
 964:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
 965:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 966:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 33


 967:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 968:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable CRC Transmission */
 969:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 970:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 971:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 972:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 973:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 975:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
 976:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 864              		.loc 1 976 7
 865 028e BA69     		ldr	r2, [r7, #24]
 866 0290 3968     		ldr	r1, [r7]
 867 0292 F868     		ldr	r0, [r7, #12]
 868 0294 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 869 0298 0346     		mov	r3, r0
 870              		.loc 1 976 6 discriminator 1
 871 029a 002B     		cmp	r3, #0
 872 029c 02D0     		beq	.L44
 977:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 978:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 873              		.loc 1 978 21
 874 029e FB68     		ldr	r3, [r7, #12]
 875 02a0 2022     		movs	r2, #32
 876 02a2 1A66     		str	r2, [r3, #96]
 877              	.L44:
 979:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 980:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 981:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 982:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 878              		.loc 1 982 17
 879 02a4 FB68     		ldr	r3, [r7, #12]
 880 02a6 9B68     		ldr	r3, [r3, #8]
 881              		.loc 1 982 6
 882 02a8 002B     		cmp	r3, #0
 883 02aa 0AD1     		bne	.L45
 884              	.LBB2:
 983:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 984:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 885              		.loc 1 984 5
 886 02ac 0023     		movs	r3, #0
 887 02ae 3B61     		str	r3, [r7, #16]
 888 02b0 FB68     		ldr	r3, [r7, #12]
 889 02b2 1B68     		ldr	r3, [r3]
 890 02b4 DB68     		ldr	r3, [r3, #12]
 891 02b6 3B61     		str	r3, [r7, #16]
 892 02b8 FB68     		ldr	r3, [r7, #12]
 893 02ba 1B68     		ldr	r3, [r3]
 894 02bc 9B68     		ldr	r3, [r3, #8]
 895 02be 3B61     		str	r3, [r7, #16]
 896 02c0 3B69     		ldr	r3, [r7, #16]
 897              	.L45:
 898              	.LBE2:
 985:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 986:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 987:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 899              		.loc 1 987 11
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 34


 900 02c2 FB68     		ldr	r3, [r7, #12]
 901 02c4 1B6E     		ldr	r3, [r3, #96]
 902              		.loc 1 987 6
 903 02c6 002B     		cmp	r3, #0
 904 02c8 02D0     		beq	.L46
 988:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 989:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 905              		.loc 1 989 15
 906 02ca 0123     		movs	r3, #1
 907 02cc FB77     		strb	r3, [r7, #31]
 908 02ce 03E0     		b	.L19
 909              	.L46:
 990:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 991:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
 992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 993:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 910              		.loc 1 993 17
 911 02d0 FB68     		ldr	r3, [r7, #12]
 912 02d2 0122     		movs	r2, #1
 913 02d4 83F85D20 		strb	r2, [r3, #93]
 914              	.L19:
 994:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
 995:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
 996:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error:
 997:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
 998:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 915              		.loc 1 998 3
 916 02d8 FB68     		ldr	r3, [r7, #12]
 917 02da 0022     		movs	r2, #0
 918 02dc 83F85C20 		strb	r2, [r3, #92]
 999:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 919              		.loc 1 999 10
 920 02e0 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 921              	.L17:
1000:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 922              		.loc 1 1000 1
 923 02e2 1846     		mov	r0, r3
 924 02e4 2037     		adds	r7, r7, #32
 925              	.LCFI25:
 926              		.cfi_def_cfa_offset 8
 927 02e6 BD46     		mov	sp, r7
 928              	.LCFI26:
 929              		.cfi_def_cfa_register 13
 930              		@ sp needed
 931 02e8 80BD     		pop	{r7, pc}
 932              		.cfi_endproc
 933              	.LFE136:
 935              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 936              		.align	1
 937              		.global	HAL_SPI_Receive
 938              		.syntax unified
 939              		.thumb
 940              		.thumb_func
 942              	HAL_SPI_Receive:
 943              	.LFB137:
1001:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1002:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 35


1003:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
1004:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1005:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1006:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1007:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be received
1008:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
1009:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1010:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1011:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
1012:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 944              		.loc 1 1012 1
 945              		.cfi_startproc
 946              		@ args = 0, pretend = 0, frame = 24
 947              		@ frame_needed = 1, uses_anonymous_args = 0
 948 0000 80B5     		push	{r7, lr}
 949              	.LCFI27:
 950              		.cfi_def_cfa_offset 8
 951              		.cfi_offset 7, -8
 952              		.cfi_offset 14, -4
 953 0002 88B0     		sub	sp, sp, #32
 954              	.LCFI28:
 955              		.cfi_def_cfa_offset 40
 956 0004 02AF     		add	r7, sp, #8
 957              	.LCFI29:
 958              		.cfi_def_cfa 7, 32
 959 0006 F860     		str	r0, [r7, #12]
 960 0008 B960     		str	r1, [r7, #8]
 961 000a 3B60     		str	r3, [r7]
 962 000c 1346     		mov	r3, r2	@ movhi
 963 000e FB80     		strh	r3, [r7, #6]	@ movhi
1013:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1014:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1015:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
1016:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
1017:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1018:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
1019:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 964              		.loc 1 1019 21
 965 0010 0023     		movs	r3, #0
 966 0012 FB75     		strb	r3, [r7, #23]
1020:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1021:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 967              		.loc 1 1021 11
 968 0014 FB68     		ldr	r3, [r7, #12]
 969 0016 93F85D30 		ldrb	r3, [r3, #93]
 970 001a DBB2     		uxtb	r3, r3
 971              		.loc 1 1021 6
 972 001c 012B     		cmp	r3, #1
 973 001e 02D0     		beq	.L48
1022:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1023:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 974              		.loc 1 1023 15
 975 0020 0223     		movs	r3, #2
 976 0022 FB75     		strb	r3, [r7, #23]
1024:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 977              		.loc 1 1024 5
 978 0024 1AE1     		b	.L49
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 36


 979              	.L48:
1025:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1026:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1027:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 980              		.loc 1 1027 18
 981 0026 FB68     		ldr	r3, [r7, #12]
 982 0028 5B68     		ldr	r3, [r3, #4]
 983              		.loc 1 1027 6
 984 002a B3F5827F 		cmp	r3, #260
 985 002e 12D1     		bne	.L50
 986              		.loc 1 1027 58 discriminator 1
 987 0030 FB68     		ldr	r3, [r7, #12]
 988 0032 9B68     		ldr	r3, [r3, #8]
 989              		.loc 1 1027 44 discriminator 1
 990 0034 002B     		cmp	r3, #0
 991 0036 0ED1     		bne	.L50
1028:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1029:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 992              		.loc 1 1029 17
 993 0038 FB68     		ldr	r3, [r7, #12]
 994 003a 0422     		movs	r2, #4
 995 003c 83F85D20 		strb	r2, [r3, #93]
1030:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1031:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 996              		.loc 1 1031 12
 997 0040 FA88     		ldrh	r2, [r7, #6]
 998 0042 3B68     		ldr	r3, [r7]
 999 0044 0093     		str	r3, [sp]
 1000 0046 1346     		mov	r3, r2
 1001 0048 BA68     		ldr	r2, [r7, #8]
 1002 004a B968     		ldr	r1, [r7, #8]
 1003 004c F868     		ldr	r0, [r7, #12]
 1004 004e FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1005 0052 0346     		mov	r3, r0
 1006 0054 07E1     		b	.L51
 1007              	.L50:
1032:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1033:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1034:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
1035:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1008              		.loc 1 1035 3
 1009 0056 FB68     		ldr	r3, [r7, #12]
 1010 0058 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 1011 005c 012B     		cmp	r3, #1
 1012 005e 01D1     		bne	.L52
 1013              		.loc 1 1035 3 is_stmt 0 discriminator 1
 1014 0060 0223     		movs	r3, #2
 1015              		.loc 1 1035 3
 1016 0062 00E1     		b	.L51
 1017              	.L52:
 1018              		.loc 1 1035 3 discriminator 2
 1019 0064 FB68     		ldr	r3, [r7, #12]
 1020 0066 0122     		movs	r2, #1
 1021 0068 83F85C20 		strb	r2, [r3, #92]
1036:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1037:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1038:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 37


 1022              		.loc 1 1038 15 is_stmt 1
 1023 006c FFF7FEFF 		bl	HAL_GetTick
 1024 0070 3861     		str	r0, [r7, #16]
1039:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1040:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 1025              		.loc 1 1040 6
 1026 0072 BB68     		ldr	r3, [r7, #8]
 1027 0074 002B     		cmp	r3, #0
 1028 0076 02D0     		beq	.L53
 1029              		.loc 1 1040 23 discriminator 1
 1030 0078 FB88     		ldrh	r3, [r7, #6]
 1031 007a 002B     		cmp	r3, #0
 1032 007c 02D1     		bne	.L54
 1033              	.L53:
1041:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1042:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1034              		.loc 1 1042 15
 1035 007e 0123     		movs	r3, #1
 1036 0080 FB75     		strb	r3, [r7, #23]
1043:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 1037              		.loc 1 1043 5
 1038 0082 EBE0     		b	.L49
 1039              	.L54:
1044:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1045:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1046:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1047:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 1040              		.loc 1 1047 21
 1041 0084 FB68     		ldr	r3, [r7, #12]
 1042 0086 0422     		movs	r2, #4
 1043 0088 83F85D20 		strb	r2, [r3, #93]
1048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1044              		.loc 1 1048 21
 1045 008c FB68     		ldr	r3, [r7, #12]
 1046 008e 0022     		movs	r2, #0
 1047 0090 1A66     		str	r2, [r3, #96]
1049:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1048              		.loc 1 1049 21
 1049 0092 FB68     		ldr	r3, [r7, #12]
 1050 0094 BA68     		ldr	r2, [r7, #8]
 1051 0096 1A64     		str	r2, [r3, #64]
1050:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1052              		.loc 1 1050 21
 1053 0098 FB68     		ldr	r3, [r7, #12]
 1054 009a FA88     		ldrh	r2, [r7, #6]	@ movhi
 1055 009c A3F84420 		strh	r2, [r3, #68]	@ movhi
1051:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1056              		.loc 1 1051 21
 1057 00a0 FB68     		ldr	r3, [r7, #12]
 1058 00a2 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1059 00a4 A3F84620 		strh	r2, [r3, #70]	@ movhi
1052:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1053:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1054:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 1060              		.loc 1 1054 21
 1061 00a8 FB68     		ldr	r3, [r7, #12]
 1062 00aa 0022     		movs	r2, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 38


 1063 00ac 9A63     		str	r2, [r3, #56]
1055:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1064              		.loc 1 1055 21
 1065 00ae FB68     		ldr	r3, [r7, #12]
 1066 00b0 0022     		movs	r2, #0
 1067 00b2 9A87     		strh	r2, [r3, #60]	@ movhi
1056:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1068              		.loc 1 1056 21
 1069 00b4 FB68     		ldr	r3, [r7, #12]
 1070 00b6 0022     		movs	r2, #0
 1071 00b8 DA87     		strh	r2, [r3, #62]	@ movhi
1057:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1072              		.loc 1 1057 21
 1073 00ba FB68     		ldr	r3, [r7, #12]
 1074 00bc 0022     		movs	r2, #0
 1075 00be DA64     		str	r2, [r3, #76]
1058:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1076              		.loc 1 1058 21
 1077 00c0 FB68     		ldr	r3, [r7, #12]
 1078 00c2 0022     		movs	r2, #0
 1079 00c4 1A65     		str	r2, [r3, #80]
1059:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1060:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1061:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1062:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1063:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1064:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1065:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
1066:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount--;
1067:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1068:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1069:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1070:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
1071:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 1080              		.loc 1 1071 17
 1081 00c6 FB68     		ldr	r3, [r7, #12]
 1082 00c8 DB68     		ldr	r3, [r3, #12]
 1083              		.loc 1 1071 6
 1084 00ca B3F5E06F 		cmp	r3, #1792
 1085 00ce 08D9     		bls	.L55
1072:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1073:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
1074:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1086              		.loc 1 1074 5
 1087 00d0 FB68     		ldr	r3, [r7, #12]
 1088 00d2 1B68     		ldr	r3, [r3]
 1089 00d4 5A68     		ldr	r2, [r3, #4]
 1090 00d6 FB68     		ldr	r3, [r7, #12]
 1091 00d8 1B68     		ldr	r3, [r3]
 1092 00da 22F48052 		bic	r2, r2, #4096
 1093 00de 5A60     		str	r2, [r3, #4]
 1094 00e0 07E0     		b	.L56
 1095              	.L55:
1075:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1076:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1077:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1078:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 39


1079:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1096              		.loc 1 1079 5
 1097 00e2 FB68     		ldr	r3, [r7, #12]
 1098 00e4 1B68     		ldr	r3, [r3]
 1099 00e6 5A68     		ldr	r2, [r3, #4]
 1100 00e8 FB68     		ldr	r3, [r7, #12]
 1101 00ea 1B68     		ldr	r3, [r3]
 1102 00ec 42F48052 		orr	r2, r2, #4096
 1103 00f0 5A60     		str	r2, [r3, #4]
 1104              	.L56:
1080:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1081:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1082:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction: 1Line */
1083:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1105              		.loc 1 1083 17
 1106 00f2 FB68     		ldr	r3, [r7, #12]
 1107 00f4 9B68     		ldr	r3, [r3, #8]
 1108              		.loc 1 1083 6
 1109 00f6 B3F5004F 		cmp	r3, #32768
 1110 00fa 0FD1     		bne	.L57
1084:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1085:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1086:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 1111              		.loc 1 1086 5
 1112 00fc FB68     		ldr	r3, [r7, #12]
 1113 00fe 1B68     		ldr	r3, [r3]
 1114 0100 1A68     		ldr	r2, [r3]
 1115 0102 FB68     		ldr	r3, [r7, #12]
 1116 0104 1B68     		ldr	r3, [r3]
 1117 0106 22F04002 		bic	r2, r2, #64
 1118 010a 1A60     		str	r2, [r3]
1087:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1119              		.loc 1 1087 5
 1120 010c FB68     		ldr	r3, [r7, #12]
 1121 010e 1B68     		ldr	r3, [r3]
 1122 0110 1A68     		ldr	r2, [r3]
 1123 0112 FB68     		ldr	r3, [r7, #12]
 1124 0114 1B68     		ldr	r3, [r3]
 1125 0116 22F48042 		bic	r2, r2, #16384
 1126 011a 1A60     		str	r2, [r3]
 1127              	.L57:
1088:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1089:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1090:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1091:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 1128              		.loc 1 1091 12
 1129 011c FB68     		ldr	r3, [r7, #12]
 1130 011e 1B68     		ldr	r3, [r3]
 1131              		.loc 1 1091 22
 1132 0120 1B68     		ldr	r3, [r3]
 1133              		.loc 1 1091 28
 1134 0122 03F04003 		and	r3, r3, #64
 1135              		.loc 1 1091 6
 1136 0126 402B     		cmp	r3, #64
 1137 0128 07D0     		beq	.L58
1092:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1093:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 40


1094:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1138              		.loc 1 1094 5
 1139 012a FB68     		ldr	r3, [r7, #12]
 1140 012c 1B68     		ldr	r3, [r3]
 1141 012e 1A68     		ldr	r2, [r3]
 1142 0130 FB68     		ldr	r3, [r7, #12]
 1143 0132 1B68     		ldr	r3, [r3]
 1144 0134 42F04002 		orr	r2, r2, #64
 1145 0138 1A60     		str	r2, [r3]
 1146              	.L58:
1095:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1096:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1097:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1098:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize <= SPI_DATASIZE_8BIT)
 1147              		.loc 1 1098 17
 1148 013a FB68     		ldr	r3, [r7, #12]
 1149 013c DB68     		ldr	r3, [r3, #12]
 1150              		.loc 1 1098 6
 1151 013e B3F5E06F 		cmp	r3, #1792
 1152 0142 6FD8     		bhi	.L67
1099:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1100:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Transfer loop */
1101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
 1153              		.loc 1 1101 11
 1154 0144 34E0     		b	.L60
 1155              	.L65:
1102:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1103:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Check the RXNE flag */
1104:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 1156              		.loc 1 1104 11
 1157 0146 FB68     		ldr	r3, [r7, #12]
 1158 0148 1B68     		ldr	r3, [r3]
 1159 014a 9B68     		ldr	r3, [r3, #8]
 1160 014c 03F00103 		and	r3, r3, #1
 1161              		.loc 1 1104 10
 1162 0150 012B     		cmp	r3, #1
 1163 0152 17D1     		bne	.L61
1105:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1106:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* read the received data */
1107:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
 1164              		.loc 1 1107 65
 1165 0154 FB68     		ldr	r3, [r7, #12]
 1166 0156 1B68     		ldr	r3, [r3]
 1167              		.loc 1 1107 60
 1168 0158 03F10C02 		add	r2, r3, #12
 1169              		.loc 1 1107 27
 1170 015c FB68     		ldr	r3, [r7, #12]
 1171 015e 1B6C     		ldr	r3, [r3, #64]
 1172              		.loc 1 1107 43
 1173 0160 1278     		ldrb	r2, [r2]
 1174 0162 D2B2     		uxtb	r2, r2
 1175              		.loc 1 1107 41
 1176 0164 1A70     		strb	r2, [r3]
1108:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 1177              		.loc 1 1108 13
 1178 0166 FB68     		ldr	r3, [r7, #12]
 1179 0168 1B6C     		ldr	r3, [r3, #64]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 41


 1180              		.loc 1 1108 26
 1181 016a 5A1C     		adds	r2, r3, #1
 1182 016c FB68     		ldr	r3, [r7, #12]
 1183 016e 1A64     		str	r2, [r3, #64]
1109:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount--;
 1184              		.loc 1 1109 13
 1185 0170 FB68     		ldr	r3, [r7, #12]
 1186 0172 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1187 0176 9BB2     		uxth	r3, r3
 1188              		.loc 1 1109 26
 1189 0178 013B     		subs	r3, r3, #1
 1190 017a 9AB2     		uxth	r2, r3
 1191 017c FB68     		ldr	r3, [r7, #12]
 1192 017e A3F84620 		strh	r2, [r3, #70]	@ movhi
 1193 0182 15E0     		b	.L60
 1194              	.L61:
1110:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1111:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
1112:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1113:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Timeout management */
1114:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 1195              		.loc 1 1114 16
 1196 0184 FFF7FEFF 		bl	HAL_GetTick
 1197 0188 0246     		mov	r2, r0
 1198              		.loc 1 1114 30 discriminator 1
 1199 018a 3B69     		ldr	r3, [r7, #16]
 1200 018c D31A     		subs	r3, r2, r3
 1201              		.loc 1 1114 12 discriminator 1
 1202 018e 3A68     		ldr	r2, [r7]
 1203 0190 9A42     		cmp	r2, r3
 1204 0192 03D8     		bhi	.L63
 1205              		.loc 1 1114 56 discriminator 1
 1206 0194 3B68     		ldr	r3, [r7]
 1207 0196 B3F1FF3F 		cmp	r3, #-1
 1208 019a 02D1     		bne	.L64
 1209              	.L63:
 1210              		.loc 1 1114 87 discriminator 3
 1211 019c 3B68     		ldr	r3, [r7]
 1212 019e 002B     		cmp	r3, #0
 1213 01a0 06D1     		bne	.L60
 1214              	.L64:
1115:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1116:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 1215              		.loc 1 1116 21
 1216 01a2 0323     		movs	r3, #3
 1217 01a4 FB75     		strb	r3, [r7, #23]
1117:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 1218              		.loc 1 1117 23
 1219 01a6 FB68     		ldr	r3, [r7, #12]
 1220 01a8 0122     		movs	r2, #1
 1221 01aa 83F85D20 		strb	r2, [r3, #93]
1118:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
 1222              		.loc 1 1118 11
 1223 01ae 55E0     		b	.L49
 1224              	.L60:
1101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1225              		.loc 1 1101 16
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 42


 1226 01b0 FB68     		ldr	r3, [r7, #12]
 1227 01b2 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1228 01b6 9BB2     		uxth	r3, r3
1101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1229              		.loc 1 1101 30
 1230 01b8 002B     		cmp	r3, #0
 1231 01ba C4D1     		bne	.L65
 1232 01bc 38E0     		b	.L66
 1233              	.L72:
1119:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1120:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1121:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1122:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1123:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1124:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1125:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Transfer loop */
1126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1127:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1128:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Check the RXNE flag */
1129:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 1234              		.loc 1 1129 11
 1235 01be FB68     		ldr	r3, [r7, #12]
 1236 01c0 1B68     		ldr	r3, [r3]
 1237 01c2 9B68     		ldr	r3, [r3, #8]
 1238 01c4 03F00103 		and	r3, r3, #1
 1239              		.loc 1 1129 10
 1240 01c8 012B     		cmp	r3, #1
 1241 01ca 15D1     		bne	.L68
1130:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1131:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 1242              		.loc 1 1131 57
 1243 01cc FB68     		ldr	r3, [r7, #12]
 1244 01ce 1B68     		ldr	r3, [r3]
 1245              		.loc 1 1131 67
 1246 01d0 DA68     		ldr	r2, [r3, #12]
 1247              		.loc 1 1131 27
 1248 01d2 FB68     		ldr	r3, [r7, #12]
 1249 01d4 1B6C     		ldr	r3, [r3, #64]
 1250              		.loc 1 1131 43
 1251 01d6 92B2     		uxth	r2, r2
 1252              		.loc 1 1131 41
 1253 01d8 1A80     		strh	r2, [r3]	@ movhi
1132:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1254              		.loc 1 1132 13
 1255 01da FB68     		ldr	r3, [r7, #12]
 1256 01dc 1B6C     		ldr	r3, [r3, #64]
 1257              		.loc 1 1132 26
 1258 01de 9A1C     		adds	r2, r3, #2
 1259 01e0 FB68     		ldr	r3, [r7, #12]
 1260 01e2 1A64     		str	r2, [r3, #64]
1133:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount--;
 1261              		.loc 1 1133 13
 1262 01e4 FB68     		ldr	r3, [r7, #12]
 1263 01e6 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1264 01ea 9BB2     		uxth	r3, r3
 1265              		.loc 1 1133 26
 1266 01ec 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 43


 1267 01ee 9AB2     		uxth	r2, r3
 1268 01f0 FB68     		ldr	r3, [r7, #12]
 1269 01f2 A3F84620 		strh	r2, [r3, #70]	@ movhi
 1270 01f6 15E0     		b	.L67
 1271              	.L68:
1134:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1135:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
1136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1137:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Timeout management */
1138:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 1272              		.loc 1 1138 16
 1273 01f8 FFF7FEFF 		bl	HAL_GetTick
 1274 01fc 0246     		mov	r2, r0
 1275              		.loc 1 1138 30 discriminator 1
 1276 01fe 3B69     		ldr	r3, [r7, #16]
 1277 0200 D31A     		subs	r3, r2, r3
 1278              		.loc 1 1138 12 discriminator 1
 1279 0202 3A68     		ldr	r2, [r7]
 1280 0204 9A42     		cmp	r2, r3
 1281 0206 03D8     		bhi	.L70
 1282              		.loc 1 1138 56 discriminator 1
 1283 0208 3B68     		ldr	r3, [r7]
 1284 020a B3F1FF3F 		cmp	r3, #-1
 1285 020e 02D1     		bne	.L71
 1286              	.L70:
 1287              		.loc 1 1138 87 discriminator 3
 1288 0210 3B68     		ldr	r3, [r7]
 1289 0212 002B     		cmp	r3, #0
 1290 0214 06D1     		bne	.L67
 1291              	.L71:
1139:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1140:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 1292              		.loc 1 1140 21
 1293 0216 0323     		movs	r3, #3
 1294 0218 FB75     		strb	r3, [r7, #23]
1141:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 1295              		.loc 1 1141 23
 1296 021a FB68     		ldr	r3, [r7, #12]
 1297 021c 0122     		movs	r2, #1
 1298 021e 83F85D20 		strb	r2, [r3, #93]
1142:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
 1299              		.loc 1 1142 11
 1300 0222 1BE0     		b	.L49
 1301              	.L67:
1126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1302              		.loc 1 1126 16
 1303 0224 FB68     		ldr	r3, [r7, #12]
 1304 0226 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1305 022a 9BB2     		uxth	r3, r3
1126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1306              		.loc 1 1126 30
 1307 022c 002B     		cmp	r3, #0
 1308 022e C6D1     		bne	.L72
 1309              	.L66:
1143:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1144:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1145:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 44


1146:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1147:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1148:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1149:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Handle the CRC Transmission */
1150:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1151:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1152:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1153:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1154:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1155:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Read the latest data */
1156:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1157:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1158:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* the latest data has not been received */
1159:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1160:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       goto error;
1161:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1162:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1163:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1164:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1165:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1166:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1167:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1168:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1169:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
1170:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1171:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1172:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1173:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1174:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait the CRC data */
1175:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1176:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1177:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1178:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1179:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       goto error;
1180:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1181:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1182:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1183:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1184:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1185:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Read 16bit CRC */
1186:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
1187:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* To avoid GCC warning */
1188:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       UNUSED(tmpreg);
1189:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1190:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
1191:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1192:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Initialize the 8bit temporary pointer */
1193:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
1194:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Read 8bit CRC */
1195:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
1196:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* To avoid GCC warning */
1197:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       UNUSED(tmpreg8);
1198:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1199:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16B
1200:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1201:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1202:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 45


1203:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Error on the CRC reception */
1204:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1205:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1206:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
1207:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1208:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1209:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
1210:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
1211:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg8);
1212:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1213:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1214:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1215:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1216:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1217:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
1218:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 1310              		.loc 1 1218 7
 1311 0230 3A69     		ldr	r2, [r7, #16]
 1312 0232 3968     		ldr	r1, [r7]
 1313 0234 F868     		ldr	r0, [r7, #12]
 1314 0236 FFF7FEFF 		bl	SPI_EndRxTransaction
 1315 023a 0346     		mov	r3, r0
 1316              		.loc 1 1218 6 discriminator 1
 1317 023c 002B     		cmp	r3, #0
 1318 023e 02D0     		beq	.L73
1219:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1220:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 1319              		.loc 1 1220 21
 1320 0240 FB68     		ldr	r3, [r7, #12]
 1321 0242 2022     		movs	r2, #32
 1322 0244 1A66     		str	r2, [r3, #96]
 1323              	.L73:
1221:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1222:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1223:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if CRC error occurred */
1225:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1226:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1227:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1228:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1230:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1231:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1232:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 1324              		.loc 1 1232 11
 1325 0246 FB68     		ldr	r3, [r7, #12]
 1326 0248 1B6E     		ldr	r3, [r3, #96]
 1327              		.loc 1 1232 6
 1328 024a 002B     		cmp	r3, #0
 1329 024c 02D0     		beq	.L74
1233:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1234:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1330              		.loc 1 1234 15
 1331 024e 0123     		movs	r3, #1
 1332 0250 FB75     		strb	r3, [r7, #23]
 1333 0252 03E0     		b	.L49
 1334              	.L74:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 46


1235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1236:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1237:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1238:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 1335              		.loc 1 1238 17
 1336 0254 FB68     		ldr	r3, [r7, #12]
 1337 0256 0122     		movs	r2, #1
 1338 0258 83F85D20 		strb	r2, [r3, #93]
 1339              	.L49:
1239:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1241:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
1242:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1340              		.loc 1 1242 3
 1341 025c FB68     		ldr	r3, [r7, #12]
 1342 025e 0022     		movs	r2, #0
 1343 0260 83F85C20 		strb	r2, [r3, #92]
1243:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 1344              		.loc 1 1243 10
 1345 0264 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1346              	.L51:
1244:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 1347              		.loc 1 1244 1
 1348 0266 1846     		mov	r0, r3
 1349 0268 1837     		adds	r7, r7, #24
 1350              	.LCFI30:
 1351              		.cfi_def_cfa_offset 8
 1352 026a BD46     		mov	sp, r7
 1353              	.LCFI31:
 1354              		.cfi_def_cfa_register 13
 1355              		@ sp needed
 1356 026c 80BD     		pop	{r7, pc}
 1357              		.cfi_endproc
 1358              	.LFE137:
 1360              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1361              		.align	1
 1362              		.global	HAL_SPI_TransmitReceive
 1363              		.syntax unified
 1364              		.thumb
 1365              		.thumb_func
 1367              	HAL_SPI_TransmitReceive:
 1368              	.LFB138:
1245:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1246:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
1247:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1248:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1249:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1250:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1251:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1252:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1253:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
1254:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1255:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1256:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
1257:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                           uint32_t Timeout)
1258:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 1369              		.loc 1 1258 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 47


 1370              		.cfi_startproc
 1371              		@ args = 4, pretend = 0, frame = 40
 1372              		@ frame_needed = 1, uses_anonymous_args = 0
 1373 0000 80B5     		push	{r7, lr}
 1374              	.LCFI32:
 1375              		.cfi_def_cfa_offset 8
 1376              		.cfi_offset 7, -8
 1377              		.cfi_offset 14, -4
 1378 0002 8AB0     		sub	sp, sp, #40
 1379              	.LCFI33:
 1380              		.cfi_def_cfa_offset 48
 1381 0004 00AF     		add	r7, sp, #0
 1382              	.LCFI34:
 1383              		.cfi_def_cfa_register 7
 1384 0006 F860     		str	r0, [r7, #12]
 1385 0008 B960     		str	r1, [r7, #8]
 1386 000a 7A60     		str	r2, [r7, #4]
 1387 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1259:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1260:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint16_t             initial_RxXferCount;
1261:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             tmp_mode;
1262:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1263:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             tickstart;
1264:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1265:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1266:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             spi_cr1;
1267:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             spi_cr2;
1268:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
1269:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
1270:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1271:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1272:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1273:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             txallowed = 1U;
 1388              		.loc 1 1273 24
 1389 000e 0123     		movs	r3, #1
 1390 0010 7B62     		str	r3, [r7, #36]
1274:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
 1391              		.loc 1 1274 24
 1392 0012 0023     		movs	r3, #0
 1393 0014 87F82330 		strb	r3, [r7, #35]
1275:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1276:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
1277:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1278:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1279:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
1280:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1394              		.loc 1 1280 3
 1395 0018 FB68     		ldr	r3, [r7, #12]
 1396 001a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 1397 001e 012B     		cmp	r3, #1
 1398 0020 01D1     		bne	.L76
 1399              		.loc 1 1280 3 is_stmt 0 discriminator 1
 1400 0022 0223     		movs	r3, #2
 1401              		.loc 1 1280 3
 1402 0024 0AE2     		b	.L77
 1403              	.L76:
 1404              		.loc 1 1280 3 discriminator 2
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 48


 1405 0026 FB68     		ldr	r3, [r7, #12]
 1406 0028 0122     		movs	r2, #1
 1407 002a 83F85C20 		strb	r2, [r3, #92]
1281:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1282:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1283:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 1408              		.loc 1 1283 15 is_stmt 1
 1409 002e FFF7FEFF 		bl	HAL_GetTick
 1410 0032 F861     		str	r0, [r7, #28]
1284:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1285:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init temporary variables */
1286:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_state           = hspi->State;
 1411              		.loc 1 1286 23
 1412 0034 FB68     		ldr	r3, [r7, #12]
 1413 0036 93F85D30 		ldrb	r3, [r3, #93]
 1414 003a FB76     		strb	r3, [r7, #27]
1287:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1415              		.loc 1 1287 23
 1416 003c FB68     		ldr	r3, [r7, #12]
 1417 003e 5B68     		ldr	r3, [r3, #4]
 1418 0040 7B61     		str	r3, [r7, #20]
1288:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   initial_TxXferCount = Size;
 1419              		.loc 1 1288 23
 1420 0042 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1421 0044 7B82     		strh	r3, [r7, #18]	@ movhi
1289:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   initial_RxXferCount = Size;
 1422              		.loc 1 1289 23
 1423 0046 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1424 0048 3B82     		strh	r3, [r7, #16]	@ movhi
1290:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1291:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   spi_cr1             = READ_REG(hspi->Instance->CR1);
1292:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   spi_cr2             = READ_REG(hspi->Instance->CR2);
1293:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1294:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1295:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
 1425              		.loc 1 1295 6
 1426 004a FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 1427 004c 012B     		cmp	r3, #1
 1428 004e 0ED0     		beq	.L78
 1429              		.loc 1 1295 7 discriminator 1
 1430 0050 7B69     		ldr	r3, [r7, #20]
 1431 0052 B3F5827F 		cmp	r3, #260
 1432 0056 06D1     		bne	.L79
1296:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 1433              		.loc 1 1296 54
 1434 0058 FB68     		ldr	r3, [r7, #12]
 1435 005a 9B68     		ldr	r3, [r3, #8]
 1436              		.loc 1 1296 40
 1437 005c 002B     		cmp	r3, #0
 1438 005e 02D1     		bne	.L79
 1439              		.loc 1 1296 90 discriminator 1
 1440 0060 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 1441 0062 042B     		cmp	r3, #4
 1442 0064 03D0     		beq	.L78
 1443              	.L79:
1297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1298:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 49


 1444              		.loc 1 1298 15
 1445 0066 0223     		movs	r3, #2
 1446 0068 87F82330 		strb	r3, [r7, #35]
1299:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 1447              		.loc 1 1299 5
 1448 006c E0E1     		b	.L80
 1449              	.L78:
1300:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1301:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1302:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 1450              		.loc 1 1302 6
 1451 006e BB68     		ldr	r3, [r7, #8]
 1452 0070 002B     		cmp	r3, #0
 1453 0072 05D0     		beq	.L81
 1454              		.loc 1 1302 25 discriminator 1
 1455 0074 7B68     		ldr	r3, [r7, #4]
 1456 0076 002B     		cmp	r3, #0
 1457 0078 02D0     		beq	.L81
 1458              		.loc 1 1302 46 discriminator 2
 1459 007a 7B88     		ldrh	r3, [r7, #2]
 1460 007c 002B     		cmp	r3, #0
 1461 007e 03D1     		bne	.L82
 1462              	.L81:
1303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1304:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 1463              		.loc 1 1304 15
 1464 0080 0123     		movs	r3, #1
 1465 0082 87F82330 		strb	r3, [r7, #35]
1305:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 1466              		.loc 1 1305 5
 1467 0086 D3E1     		b	.L80
 1468              	.L82:
1306:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1307:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1308:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1309:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 1469              		.loc 1 1309 11
 1470 0088 FB68     		ldr	r3, [r7, #12]
 1471 008a 93F85D30 		ldrb	r3, [r3, #93]
 1472 008e DBB2     		uxtb	r3, r3
 1473              		.loc 1 1309 6
 1474 0090 042B     		cmp	r3, #4
 1475 0092 03D0     		beq	.L83
1310:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1311:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 1476              		.loc 1 1311 17
 1477 0094 FB68     		ldr	r3, [r7, #12]
 1478 0096 0522     		movs	r2, #5
 1479 0098 83F85D20 		strb	r2, [r3, #93]
 1480              	.L83:
1312:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1313:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1314:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1315:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1481              		.loc 1 1315 21
 1482 009c FB68     		ldr	r3, [r7, #12]
 1483 009e 0022     		movs	r2, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 50


 1484 00a0 1A66     		str	r2, [r3, #96]
1316:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1485              		.loc 1 1316 21
 1486 00a2 FB68     		ldr	r3, [r7, #12]
 1487 00a4 7A68     		ldr	r2, [r7, #4]
 1488 00a6 1A64     		str	r2, [r3, #64]
1317:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1489              		.loc 1 1317 21
 1490 00a8 FB68     		ldr	r3, [r7, #12]
 1491 00aa 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1492 00ac A3F84620 		strh	r2, [r3, #70]	@ movhi
1318:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1493              		.loc 1 1318 21
 1494 00b0 FB68     		ldr	r3, [r7, #12]
 1495 00b2 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1496 00b4 A3F84420 		strh	r2, [r3, #68]	@ movhi
1319:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 1497              		.loc 1 1319 21
 1498 00b8 FB68     		ldr	r3, [r7, #12]
 1499 00ba BA68     		ldr	r2, [r7, #8]
 1500 00bc 9A63     		str	r2, [r3, #56]
1320:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1501              		.loc 1 1320 21
 1502 00be FB68     		ldr	r3, [r7, #12]
 1503 00c0 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1504 00c2 DA87     		strh	r2, [r3, #62]	@ movhi
1321:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1505              		.loc 1 1321 21
 1506 00c4 FB68     		ldr	r3, [r7, #12]
 1507 00c6 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1508 00c8 9A87     		strh	r2, [r3, #60]	@ movhi
1322:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1323:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1509              		.loc 1 1324 21
 1510 00ca FB68     		ldr	r3, [r7, #12]
 1511 00cc 0022     		movs	r2, #0
 1512 00ce DA64     		str	r2, [r3, #76]
1325:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1513              		.loc 1 1325 21
 1514 00d0 FB68     		ldr	r3, [r7, #12]
 1515 00d2 0022     		movs	r2, #0
 1516 00d4 1A65     		str	r2, [r3, #80]
1326:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1327:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1328:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1329:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1330:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1331:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1332:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1333:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1334:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1335:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
1336:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (initial_RxXferCount > 1U))
 1517              		.loc 1 1336 18
 1518 00d6 FB68     		ldr	r3, [r7, #12]
 1519 00d8 DB68     		ldr	r3, [r3, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 51


 1520              		.loc 1 1336 6
 1521 00da B3F5E06F 		cmp	r3, #1792
 1522 00de 02D8     		bhi	.L84
 1523              		.loc 1 1336 49 discriminator 1
 1524 00e0 3B8A     		ldrh	r3, [r7, #16]
 1525 00e2 012B     		cmp	r3, #1
 1526 00e4 08D9     		bls	.L85
 1527              	.L84:
1337:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1338:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
1339:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1528              		.loc 1 1339 5
 1529 00e6 FB68     		ldr	r3, [r7, #12]
 1530 00e8 1B68     		ldr	r3, [r3]
 1531 00ea 5A68     		ldr	r2, [r3, #4]
 1532 00ec FB68     		ldr	r3, [r7, #12]
 1533 00ee 1B68     		ldr	r3, [r3]
 1534 00f0 22F48052 		bic	r2, r2, #4096
 1535 00f4 5A60     		str	r2, [r3, #4]
 1536 00f6 07E0     		b	.L86
 1537              	.L85:
1340:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1341:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1342:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1343:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 8bit */
1344:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1538              		.loc 1 1344 5
 1539 00f8 FB68     		ldr	r3, [r7, #12]
 1540 00fa 1B68     		ldr	r3, [r3]
 1541 00fc 5A68     		ldr	r2, [r3, #4]
 1542 00fe FB68     		ldr	r3, [r7, #12]
 1543 0100 1B68     		ldr	r3, [r3]
 1544 0102 42F48052 		orr	r2, r2, #4096
 1545 0106 5A60     		str	r2, [r3, #4]
 1546              	.L86:
1345:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1346:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1347:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1348:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 1547              		.loc 1 1348 12
 1548 0108 FB68     		ldr	r3, [r7, #12]
 1549 010a 1B68     		ldr	r3, [r3]
 1550              		.loc 1 1348 22
 1551 010c 1B68     		ldr	r3, [r3]
 1552              		.loc 1 1348 28
 1553 010e 03F04003 		and	r3, r3, #64
 1554              		.loc 1 1348 6
 1555 0112 402B     		cmp	r3, #64
 1556 0114 07D0     		beq	.L87
1349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1350:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
1351:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1557              		.loc 1 1351 5
 1558 0116 FB68     		ldr	r3, [r7, #12]
 1559 0118 1B68     		ldr	r3, [r3]
 1560 011a 1A68     		ldr	r2, [r3]
 1561 011c FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 52


 1562 011e 1B68     		ldr	r3, [r3]
 1563 0120 42F04002 		orr	r2, r2, #64
 1564 0124 1A60     		str	r2, [r3]
 1565              	.L87:
1352:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1353:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1354:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1355:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 1566              		.loc 1 1355 17
 1567 0126 FB68     		ldr	r3, [r7, #12]
 1568 0128 DB68     		ldr	r3, [r3, #12]
 1569              		.loc 1 1355 6
 1570 012a B3F5E06F 		cmp	r3, #1792
 1571 012e 40F28180 		bls	.L88
1356:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1357:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 1572              		.loc 1 1357 20
 1573 0132 FB68     		ldr	r3, [r7, #12]
 1574 0134 5B68     		ldr	r3, [r3, #4]
 1575              		.loc 1 1357 8
 1576 0136 002B     		cmp	r3, #0
 1577 0138 02D0     		beq	.L89
 1578              		.loc 1 1357 45 discriminator 1
 1579 013a 7B8A     		ldrh	r3, [r7, #18]
 1580 013c 012B     		cmp	r3, #1
 1581 013e 6DD1     		bne	.L91
 1582              	.L89:
1358:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1359:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 1583              		.loc 1 1359 46
 1584 0140 FB68     		ldr	r3, [r7, #12]
 1585 0142 9B6B     		ldr	r3, [r3, #56]
 1586              		.loc 1 1359 28
 1587 0144 1A88     		ldrh	r2, [r3]
 1588              		.loc 1 1359 11
 1589 0146 FB68     		ldr	r3, [r7, #12]
 1590 0148 1B68     		ldr	r3, [r3]
 1591              		.loc 1 1359 26
 1592 014a DA60     		str	r2, [r3, #12]
1360:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1593              		.loc 1 1360 11
 1594 014c FB68     		ldr	r3, [r7, #12]
 1595 014e 9B6B     		ldr	r3, [r3, #56]
 1596              		.loc 1 1360 24
 1597 0150 9A1C     		adds	r2, r3, #2
 1598 0152 FB68     		ldr	r3, [r7, #12]
 1599 0154 9A63     		str	r2, [r3, #56]
1361:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->TxXferCount--;
 1600              		.loc 1 1361 11
 1601 0156 FB68     		ldr	r3, [r7, #12]
 1602 0158 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1603 015a 9BB2     		uxth	r3, r3
 1604              		.loc 1 1361 24
 1605 015c 013B     		subs	r3, r3, #1
 1606 015e 9AB2     		uxth	r2, r3
 1607 0160 FB68     		ldr	r3, [r7, #12]
 1608 0162 DA87     		strh	r2, [r3, #62]	@ movhi
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 53


1362:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1363:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1364:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Enable CRC Transmission */
1365:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1366:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1367:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1368:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR2_
1369:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1370:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1371:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1372:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1373:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1374:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1375:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1376:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 1609              		.loc 1 1377 11
 1610 0164 5AE0     		b	.L91
 1611              	.L95:
1378:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1379:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Check TXE flag */
1380:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
 1612              		.loc 1 1380 12
 1613 0166 FB68     		ldr	r3, [r7, #12]
 1614 0168 1B68     		ldr	r3, [r3]
 1615 016a 9B68     		ldr	r3, [r3, #8]
 1616 016c 03F00203 		and	r3, r3, #2
 1617              		.loc 1 1380 10
 1618 0170 022B     		cmp	r3, #2
 1619 0172 1BD1     		bne	.L92
 1620              		.loc 1 1380 60 discriminator 1
 1621 0174 FB68     		ldr	r3, [r7, #12]
 1622 0176 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1623 0178 9BB2     		uxth	r3, r3
 1624              		.loc 1 1380 52 discriminator 1
 1625 017a 002B     		cmp	r3, #0
 1626 017c 16D0     		beq	.L92
 1627              		.loc 1 1380 80 discriminator 2
 1628 017e 7B6A     		ldr	r3, [r7, #36]
 1629 0180 012B     		cmp	r3, #1
 1630 0182 13D1     		bne	.L92
1381:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1382:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 1631              		.loc 1 1382 48
 1632 0184 FB68     		ldr	r3, [r7, #12]
 1633 0186 9B6B     		ldr	r3, [r3, #56]
 1634              		.loc 1 1382 30
 1635 0188 1A88     		ldrh	r2, [r3]
 1636              		.loc 1 1382 13
 1637 018a FB68     		ldr	r3, [r7, #12]
 1638 018c 1B68     		ldr	r3, [r3]
 1639              		.loc 1 1382 28
 1640 018e DA60     		str	r2, [r3, #12]
1383:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1641              		.loc 1 1383 13
 1642 0190 FB68     		ldr	r3, [r7, #12]
 1643 0192 9B6B     		ldr	r3, [r3, #56]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 54


 1644              		.loc 1 1383 26
 1645 0194 9A1C     		adds	r2, r3, #2
 1646 0196 FB68     		ldr	r3, [r7, #12]
 1647 0198 9A63     		str	r2, [r3, #56]
1384:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount--;
 1648              		.loc 1 1384 13
 1649 019a FB68     		ldr	r3, [r7, #12]
 1650 019c DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1651 019e 9BB2     		uxth	r3, r3
 1652              		.loc 1 1384 26
 1653 01a0 013B     		subs	r3, r3, #1
 1654 01a2 9AB2     		uxth	r2, r3
 1655 01a4 FB68     		ldr	r3, [r7, #12]
 1656 01a6 DA87     		strh	r2, [r3, #62]	@ movhi
1385:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1386:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         txallowed = 0U;
 1657              		.loc 1 1386 19
 1658 01a8 0023     		movs	r3, #0
 1659 01aa 7B62     		str	r3, [r7, #36]
 1660              	.L92:
1387:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1388:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1389:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Enable CRC Transmission */
1390:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1391:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1392:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1393:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
1394:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
1395:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1396:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
1397:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1398:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1399:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1400:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1401:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1402:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Check RXNE flag */
1403:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
 1661              		.loc 1 1403 12
 1662 01ac FB68     		ldr	r3, [r7, #12]
 1663 01ae 1B68     		ldr	r3, [r3]
 1664 01b0 9B68     		ldr	r3, [r3, #8]
 1665 01b2 03F00103 		and	r3, r3, #1
 1666              		.loc 1 1403 10
 1667 01b6 012B     		cmp	r3, #1
 1668 01b8 1CD1     		bne	.L93
 1669              		.loc 1 1403 61 discriminator 1
 1670 01ba FB68     		ldr	r3, [r7, #12]
 1671 01bc B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1672 01c0 9BB2     		uxth	r3, r3
 1673              		.loc 1 1403 53 discriminator 1
 1674 01c2 002B     		cmp	r3, #0
 1675 01c4 16D0     		beq	.L93
1404:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1405:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 1676              		.loc 1 1405 57
 1677 01c6 FB68     		ldr	r3, [r7, #12]
 1678 01c8 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 55


 1679              		.loc 1 1405 67
 1680 01ca DA68     		ldr	r2, [r3, #12]
 1681              		.loc 1 1405 27
 1682 01cc FB68     		ldr	r3, [r7, #12]
 1683 01ce 1B6C     		ldr	r3, [r3, #64]
 1684              		.loc 1 1405 43
 1685 01d0 92B2     		uxth	r2, r2
 1686              		.loc 1 1405 41
 1687 01d2 1A80     		strh	r2, [r3]	@ movhi
1406:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1688              		.loc 1 1406 13
 1689 01d4 FB68     		ldr	r3, [r7, #12]
 1690 01d6 1B6C     		ldr	r3, [r3, #64]
 1691              		.loc 1 1406 26
 1692 01d8 9A1C     		adds	r2, r3, #2
 1693 01da FB68     		ldr	r3, [r7, #12]
 1694 01dc 1A64     		str	r2, [r3, #64]
1407:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount--;
 1695              		.loc 1 1407 13
 1696 01de FB68     		ldr	r3, [r7, #12]
 1697 01e0 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1698 01e4 9BB2     		uxth	r3, r3
 1699              		.loc 1 1407 26
 1700 01e6 013B     		subs	r3, r3, #1
 1701 01e8 9AB2     		uxth	r2, r3
 1702 01ea FB68     		ldr	r3, [r7, #12]
 1703 01ec A3F84620 		strh	r2, [r3, #70]	@ movhi
1408:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1409:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         txallowed = 1U;
 1704              		.loc 1 1409 19
 1705 01f0 0123     		movs	r3, #1
 1706 01f2 7B62     		str	r3, [r7, #36]
 1707              	.L93:
1410:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1411:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
 1708              		.loc 1 1411 13
 1709 01f4 FFF7FEFF 		bl	HAL_GetTick
 1710 01f8 0246     		mov	r2, r0
 1711              		.loc 1 1411 27 discriminator 1
 1712 01fa FB69     		ldr	r3, [r7, #28]
 1713 01fc D31A     		subs	r3, r2, r3
 1714              		.loc 1 1411 10 discriminator 1
 1715 01fe 3A6B     		ldr	r2, [r7, #48]
 1716 0200 9A42     		cmp	r2, r3
 1717 0202 0BD8     		bhi	.L91
 1718              		.loc 1 1411 53 discriminator 1
 1719 0204 3B6B     		ldr	r3, [r7, #48]
 1720 0206 B3F1FF3F 		cmp	r3, #-1
 1721 020a 07D0     		beq	.L91
1412:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1413:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 1722              		.loc 1 1413 19
 1723 020c 0323     		movs	r3, #3
 1724 020e 87F82330 		strb	r3, [r7, #35]
1414:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 1725              		.loc 1 1414 21
 1726 0212 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 56


 1727 0214 0122     		movs	r2, #1
 1728 0216 83F85D20 		strb	r2, [r3, #93]
1415:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         goto error;
 1729              		.loc 1 1415 9
 1730 021a 09E1     		b	.L80
 1731              	.L91:
1377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1732              		.loc 1 1377 17
 1733 021c FB68     		ldr	r3, [r7, #12]
 1734 021e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1735 0220 9BB2     		uxth	r3, r3
1377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1736              		.loc 1 1377 37
 1737 0222 002B     		cmp	r3, #0
 1738 0224 9FD1     		bne	.L95
1377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1739              		.loc 1 1377 45 discriminator 1
 1740 0226 FB68     		ldr	r3, [r7, #12]
 1741 0228 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1742 022c 9BB2     		uxth	r3, r3
1377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 1743              		.loc 1 1377 37 discriminator 1
 1744 022e 002B     		cmp	r3, #0
 1745 0230 99D1     		bne	.L95
 1746 0232 E3E0     		b	.L96
 1747              	.L88:
1416:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1417:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1418:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1419:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1420:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1421:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1422:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 1748              		.loc 1 1422 20
 1749 0234 FB68     		ldr	r3, [r7, #12]
 1750 0236 5B68     		ldr	r3, [r3, #4]
 1751              		.loc 1 1422 8
 1752 0238 002B     		cmp	r3, #0
 1753 023a 03D0     		beq	.L97
 1754              		.loc 1 1422 45 discriminator 1
 1755 023c 7B8A     		ldrh	r3, [r7, #18]
 1756 023e 012B     		cmp	r3, #1
 1757 0240 40F0CF80 		bne	.L100
 1758              	.L97:
1423:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1424:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
 1759              		.loc 1 1424 15
 1760 0244 FB68     		ldr	r3, [r7, #12]
 1761 0246 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1762 0248 9BB2     		uxth	r3, r3
 1763              		.loc 1 1424 10
 1764 024a 012B     		cmp	r3, #1
 1765 024c 12D9     		bls	.L99
1425:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1426:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 1766              		.loc 1 1426 48
 1767 024e FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 57


 1768 0250 9B6B     		ldr	r3, [r3, #56]
 1769              		.loc 1 1426 30
 1770 0252 1A88     		ldrh	r2, [r3]
 1771              		.loc 1 1426 13
 1772 0254 FB68     		ldr	r3, [r7, #12]
 1773 0256 1B68     		ldr	r3, [r3]
 1774              		.loc 1 1426 28
 1775 0258 DA60     		str	r2, [r3, #12]
1427:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1776              		.loc 1 1427 13
 1777 025a FB68     		ldr	r3, [r7, #12]
 1778 025c 9B6B     		ldr	r3, [r3, #56]
 1779              		.loc 1 1427 26
 1780 025e 9A1C     		adds	r2, r3, #2
 1781 0260 FB68     		ldr	r3, [r7, #12]
 1782 0262 9A63     		str	r2, [r3, #56]
1428:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 1783              		.loc 1 1428 13
 1784 0264 FB68     		ldr	r3, [r7, #12]
 1785 0266 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1786 0268 9BB2     		uxth	r3, r3
 1787              		.loc 1 1428 27
 1788 026a 023B     		subs	r3, r3, #2
 1789 026c 9AB2     		uxth	r2, r3
 1790 026e FB68     		ldr	r3, [r7, #12]
 1791 0270 DA87     		strh	r2, [r3, #62]	@ movhi
 1792 0272 B6E0     		b	.L100
 1793              	.L99:
1429:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1430:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
1431:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1432:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 1794              		.loc 1 1432 54
 1795 0274 FB68     		ldr	r3, [r7, #12]
 1796 0276 9A6B     		ldr	r2, [r3, #56]
 1797              		.loc 1 1432 31
 1798 0278 FB68     		ldr	r3, [r7, #12]
 1799 027a 1B68     		ldr	r3, [r3]
 1800              		.loc 1 1432 26
 1801 027c 0C33     		adds	r3, r3, #12
 1802              		.loc 1 1432 49
 1803 027e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1804              		.loc 1 1432 46
 1805 0280 1A70     		strb	r2, [r3]
1433:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1806              		.loc 1 1433 13
 1807 0282 FB68     		ldr	r3, [r7, #12]
 1808 0284 9B6B     		ldr	r3, [r3, #56]
 1809              		.loc 1 1433 25
 1810 0286 5A1C     		adds	r2, r3, #1
 1811 0288 FB68     		ldr	r3, [r7, #12]
 1812 028a 9A63     		str	r2, [r3, #56]
1434:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount--;
 1813              		.loc 1 1434 13
 1814 028c FB68     		ldr	r3, [r7, #12]
 1815 028e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1816 0290 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 58


 1817              		.loc 1 1434 26
 1818 0292 013B     		subs	r3, r3, #1
 1819 0294 9AB2     		uxth	r2, r3
 1820 0296 FB68     		ldr	r3, [r7, #12]
 1821 0298 DA87     		strh	r2, [r3, #62]	@ movhi
1435:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1436:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1437:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Enable CRC Transmission */
1438:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1439:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1440:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1441:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
1442:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
1443:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1444:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
1445:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1446:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1447:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1448:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1449:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 1822              		.loc 1 1450 11
 1823 029a A2E0     		b	.L100
 1824              	.L109:
1451:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1452:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Check TXE flag */
1453:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
 1825              		.loc 1 1453 12
 1826 029c FB68     		ldr	r3, [r7, #12]
 1827 029e 1B68     		ldr	r3, [r3]
 1828 02a0 9B68     		ldr	r3, [r3, #8]
 1829 02a2 03F00203 		and	r3, r3, #2
 1830              		.loc 1 1453 10
 1831 02a6 022B     		cmp	r3, #2
 1832 02a8 34D1     		bne	.L101
 1833              		.loc 1 1453 60 discriminator 1
 1834 02aa FB68     		ldr	r3, [r7, #12]
 1835 02ac DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1836 02ae 9BB2     		uxth	r3, r3
 1837              		.loc 1 1453 52 discriminator 1
 1838 02b0 002B     		cmp	r3, #0
 1839 02b2 2FD0     		beq	.L101
 1840              		.loc 1 1453 80 discriminator 2
 1841 02b4 7B6A     		ldr	r3, [r7, #36]
 1842 02b6 012B     		cmp	r3, #1
 1843 02b8 2CD1     		bne	.L101
1454:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1455:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
 1844              		.loc 1 1455 17
 1845 02ba FB68     		ldr	r3, [r7, #12]
 1846 02bc DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1847 02be 9BB2     		uxth	r3, r3
 1848              		.loc 1 1455 12
 1849 02c0 012B     		cmp	r3, #1
 1850 02c2 12D9     		bls	.L102
1456:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1457:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 59


 1851              		.loc 1 1457 50
 1852 02c4 FB68     		ldr	r3, [r7, #12]
 1853 02c6 9B6B     		ldr	r3, [r3, #56]
 1854              		.loc 1 1457 32
 1855 02c8 1A88     		ldrh	r2, [r3]
 1856              		.loc 1 1457 15
 1857 02ca FB68     		ldr	r3, [r7, #12]
 1858 02cc 1B68     		ldr	r3, [r3]
 1859              		.loc 1 1457 30
 1860 02ce DA60     		str	r2, [r3, #12]
1458:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 1861              		.loc 1 1458 15
 1862 02d0 FB68     		ldr	r3, [r7, #12]
 1863 02d2 9B6B     		ldr	r3, [r3, #56]
 1864              		.loc 1 1458 28
 1865 02d4 9A1C     		adds	r2, r3, #2
 1866 02d6 FB68     		ldr	r3, [r7, #12]
 1867 02d8 9A63     		str	r2, [r3, #56]
1459:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 1868              		.loc 1 1459 15
 1869 02da FB68     		ldr	r3, [r7, #12]
 1870 02dc DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1871 02de 9BB2     		uxth	r3, r3
 1872              		.loc 1 1459 29
 1873 02e0 023B     		subs	r3, r3, #2
 1874 02e2 9AB2     		uxth	r2, r3
 1875 02e4 FB68     		ldr	r3, [r7, #12]
 1876 02e6 DA87     		strh	r2, [r3, #62]	@ movhi
 1877 02e8 12E0     		b	.L103
 1878              	.L102:
1460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1461:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         else
1462:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1463:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 1879              		.loc 1 1463 56
 1880 02ea FB68     		ldr	r3, [r7, #12]
 1881 02ec 9A6B     		ldr	r2, [r3, #56]
 1882              		.loc 1 1463 33
 1883 02ee FB68     		ldr	r3, [r7, #12]
 1884 02f0 1B68     		ldr	r3, [r3]
 1885              		.loc 1 1463 28
 1886 02f2 0C33     		adds	r3, r3, #12
 1887              		.loc 1 1463 51
 1888 02f4 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1889              		.loc 1 1463 48
 1890 02f6 1A70     		strb	r2, [r3]
1464:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 1891              		.loc 1 1464 15
 1892 02f8 FB68     		ldr	r3, [r7, #12]
 1893 02fa 9B6B     		ldr	r3, [r3, #56]
 1894              		.loc 1 1464 27
 1895 02fc 5A1C     		adds	r2, r3, #1
 1896 02fe FB68     		ldr	r3, [r7, #12]
 1897 0300 9A63     		str	r2, [r3, #56]
1465:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->TxXferCount--;
 1898              		.loc 1 1465 15
 1899 0302 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 60


 1900 0304 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1901 0306 9BB2     		uxth	r3, r3
 1902              		.loc 1 1465 28
 1903 0308 013B     		subs	r3, r3, #1
 1904 030a 9AB2     		uxth	r2, r3
 1905 030c FB68     		ldr	r3, [r7, #12]
 1906 030e DA87     		strh	r2, [r3, #62]	@ movhi
 1907              	.L103:
1466:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1467:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1468:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         txallowed = 0U;
 1908              		.loc 1 1468 19
 1909 0310 0023     		movs	r3, #0
 1910 0312 7B62     		str	r3, [r7, #36]
 1911              	.L101:
1469:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1470:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1471:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Enable CRC Transmission */
1472:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1473:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1474:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1475:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
1476:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
1477:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
1478:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
1479:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1480:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1481:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1482:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1483:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1484:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
1485:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
 1912              		.loc 1 1485 12
 1913 0314 FB68     		ldr	r3, [r7, #12]
 1914 0316 1B68     		ldr	r3, [r3]
 1915 0318 9B68     		ldr	r3, [r3, #8]
 1916 031a 03F00103 		and	r3, r3, #1
 1917              		.loc 1 1485 10
 1918 031e 012B     		cmp	r3, #1
 1919 0320 48D1     		bne	.L104
 1920              		.loc 1 1485 61 discriminator 1
 1921 0322 FB68     		ldr	r3, [r7, #12]
 1922 0324 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1923 0328 9BB2     		uxth	r3, r3
 1924              		.loc 1 1485 53 discriminator 1
 1925 032a 002B     		cmp	r3, #0
 1926 032c 42D0     		beq	.L104
1486:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1487:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->RxXferCount > 1U)
 1927              		.loc 1 1487 17
 1928 032e FB68     		ldr	r3, [r7, #12]
 1929 0330 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1930 0334 9BB2     		uxth	r3, r3
 1931              		.loc 1 1487 12
 1932 0336 012B     		cmp	r3, #1
 1933 0338 23D9     		bls	.L105
1488:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 61


1489:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 1934              		.loc 1 1489 59
 1935 033a FB68     		ldr	r3, [r7, #12]
 1936 033c 1B68     		ldr	r3, [r3]
 1937              		.loc 1 1489 69
 1938 033e DA68     		ldr	r2, [r3, #12]
 1939              		.loc 1 1489 29
 1940 0340 FB68     		ldr	r3, [r7, #12]
 1941 0342 1B6C     		ldr	r3, [r3, #64]
 1942              		.loc 1 1489 45
 1943 0344 92B2     		uxth	r2, r2
 1944              		.loc 1 1489 43
 1945 0346 1A80     		strh	r2, [r3]	@ movhi
1490:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 1946              		.loc 1 1490 15
 1947 0348 FB68     		ldr	r3, [r7, #12]
 1948 034a 1B6C     		ldr	r3, [r3, #64]
 1949              		.loc 1 1490 28
 1950 034c 9A1C     		adds	r2, r3, #2
 1951 034e FB68     		ldr	r3, [r7, #12]
 1952 0350 1A64     		str	r2, [r3, #64]
1491:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->RxXferCount -= 2U;
 1953              		.loc 1 1491 15
 1954 0352 FB68     		ldr	r3, [r7, #12]
 1955 0354 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1956 0358 9BB2     		uxth	r3, r3
 1957              		.loc 1 1491 29
 1958 035a 023B     		subs	r3, r3, #2
 1959 035c 9AB2     		uxth	r2, r3
 1960 035e FB68     		ldr	r3, [r7, #12]
 1961 0360 A3F84620 		strh	r2, [r3, #70]	@ movhi
1492:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if (hspi->RxXferCount <= 1U)
 1962              		.loc 1 1492 19
 1963 0364 FB68     		ldr	r3, [r7, #12]
 1964 0366 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1965 036a 9BB2     		uxth	r3, r3
 1966              		.loc 1 1492 14
 1967 036c 012B     		cmp	r3, #1
 1968 036e 1FD8     		bhi	.L106
1493:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
1494:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             /* Set RX Fifo threshold before to switch on 8 bit data size */
1495:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1969              		.loc 1 1495 13
 1970 0370 FB68     		ldr	r3, [r7, #12]
 1971 0372 1B68     		ldr	r3, [r3]
 1972 0374 5A68     		ldr	r2, [r3, #4]
 1973 0376 FB68     		ldr	r3, [r7, #12]
 1974 0378 1B68     		ldr	r3, [r3]
 1975 037a 42F48052 		orr	r2, r2, #4096
 1976 037e 5A60     		str	r2, [r3, #4]
 1977 0380 16E0     		b	.L106
 1978              	.L105:
1496:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
1497:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1498:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         else
1499:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1500:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 62


 1979              		.loc 1 1500 66
 1980 0382 FB68     		ldr	r3, [r7, #12]
 1981 0384 1B68     		ldr	r3, [r3]
 1982              		.loc 1 1500 61
 1983 0386 03F10C02 		add	r2, r3, #12
 1984              		.loc 1 1500 28
 1985 038a FB68     		ldr	r3, [r7, #12]
 1986 038c 1B6C     		ldr	r3, [r3, #64]
 1987              		.loc 1 1500 44
 1988 038e 1278     		ldrb	r2, [r2]
 1989 0390 D2B2     		uxtb	r2, r2
 1990              		.loc 1 1500 42
 1991 0392 1A70     		strb	r2, [r3]
1501:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 1992              		.loc 1 1501 15
 1993 0394 FB68     		ldr	r3, [r7, #12]
 1994 0396 1B6C     		ldr	r3, [r3, #64]
 1995              		.loc 1 1501 27
 1996 0398 5A1C     		adds	r2, r3, #1
 1997 039a FB68     		ldr	r3, [r7, #12]
 1998 039c 1A64     		str	r2, [r3, #64]
1502:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->RxXferCount--;
 1999              		.loc 1 1502 15
 2000 039e FB68     		ldr	r3, [r7, #12]
 2001 03a0 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2002 03a4 9BB2     		uxth	r3, r3
 2003              		.loc 1 1502 28
 2004 03a6 013B     		subs	r3, r3, #1
 2005 03a8 9AB2     		uxth	r2, r3
 2006 03aa FB68     		ldr	r3, [r7, #12]
 2007 03ac A3F84620 		strh	r2, [r3, #70]	@ movhi
 2008              	.L106:
1503:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1504:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1505:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         txallowed = 1U;
 2009              		.loc 1 1505 19
 2010 03b0 0123     		movs	r3, #1
 2011 03b2 7B62     		str	r3, [r7, #36]
 2012              	.L104:
1506:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1507:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
 2013              		.loc 1 1507 14
 2014 03b4 FFF7FEFF 		bl	HAL_GetTick
 2015 03b8 0246     		mov	r2, r0
 2016              		.loc 1 1507 28 discriminator 1
 2017 03ba FB69     		ldr	r3, [r7, #28]
 2018 03bc D31A     		subs	r3, r2, r3
 2019              		.loc 1 1507 10 discriminator 1
 2020 03be 3A6B     		ldr	r2, [r7, #48]
 2021 03c0 9A42     		cmp	r2, r3
 2022 03c2 03D8     		bhi	.L107
 2023              		.loc 1 1507 54 discriminator 1
 2024 03c4 3B6B     		ldr	r3, [r7, #48]
 2025 03c6 B3F1FF3F 		cmp	r3, #-1
 2026 03ca 02D1     		bne	.L108
 2027              	.L107:
 2028              		.loc 1 1507 87 discriminator 3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 63


 2029 03cc 3B6B     		ldr	r3, [r7, #48]
 2030 03ce 002B     		cmp	r3, #0
 2031 03d0 07D1     		bne	.L100
 2032              	.L108:
1508:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1509:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
 2033              		.loc 1 1509 19
 2034 03d2 0323     		movs	r3, #3
 2035 03d4 87F82330 		strb	r3, [r7, #35]
1510:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 2036              		.loc 1 1510 21
 2037 03d8 FB68     		ldr	r3, [r7, #12]
 2038 03da 0122     		movs	r2, #1
 2039 03dc 83F85D20 		strb	r2, [r3, #93]
1511:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         goto error;
 2040              		.loc 1 1511 9
 2041 03e0 26E0     		b	.L80
 2042              	.L100:
1450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 2043              		.loc 1 1450 17
 2044 03e2 FB68     		ldr	r3, [r7, #12]
 2045 03e4 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2046 03e6 9BB2     		uxth	r3, r3
1450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 2047              		.loc 1 1450 37
 2048 03e8 002B     		cmp	r3, #0
 2049 03ea 7FF457AF 		bne	.L109
1450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 2050              		.loc 1 1450 45 discriminator 1
 2051 03ee FB68     		ldr	r3, [r7, #12]
 2052 03f0 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2053 03f4 9BB2     		uxth	r3, r3
1450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
 2054              		.loc 1 1450 37 discriminator 1
 2055 03f6 002B     		cmp	r3, #0
 2056 03f8 7FF450AF 		bne	.L109
 2057              	.L96:
1512:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1513:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1514:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1515:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1516:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1517:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1518:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1519:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1520:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait until TXE flag */
1521:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1522:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1523:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Error on the CRC reception */
1524:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1525:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1526:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       goto error;
1527:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1528:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Read CRC */
1529:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1530:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1531:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Read 16bit CRC */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 64


1532:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
1533:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* To avoid GCC warning */
1534:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       UNUSED(tmpreg);
1535:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1536:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
1537:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1538:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Initialize the 8bit temporary pointer */
1539:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
1540:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Read 8bit CRC */
1541:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
1542:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* To avoid GCC warning */
1543:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       UNUSED(tmpreg8);
1544:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1545:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
1546:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
1547:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1548:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
1549:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Error on the CRC reception */
1550:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1551:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1552:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           goto error;
1553:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
1554:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1555:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
1556:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
1557:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg8);
1558:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
1559:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1560:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1561:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1562:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if CRC error occurred */
1563:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1564:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1565:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1566:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Clear CRC Flag */
1567:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1568:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1569:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1570:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1571:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1572:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1573:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
1574:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 2058              		.loc 1 1574 7
 2059 03fc FA69     		ldr	r2, [r7, #28]
 2060 03fe 396B     		ldr	r1, [r7, #48]
 2061 0400 F868     		ldr	r0, [r7, #12]
 2062 0402 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 2063 0406 0346     		mov	r3, r0
 2064              		.loc 1 1574 6 discriminator 1
 2065 0408 002B     		cmp	r3, #0
 2066 040a 05D0     		beq	.L110
1575:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1576:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2067              		.loc 1 1576 15
 2068 040c 0123     		movs	r3, #1
 2069 040e 87F82330 		strb	r3, [r7, #35]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 65


1577:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 2070              		.loc 1 1577 21
 2071 0412 FB68     		ldr	r3, [r7, #12]
 2072 0414 2022     		movs	r2, #32
 2073 0416 1A66     		str	r2, [r3, #96]
 2074              	.L110:
1578:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1579:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1580:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2075              		.loc 1 1580 11
 2076 0418 FB68     		ldr	r3, [r7, #12]
 2077 041a 1B6E     		ldr	r3, [r3, #96]
 2078              		.loc 1 1580 6
 2079 041c 002B     		cmp	r3, #0
 2080 041e 03D0     		beq	.L111
1581:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1582:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2081              		.loc 1 1582 15
 2082 0420 0123     		movs	r3, #1
 2083 0422 87F82330 		strb	r3, [r7, #35]
 2084 0426 03E0     		b	.L80
 2085              	.L111:
1583:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1584:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1585:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1586:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 2086              		.loc 1 1586 17
 2087 0428 FB68     		ldr	r3, [r7, #12]
 2088 042a 0122     		movs	r2, #1
 2089 042c 83F85D20 		strb	r2, [r3, #93]
 2090              	.L80:
1587:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1588:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   
1589:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
1590:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2091              		.loc 1 1590 3
 2092 0430 FB68     		ldr	r3, [r7, #12]
 2093 0432 0022     		movs	r2, #0
 2094 0434 83F85C20 		strb	r2, [r3, #92]
1591:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 2095              		.loc 1 1591 10
 2096 0438 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 2097              	.L77:
1592:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 2098              		.loc 1 1592 1
 2099 043c 1846     		mov	r0, r3
 2100 043e 2837     		adds	r7, r7, #40
 2101              	.LCFI35:
 2102              		.cfi_def_cfa_offset 8
 2103 0440 BD46     		mov	sp, r7
 2104              	.LCFI36:
 2105              		.cfi_def_cfa_register 13
 2106              		@ sp needed
 2107 0442 80BD     		pop	{r7, pc}
 2108              		.cfi_endproc
 2109              	.LFE138:
 2111              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 66


 2112              		.align	1
 2113              		.global	HAL_SPI_Transmit_IT
 2114              		.syntax unified
 2115              		.thumb
 2116              		.thumb_func
 2118              	HAL_SPI_Transmit_IT:
 2119              	.LFB139:
1593:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1594:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
1595:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1596:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1597:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1598:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1599:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1600:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1601:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1602:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1603:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 2120              		.loc 1 1603 1
 2121              		.cfi_startproc
 2122              		@ args = 0, pretend = 0, frame = 24
 2123              		@ frame_needed = 1, uses_anonymous_args = 0
 2124              		@ link register save eliminated.
 2125 0000 80B4     		push	{r7}
 2126              	.LCFI37:
 2127              		.cfi_def_cfa_offset 4
 2128              		.cfi_offset 7, -4
 2129 0002 87B0     		sub	sp, sp, #28
 2130              	.LCFI38:
 2131              		.cfi_def_cfa_offset 32
 2132 0004 00AF     		add	r7, sp, #0
 2133              	.LCFI39:
 2134              		.cfi_def_cfa_register 7
 2135 0006 F860     		str	r0, [r7, #12]
 2136 0008 B960     		str	r1, [r7, #8]
 2137 000a 1346     		mov	r3, r2
 2138 000c FB80     		strh	r3, [r7, #6]	@ movhi
1604:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2139              		.loc 1 1604 21
 2140 000e 0023     		movs	r3, #0
 2141 0010 FB75     		strb	r3, [r7, #23]
1605:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1606:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
1607:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1608:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1609:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1610:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 2142              		.loc 1 1610 6
 2143 0012 BB68     		ldr	r3, [r7, #8]
 2144 0014 002B     		cmp	r3, #0
 2145 0016 02D0     		beq	.L113
 2146              		.loc 1 1610 23 discriminator 1
 2147 0018 FB88     		ldrh	r3, [r7, #6]
 2148 001a 002B     		cmp	r3, #0
 2149 001c 02D1     		bne	.L114
 2150              	.L113:
1611:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 67


1612:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2151              		.loc 1 1612 15
 2152 001e 0123     		movs	r3, #1
 2153 0020 FB75     		strb	r3, [r7, #23]
1613:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2154              		.loc 1 1613 5
 2155 0022 6DE0     		b	.L115
 2156              	.L114:
1614:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1615:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1616:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 2157              		.loc 1 1616 11
 2158 0024 FB68     		ldr	r3, [r7, #12]
 2159 0026 93F85D30 		ldrb	r3, [r3, #93]
 2160 002a DBB2     		uxtb	r3, r3
 2161              		.loc 1 1616 6
 2162 002c 012B     		cmp	r3, #1
 2163 002e 02D0     		beq	.L116
1617:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1618:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2164              		.loc 1 1618 15
 2165 0030 0223     		movs	r3, #2
 2166 0032 FB75     		strb	r3, [r7, #23]
1619:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2167              		.loc 1 1619 5
 2168 0034 64E0     		b	.L115
 2169              	.L116:
1620:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1621:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1622:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
1623:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2170              		.loc 1 1623 3
 2171 0036 FB68     		ldr	r3, [r7, #12]
 2172 0038 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 2173 003c 012B     		cmp	r3, #1
 2174 003e 01D1     		bne	.L117
 2175              		.loc 1 1623 3 is_stmt 0 discriminator 1
 2176 0040 0223     		movs	r3, #2
 2177              		.loc 1 1623 3
 2178 0042 5EE0     		b	.L118
 2179              	.L117:
 2180              		.loc 1 1623 3 discriminator 2
 2181 0044 FB68     		ldr	r3, [r7, #12]
 2182 0046 0122     		movs	r2, #1
 2183 0048 83F85C20 		strb	r2, [r3, #92]
1624:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1625:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1626:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 2184              		.loc 1 1626 21 is_stmt 1
 2185 004c FB68     		ldr	r3, [r7, #12]
 2186 004e 0322     		movs	r2, #3
 2187 0050 83F85D20 		strb	r2, [r3, #93]
1627:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2188              		.loc 1 1627 21
 2189 0054 FB68     		ldr	r3, [r7, #12]
 2190 0056 0022     		movs	r2, #0
 2191 0058 1A66     		str	r2, [r3, #96]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 68


1628:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 2192              		.loc 1 1628 21
 2193 005a FB68     		ldr	r3, [r7, #12]
 2194 005c BA68     		ldr	r2, [r7, #8]
 2195 005e 9A63     		str	r2, [r3, #56]
1629:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2196              		.loc 1 1629 21
 2197 0060 FB68     		ldr	r3, [r7, #12]
 2198 0062 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2199 0064 9A87     		strh	r2, [r3, #60]	@ movhi
1630:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2200              		.loc 1 1630 21
 2201 0066 FB68     		ldr	r3, [r7, #12]
 2202 0068 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2203 006a DA87     		strh	r2, [r3, #62]	@ movhi
1631:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1632:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1633:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 2204              		.loc 1 1633 21
 2205 006c FB68     		ldr	r3, [r7, #12]
 2206 006e 0022     		movs	r2, #0
 2207 0070 1A64     		str	r2, [r3, #64]
1634:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2208              		.loc 1 1634 21
 2209 0072 FB68     		ldr	r3, [r7, #12]
 2210 0074 0022     		movs	r2, #0
 2211 0076 A3F84420 		strh	r2, [r3, #68]	@ movhi
1635:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2212              		.loc 1 1635 21
 2213 007a FB68     		ldr	r3, [r7, #12]
 2214 007c 0022     		movs	r2, #0
 2215 007e A3F84620 		strh	r2, [r3, #70]	@ movhi
1636:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2216              		.loc 1 1636 21
 2217 0082 FB68     		ldr	r3, [r7, #12]
 2218 0084 0022     		movs	r2, #0
 2219 0086 DA64     		str	r2, [r3, #76]
1637:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1638:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the function for IT treatment */
1639:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 2220              		.loc 1 1639 17
 2221 0088 FB68     		ldr	r3, [r7, #12]
 2222 008a DB68     		ldr	r3, [r3, #12]
 2223              		.loc 1 1639 6
 2224 008c B3F5E06F 		cmp	r3, #1792
 2225 0090 03D9     		bls	.L119
1640:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1641:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
 2226              		.loc 1 1641 17
 2227 0092 FB68     		ldr	r3, [r7, #12]
 2228 0094 1E4A     		ldr	r2, .L123
 2229 0096 1A65     		str	r2, [r3, #80]
 2230 0098 02E0     		b	.L120
 2231              	.L119:
1642:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1643:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1644:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 69


1645:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
 2232              		.loc 1 1645 17
 2233 009a FB68     		ldr	r3, [r7, #12]
 2234 009c 1D4A     		ldr	r2, .L123+4
 2235 009e 1A65     		str	r2, [r3, #80]
 2236              	.L120:
1646:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1647:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1648:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1649:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2237              		.loc 1 1649 17
 2238 00a0 FB68     		ldr	r3, [r7, #12]
 2239 00a2 9B68     		ldr	r3, [r3, #8]
 2240              		.loc 1 1649 6
 2241 00a4 B3F5004F 		cmp	r3, #32768
 2242 00a8 0FD1     		bne	.L121
1650:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1651:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1652:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 2243              		.loc 1 1652 5
 2244 00aa FB68     		ldr	r3, [r7, #12]
 2245 00ac 1B68     		ldr	r3, [r3]
 2246 00ae 1A68     		ldr	r2, [r3]
 2247 00b0 FB68     		ldr	r3, [r7, #12]
 2248 00b2 1B68     		ldr	r3, [r3]
 2249 00b4 22F04002 		bic	r2, r2, #64
 2250 00b8 1A60     		str	r2, [r3]
1653:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2251              		.loc 1 1653 5
 2252 00ba FB68     		ldr	r3, [r7, #12]
 2253 00bc 1B68     		ldr	r3, [r3]
 2254 00be 1A68     		ldr	r2, [r3]
 2255 00c0 FB68     		ldr	r3, [r7, #12]
 2256 00c2 1B68     		ldr	r3, [r3]
 2257 00c4 42F48042 		orr	r2, r2, #16384
 2258 00c8 1A60     		str	r2, [r3]
 2259              	.L121:
1654:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1655:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1656:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1657:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1658:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1659:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1660:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1661:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1662:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1663:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1664:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1665:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 2260              		.loc 1 1665 12
 2261 00ca FB68     		ldr	r3, [r7, #12]
 2262 00cc 1B68     		ldr	r3, [r3]
 2263              		.loc 1 1665 22
 2264 00ce 1B68     		ldr	r3, [r3]
 2265              		.loc 1 1665 28
 2266 00d0 03F04003 		and	r3, r3, #64
 2267              		.loc 1 1665 6
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 70


 2268 00d4 402B     		cmp	r3, #64
 2269 00d6 07D0     		beq	.L122
1666:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1667:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
1668:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2270              		.loc 1 1668 5
 2271 00d8 FB68     		ldr	r3, [r7, #12]
 2272 00da 1B68     		ldr	r3, [r3]
 2273 00dc 1A68     		ldr	r2, [r3]
 2274 00de FB68     		ldr	r3, [r7, #12]
 2275 00e0 1B68     		ldr	r3, [r3]
 2276 00e2 42F04002 		orr	r2, r2, #64
 2277 00e6 1A60     		str	r2, [r3]
 2278              	.L122:
1669:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1670:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1671:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
1672:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2279              		.loc 1 1672 3
 2280 00e8 FB68     		ldr	r3, [r7, #12]
 2281 00ea 0022     		movs	r2, #0
 2282 00ec 83F85C20 		strb	r2, [r3, #92]
1673:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1674:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 2283              		.loc 1 1674 3
 2284 00f0 FB68     		ldr	r3, [r7, #12]
 2285 00f2 1B68     		ldr	r3, [r3]
 2286 00f4 5A68     		ldr	r2, [r3, #4]
 2287 00f6 FB68     		ldr	r3, [r7, #12]
 2288 00f8 1B68     		ldr	r3, [r3]
 2289 00fa 42F0A002 		orr	r2, r2, #160
 2290 00fe 5A60     		str	r2, [r3, #4]
 2291              	.L115:
1675:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1676:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
1677:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 2292              		.loc 1 1677 10
 2293 0100 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2294              	.L118:
1678:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 2295              		.loc 1 1678 1
 2296 0102 1846     		mov	r0, r3
 2297 0104 1C37     		adds	r7, r7, #28
 2298              	.LCFI40:
 2299              		.cfi_def_cfa_offset 4
 2300 0106 BD46     		mov	sp, r7
 2301              	.LCFI41:
 2302              		.cfi_def_cfa_register 13
 2303              		@ sp needed
 2304 0108 5DF8047B 		ldr	r7, [sp], #4
 2305              	.LCFI42:
 2306              		.cfi_restore 7
 2307              		.cfi_def_cfa_offset 0
 2308 010c 7047     		bx	lr
 2309              	.L124:
 2310 010e 00BF     		.align	2
 2311              	.L123:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 71


 2312 0110 00000000 		.word	SPI_TxISR_16BIT
 2313 0114 00000000 		.word	SPI_TxISR_8BIT
 2314              		.cfi_endproc
 2315              	.LFE139:
 2317              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 2318              		.align	1
 2319              		.global	HAL_SPI_Receive_IT
 2320              		.syntax unified
 2321              		.thumb
 2322              		.thumb_func
 2324              	HAL_SPI_Receive_IT:
 2325              	.LFB140:
1679:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1680:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
1681:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1682:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1683:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1684:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1685:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1686:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1687:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1688:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1689:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 2326              		.loc 1 1689 1
 2327              		.cfi_startproc
 2328              		@ args = 0, pretend = 0, frame = 24
 2329              		@ frame_needed = 1, uses_anonymous_args = 0
 2330 0000 80B5     		push	{r7, lr}
 2331              	.LCFI43:
 2332              		.cfi_def_cfa_offset 8
 2333              		.cfi_offset 7, -8
 2334              		.cfi_offset 14, -4
 2335 0002 86B0     		sub	sp, sp, #24
 2336              	.LCFI44:
 2337              		.cfi_def_cfa_offset 32
 2338 0004 00AF     		add	r7, sp, #0
 2339              	.LCFI45:
 2340              		.cfi_def_cfa_register 7
 2341 0006 F860     		str	r0, [r7, #12]
 2342 0008 B960     		str	r1, [r7, #8]
 2343 000a 1346     		mov	r3, r2
 2344 000c FB80     		strh	r3, [r7, #6]	@ movhi
1690:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2345              		.loc 1 1690 21
 2346 000e 0023     		movs	r3, #0
 2347 0010 FB75     		strb	r3, [r7, #23]
1691:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1692:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1693:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 2348              		.loc 1 1693 11
 2349 0012 FB68     		ldr	r3, [r7, #12]
 2350 0014 93F85D30 		ldrb	r3, [r3, #93]
 2351 0018 DBB2     		uxtb	r3, r3
 2352              		.loc 1 1693 6
 2353 001a 012B     		cmp	r3, #1
 2354 001c 02D0     		beq	.L126
1694:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 72


1695:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2355              		.loc 1 1695 15
 2356 001e 0223     		movs	r3, #2
 2357 0020 FB75     		strb	r3, [r7, #23]
1696:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2358              		.loc 1 1696 5
 2359 0022 92E0     		b	.L127
 2360              	.L126:
1697:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1698:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1699:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 2361              		.loc 1 1699 18
 2362 0024 FB68     		ldr	r3, [r7, #12]
 2363 0026 9B68     		ldr	r3, [r3, #8]
 2364              		.loc 1 1699 6
 2365 0028 002B     		cmp	r3, #0
 2366 002a 10D1     		bne	.L128
 2367              		.loc 1 1699 68 discriminator 1
 2368 002c FB68     		ldr	r3, [r7, #12]
 2369 002e 5B68     		ldr	r3, [r3, #4]
 2370              		.loc 1 1699 54 discriminator 1
 2371 0030 B3F5827F 		cmp	r3, #260
 2372 0034 0BD1     		bne	.L128
1700:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1701:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 2373              		.loc 1 1701 17
 2374 0036 FB68     		ldr	r3, [r7, #12]
 2375 0038 0422     		movs	r2, #4
 2376 003a 83F85D20 		strb	r2, [r3, #93]
1702:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1703:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
 2377              		.loc 1 1703 12
 2378 003e FB88     		ldrh	r3, [r7, #6]
 2379 0040 BA68     		ldr	r2, [r7, #8]
 2380 0042 B968     		ldr	r1, [r7, #8]
 2381 0044 F868     		ldr	r0, [r7, #12]
 2382 0046 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 2383 004a 0346     		mov	r3, r0
 2384 004c 7EE0     		b	.L129
 2385              	.L128:
1704:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1705:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1706:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1707:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 2386              		.loc 1 1707 6
 2387 004e BB68     		ldr	r3, [r7, #8]
 2388 0050 002B     		cmp	r3, #0
 2389 0052 02D0     		beq	.L130
 2390              		.loc 1 1707 23 discriminator 1
 2391 0054 FB88     		ldrh	r3, [r7, #6]
 2392 0056 002B     		cmp	r3, #0
 2393 0058 02D1     		bne	.L131
 2394              	.L130:
1708:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1709:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2395              		.loc 1 1709 15
 2396 005a 0123     		movs	r3, #1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 73


 2397 005c FB75     		strb	r3, [r7, #23]
1710:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2398              		.loc 1 1710 5
 2399 005e 74E0     		b	.L127
 2400              	.L131:
1711:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1712:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1713:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
1714:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2401              		.loc 1 1714 3
 2402 0060 FB68     		ldr	r3, [r7, #12]
 2403 0062 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 2404 0066 012B     		cmp	r3, #1
 2405 0068 01D1     		bne	.L132
 2406              		.loc 1 1714 3 is_stmt 0 discriminator 1
 2407 006a 0223     		movs	r3, #2
 2408              		.loc 1 1714 3
 2409 006c 6EE0     		b	.L129
 2410              	.L132:
 2411              		.loc 1 1714 3 discriminator 2
 2412 006e FB68     		ldr	r3, [r7, #12]
 2413 0070 0122     		movs	r2, #1
 2414 0072 83F85C20 		strb	r2, [r3, #92]
1715:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1716:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1717:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 2415              		.loc 1 1717 21 is_stmt 1
 2416 0076 FB68     		ldr	r3, [r7, #12]
 2417 0078 0422     		movs	r2, #4
 2418 007a 83F85D20 		strb	r2, [r3, #93]
1718:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2419              		.loc 1 1718 21
 2420 007e FB68     		ldr	r3, [r7, #12]
 2421 0080 0022     		movs	r2, #0
 2422 0082 1A66     		str	r2, [r3, #96]
1719:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2423              		.loc 1 1719 21
 2424 0084 FB68     		ldr	r3, [r7, #12]
 2425 0086 BA68     		ldr	r2, [r7, #8]
 2426 0088 1A64     		str	r2, [r3, #64]
1720:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2427              		.loc 1 1720 21
 2428 008a FB68     		ldr	r3, [r7, #12]
 2429 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 2430 008e A3F84420 		strh	r2, [r3, #68]	@ movhi
1721:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2431              		.loc 1 1721 21
 2432 0092 FB68     		ldr	r3, [r7, #12]
 2433 0094 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2434 0096 A3F84620 		strh	r2, [r3, #70]	@ movhi
1722:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1723:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1724:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 2435              		.loc 1 1724 21
 2436 009a FB68     		ldr	r3, [r7, #12]
 2437 009c 0022     		movs	r2, #0
 2438 009e 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 74


1725:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2439              		.loc 1 1725 21
 2440 00a0 FB68     		ldr	r3, [r7, #12]
 2441 00a2 0022     		movs	r2, #0
 2442 00a4 9A87     		strh	r2, [r3, #60]	@ movhi
1726:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2443              		.loc 1 1726 21
 2444 00a6 FB68     		ldr	r3, [r7, #12]
 2445 00a8 0022     		movs	r2, #0
 2446 00aa DA87     		strh	r2, [r3, #62]	@ movhi
1727:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2447              		.loc 1 1727 21
 2448 00ac FB68     		ldr	r3, [r7, #12]
 2449 00ae 0022     		movs	r2, #0
 2450 00b0 1A65     		str	r2, [r3, #80]
1728:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1729:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the data size to adapt Rx threshold and the set the function for IT treatment */
1730:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 2451              		.loc 1 1730 17
 2452 00b2 FB68     		ldr	r3, [r7, #12]
 2453 00b4 DB68     		ldr	r3, [r3, #12]
 2454              		.loc 1 1730 6
 2455 00b6 B3F5E06F 		cmp	r3, #1792
 2456 00ba 0BD9     		bls	.L133
1731:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1732:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1733:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 2457              		.loc 1 1733 5
 2458 00bc FB68     		ldr	r3, [r7, #12]
 2459 00be 1B68     		ldr	r3, [r3]
 2460 00c0 5A68     		ldr	r2, [r3, #4]
 2461 00c2 FB68     		ldr	r3, [r7, #12]
 2462 00c4 1B68     		ldr	r3, [r3]
 2463 00c6 22F48052 		bic	r2, r2, #4096
 2464 00ca 5A60     		str	r2, [r3, #4]
1734:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
 2465              		.loc 1 1734 17
 2466 00cc FB68     		ldr	r3, [r7, #12]
 2467 00ce 214A     		ldr	r2, .L137
 2468 00d0 DA64     		str	r2, [r3, #76]
 2469 00d2 0AE0     		b	.L134
 2470              	.L133:
1735:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1736:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1737:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1738:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
1739:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 2471              		.loc 1 1739 5
 2472 00d4 FB68     		ldr	r3, [r7, #12]
 2473 00d6 1B68     		ldr	r3, [r3]
 2474 00d8 5A68     		ldr	r2, [r3, #4]
 2475 00da FB68     		ldr	r3, [r7, #12]
 2476 00dc 1B68     		ldr	r3, [r3]
 2477 00de 42F48052 		orr	r2, r2, #4096
 2478 00e2 5A60     		str	r2, [r3, #4]
1740:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
 2479              		.loc 1 1740 17
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 75


 2480 00e4 FB68     		ldr	r3, [r7, #12]
 2481 00e6 1C4A     		ldr	r2, .L137+4
 2482 00e8 DA64     		str	r2, [r3, #76]
 2483              	.L134:
1741:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1742:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1743:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1744:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2484              		.loc 1 1744 17
 2485 00ea FB68     		ldr	r3, [r7, #12]
 2486 00ec 9B68     		ldr	r3, [r3, #8]
 2487              		.loc 1 1744 6
 2488 00ee B3F5004F 		cmp	r3, #32768
 2489 00f2 0FD1     		bne	.L135
1745:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1746:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1747:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 2490              		.loc 1 1747 5
 2491 00f4 FB68     		ldr	r3, [r7, #12]
 2492 00f6 1B68     		ldr	r3, [r3]
 2493 00f8 1A68     		ldr	r2, [r3]
 2494 00fa FB68     		ldr	r3, [r7, #12]
 2495 00fc 1B68     		ldr	r3, [r3]
 2496 00fe 22F04002 		bic	r2, r2, #64
 2497 0102 1A60     		str	r2, [r3]
1748:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2498              		.loc 1 1748 5
 2499 0104 FB68     		ldr	r3, [r7, #12]
 2500 0106 1B68     		ldr	r3, [r3]
 2501 0108 1A68     		ldr	r2, [r3]
 2502 010a FB68     		ldr	r3, [r7, #12]
 2503 010c 1B68     		ldr	r3, [r3]
 2504 010e 22F48042 		bic	r2, r2, #16384
 2505 0112 1A60     		str	r2, [r3]
 2506              	.L135:
1749:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1750:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1751:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1752:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1753:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1754:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1755:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->CRCSize = 1U;
1756:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
1757:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1758:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->CRCSize = 2U;
1759:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1760:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1761:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1762:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1763:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1764:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->CRCSize = 0U;
1765:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1766:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1767:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1768:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1769:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1770:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             process unlock */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 76


1771:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1772:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1773:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 2507              		.loc 1 1773 12
 2508 0114 FB68     		ldr	r3, [r7, #12]
 2509 0116 1B68     		ldr	r3, [r3]
 2510              		.loc 1 1773 22
 2511 0118 1B68     		ldr	r3, [r3]
 2512              		.loc 1 1773 28
 2513 011a 03F04003 		and	r3, r3, #64
 2514              		.loc 1 1773 6
 2515 011e 402B     		cmp	r3, #64
 2516 0120 07D0     		beq	.L136
1774:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1775:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
1776:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2517              		.loc 1 1776 5
 2518 0122 FB68     		ldr	r3, [r7, #12]
 2519 0124 1B68     		ldr	r3, [r3]
 2520 0126 1A68     		ldr	r2, [r3]
 2521 0128 FB68     		ldr	r3, [r7, #12]
 2522 012a 1B68     		ldr	r3, [r3]
 2523 012c 42F04002 		orr	r2, r2, #64
 2524 0130 1A60     		str	r2, [r3]
 2525              	.L136:
1777:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1778:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1779:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
1780:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2526              		.loc 1 1780 3
 2527 0132 FB68     		ldr	r3, [r7, #12]
 2528 0134 0022     		movs	r2, #0
 2529 0136 83F85C20 		strb	r2, [r3, #92]
1781:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
1782:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 2530              		.loc 1 1782 3
 2531 013a FB68     		ldr	r3, [r7, #12]
 2532 013c 1B68     		ldr	r3, [r3]
 2533 013e 5A68     		ldr	r2, [r3, #4]
 2534 0140 FB68     		ldr	r3, [r7, #12]
 2535 0142 1B68     		ldr	r3, [r3]
 2536 0144 42F06002 		orr	r2, r2, #96
 2537 0148 5A60     		str	r2, [r3, #4]
 2538              	.L127:
1783:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1784:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
1785:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 2539              		.loc 1 1785 10
 2540 014a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2541              	.L129:
1786:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 2542              		.loc 1 1786 1
 2543 014c 1846     		mov	r0, r3
 2544 014e 1837     		adds	r7, r7, #24
 2545              	.LCFI46:
 2546              		.cfi_def_cfa_offset 8
 2547 0150 BD46     		mov	sp, r7
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 77


 2548              	.LCFI47:
 2549              		.cfi_def_cfa_register 13
 2550              		@ sp needed
 2551 0152 80BD     		pop	{r7, pc}
 2552              	.L138:
 2553              		.align	2
 2554              	.L137:
 2555 0154 00000000 		.word	SPI_RxISR_16BIT
 2556 0158 00000000 		.word	SPI_RxISR_8BIT
 2557              		.cfi_endproc
 2558              	.LFE140:
 2560              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 2561              		.align	1
 2562              		.global	HAL_SPI_TransmitReceive_IT
 2563              		.syntax unified
 2564              		.thumb
 2565              		.thumb_func
 2567              	HAL_SPI_TransmitReceive_IT:
 2568              	.LFB141:
1787:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1788:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
1789:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1790:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1791:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1792:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1793:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1794:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1795:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1796:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1797:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1798:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 2569              		.loc 1 1798 1
 2570              		.cfi_startproc
 2571              		@ args = 0, pretend = 0, frame = 24
 2572              		@ frame_needed = 1, uses_anonymous_args = 0
 2573              		@ link register save eliminated.
 2574 0000 80B4     		push	{r7}
 2575              	.LCFI48:
 2576              		.cfi_def_cfa_offset 4
 2577              		.cfi_offset 7, -4
 2578 0002 87B0     		sub	sp, sp, #28
 2579              	.LCFI49:
 2580              		.cfi_def_cfa_offset 32
 2581 0004 00AF     		add	r7, sp, #0
 2582              	.LCFI50:
 2583              		.cfi_def_cfa_register 7
 2584 0006 F860     		str	r0, [r7, #12]
 2585 0008 B960     		str	r1, [r7, #8]
 2586 000a 7A60     		str	r2, [r7, #4]
 2587 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1799:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             tmp_mode;
1800:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1801:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
 2588              		.loc 1 1801 24
 2589 000e 0023     		movs	r3, #0
 2590 0010 FB75     		strb	r3, [r7, #23]
1802:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 78


1803:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
1804:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1805:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1806:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init temporary variables */
1807:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_state           = hspi->State;
 2591              		.loc 1 1807 23
 2592 0012 FB68     		ldr	r3, [r7, #12]
 2593 0014 93F85D30 		ldrb	r3, [r3, #93]
 2594 0018 BB75     		strb	r3, [r7, #22]
1808:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2595              		.loc 1 1808 23
 2596 001a FB68     		ldr	r3, [r7, #12]
 2597 001c 5B68     		ldr	r3, [r3, #4]
 2598 001e 3B61     		str	r3, [r7, #16]
1809:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1810:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
 2599              		.loc 1 1810 6
 2600 0020 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2601 0022 012B     		cmp	r3, #1
 2602 0024 0DD0     		beq	.L140
 2603              		.loc 1 1810 7 discriminator 1
 2604 0026 3B69     		ldr	r3, [r7, #16]
 2605 0028 B3F5827F 		cmp	r3, #260
 2606 002c 06D1     		bne	.L141
1811:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2607              		.loc 1 1811 54
 2608 002e FB68     		ldr	r3, [r7, #12]
 2609 0030 9B68     		ldr	r3, [r3, #8]
 2610              		.loc 1 1811 40
 2611 0032 002B     		cmp	r3, #0
 2612 0034 02D1     		bne	.L141
 2613              		.loc 1 1811 90 discriminator 1
 2614 0036 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2615 0038 042B     		cmp	r3, #4
 2616 003a 02D0     		beq	.L140
 2617              	.L141:
1812:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1813:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2618              		.loc 1 1813 15
 2619 003c 0223     		movs	r3, #2
 2620 003e FB75     		strb	r3, [r7, #23]
1814:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2621              		.loc 1 1814 5
 2622 0040 7DE0     		b	.L142
 2623              	.L140:
1815:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1816:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1817:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 2624              		.loc 1 1817 6
 2625 0042 BB68     		ldr	r3, [r7, #8]
 2626 0044 002B     		cmp	r3, #0
 2627 0046 05D0     		beq	.L143
 2628              		.loc 1 1817 25 discriminator 1
 2629 0048 7B68     		ldr	r3, [r7, #4]
 2630 004a 002B     		cmp	r3, #0
 2631 004c 02D0     		beq	.L143
 2632              		.loc 1 1817 46 discriminator 2
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 79


 2633 004e 7B88     		ldrh	r3, [r7, #2]
 2634 0050 002B     		cmp	r3, #0
 2635 0052 02D1     		bne	.L144
 2636              	.L143:
1818:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1819:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2637              		.loc 1 1819 15
 2638 0054 0123     		movs	r3, #1
 2639 0056 FB75     		strb	r3, [r7, #23]
1820:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2640              		.loc 1 1820 5
 2641 0058 71E0     		b	.L142
 2642              	.L144:
1821:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1822:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1823:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process locked */
1824:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2643              		.loc 1 1824 3
 2644 005a FB68     		ldr	r3, [r7, #12]
 2645 005c 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 2646 0060 012B     		cmp	r3, #1
 2647 0062 01D1     		bne	.L145
 2648              		.loc 1 1824 3 is_stmt 0 discriminator 1
 2649 0064 0223     		movs	r3, #2
 2650              		.loc 1 1824 3
 2651 0066 6BE0     		b	.L146
 2652              	.L145:
 2653              		.loc 1 1824 3 discriminator 2
 2654 0068 FB68     		ldr	r3, [r7, #12]
 2655 006a 0122     		movs	r2, #1
 2656 006c 83F85C20 		strb	r2, [r3, #92]
1825:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1826:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1827:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 2657              		.loc 1 1827 11 is_stmt 1
 2658 0070 FB68     		ldr	r3, [r7, #12]
 2659 0072 93F85D30 		ldrb	r3, [r3, #93]
 2660 0076 DBB2     		uxtb	r3, r3
 2661              		.loc 1 1827 6
 2662 0078 042B     		cmp	r3, #4
 2663 007a 03D0     		beq	.L147
1828:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1829:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 2664              		.loc 1 1829 17
 2665 007c FB68     		ldr	r3, [r7, #12]
 2666 007e 0522     		movs	r2, #5
 2667 0080 83F85D20 		strb	r2, [r3, #93]
 2668              	.L147:
1830:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1831:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1832:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1833:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2669              		.loc 1 1833 21
 2670 0084 FB68     		ldr	r3, [r7, #12]
 2671 0086 0022     		movs	r2, #0
 2672 0088 1A66     		str	r2, [r3, #96]
1834:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 80


 2673              		.loc 1 1834 21
 2674 008a FB68     		ldr	r3, [r7, #12]
 2675 008c BA68     		ldr	r2, [r7, #8]
 2676 008e 9A63     		str	r2, [r3, #56]
1835:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2677              		.loc 1 1835 21
 2678 0090 FB68     		ldr	r3, [r7, #12]
 2679 0092 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2680 0094 9A87     		strh	r2, [r3, #60]	@ movhi
1836:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2681              		.loc 1 1836 21
 2682 0096 FB68     		ldr	r3, [r7, #12]
 2683 0098 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2684 009a DA87     		strh	r2, [r3, #62]	@ movhi
1837:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2685              		.loc 1 1837 21
 2686 009c FB68     		ldr	r3, [r7, #12]
 2687 009e 7A68     		ldr	r2, [r7, #4]
 2688 00a0 1A64     		str	r2, [r3, #64]
1838:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2689              		.loc 1 1838 21
 2690 00a2 FB68     		ldr	r3, [r7, #12]
 2691 00a4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2692 00a6 A3F84420 		strh	r2, [r3, #68]	@ movhi
1839:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2693              		.loc 1 1839 21
 2694 00aa FB68     		ldr	r3, [r7, #12]
 2695 00ac 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2696 00ae A3F84620 		strh	r2, [r3, #70]	@ movhi
1840:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1841:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the function for IT treatment */
1842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 2697              		.loc 1 1842 17
 2698 00b2 FB68     		ldr	r3, [r7, #12]
 2699 00b4 DB68     		ldr	r3, [r3, #12]
 2700              		.loc 1 1842 6
 2701 00b6 B3F5E06F 		cmp	r3, #1792
 2702 00ba 06D9     		bls	.L148
1843:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1844:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
 2703              		.loc 1 1844 21
 2704 00bc FB68     		ldr	r3, [r7, #12]
 2705 00be 234A     		ldr	r2, .L154
 2706 00c0 DA64     		str	r2, [r3, #76]
1845:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2707              		.loc 1 1845 21
 2708 00c2 FB68     		ldr	r3, [r7, #12]
 2709 00c4 224A     		ldr	r2, .L154+4
 2710 00c6 1A65     		str	r2, [r3, #80]
 2711 00c8 05E0     		b	.L149
 2712              	.L148:
1846:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1847:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1848:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1849:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
 2713              		.loc 1 1849 21
 2714 00ca FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 81


 2715 00cc 214A     		ldr	r2, .L154+8
 2716 00ce DA64     		str	r2, [r3, #76]
1850:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2717              		.loc 1 1850 21
 2718 00d0 FB68     		ldr	r3, [r7, #12]
 2719 00d2 214A     		ldr	r2, .L154+12
 2720 00d4 1A65     		str	r2, [r3, #80]
 2721              	.L149:
1851:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1852:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1853:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1854:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1855:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1856:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1857:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->CRCSize = 1U;
1858:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
1859:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1860:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->CRCSize = 2U;
1861:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1862:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1863:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1864:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1865:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1866:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->CRCSize = 0U;
1867:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1868:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1869:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1870:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if packing mode is enabled and if there is more than 2 data to receive */
1871:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (Size >= 2U))
 2722              		.loc 1 1871 18
 2723 00d6 FB68     		ldr	r3, [r7, #12]
 2724 00d8 DB68     		ldr	r3, [r3, #12]
 2725              		.loc 1 1871 6
 2726 00da B3F5E06F 		cmp	r3, #1792
 2727 00de 02D8     		bhi	.L150
 2728              		.loc 1 1871 49 discriminator 1
 2729 00e0 7B88     		ldrh	r3, [r7, #2]
 2730 00e2 012B     		cmp	r3, #1
 2731 00e4 08D9     		bls	.L151
 2732              	.L150:
1872:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1873:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1874:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 2733              		.loc 1 1874 5
 2734 00e6 FB68     		ldr	r3, [r7, #12]
 2735 00e8 1B68     		ldr	r3, [r3]
 2736 00ea 5A68     		ldr	r2, [r3, #4]
 2737 00ec FB68     		ldr	r3, [r7, #12]
 2738 00ee 1B68     		ldr	r3, [r3]
 2739 00f0 22F48052 		bic	r2, r2, #4096
 2740 00f4 5A60     		str	r2, [r3, #4]
 2741 00f6 07E0     		b	.L152
 2742              	.L151:
1875:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1876:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
1877:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1878:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 82


1879:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 2743              		.loc 1 1879 5
 2744 00f8 FB68     		ldr	r3, [r7, #12]
 2745 00fa 1B68     		ldr	r3, [r3]
 2746 00fc 5A68     		ldr	r2, [r3, #4]
 2747 00fe FB68     		ldr	r3, [r7, #12]
 2748 0100 1B68     		ldr	r3, [r3]
 2749 0102 42F48052 		orr	r2, r2, #4096
 2750 0106 5A60     		str	r2, [r3, #4]
 2751              	.L152:
1880:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1881:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1882:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1883:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1884:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 2752              		.loc 1 1884 12
 2753 0108 FB68     		ldr	r3, [r7, #12]
 2754 010a 1B68     		ldr	r3, [r3]
 2755              		.loc 1 1884 22
 2756 010c 1B68     		ldr	r3, [r3]
 2757              		.loc 1 1884 28
 2758 010e 03F04003 		and	r3, r3, #64
 2759              		.loc 1 1884 6
 2760 0112 402B     		cmp	r3, #64
 2761 0114 07D0     		beq	.L153
1885:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1886:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
1887:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2762              		.loc 1 1887 5
 2763 0116 FB68     		ldr	r3, [r7, #12]
 2764 0118 1B68     		ldr	r3, [r3]
 2765 011a 1A68     		ldr	r2, [r3]
 2766 011c FB68     		ldr	r3, [r7, #12]
 2767 011e 1B68     		ldr	r3, [r3]
 2768 0120 42F04002 		orr	r2, r2, #64
 2769 0124 1A60     		str	r2, [r3]
 2770              	.L153:
1888:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1889:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1890:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
1891:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2771              		.loc 1 1891 3
 2772 0126 FB68     		ldr	r3, [r7, #12]
 2773 0128 0022     		movs	r2, #0
 2774 012a 83F85C20 		strb	r2, [r3, #92]
1892:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1893:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 2775              		.loc 1 1893 3
 2776 012e FB68     		ldr	r3, [r7, #12]
 2777 0130 1B68     		ldr	r3, [r3]
 2778 0132 5A68     		ldr	r2, [r3, #4]
 2779 0134 FB68     		ldr	r3, [r7, #12]
 2780 0136 1B68     		ldr	r3, [r3]
 2781 0138 42F0E002 		orr	r2, r2, #224
 2782 013c 5A60     		str	r2, [r3, #4]
 2783              	.L142:
1894:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 83


1895:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
1896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 2784              		.loc 1 1896 10
 2785 013e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2786              	.L146:
1897:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 2787              		.loc 1 1897 1
 2788 0140 1846     		mov	r0, r3
 2789 0142 1C37     		adds	r7, r7, #28
 2790              	.LCFI51:
 2791              		.cfi_def_cfa_offset 4
 2792 0144 BD46     		mov	sp, r7
 2793              	.LCFI52:
 2794              		.cfi_def_cfa_register 13
 2795              		@ sp needed
 2796 0146 5DF8047B 		ldr	r7, [sp], #4
 2797              	.LCFI53:
 2798              		.cfi_restore 7
 2799              		.cfi_def_cfa_offset 0
 2800 014a 7047     		bx	lr
 2801              	.L155:
 2802              		.align	2
 2803              	.L154:
 2804 014c 00000000 		.word	SPI_2linesRxISR_16BIT
 2805 0150 00000000 		.word	SPI_2linesTxISR_16BIT
 2806 0154 00000000 		.word	SPI_2linesRxISR_8BIT
 2807 0158 00000000 		.word	SPI_2linesTxISR_8BIT
 2808              		.cfi_endproc
 2809              	.LFE141:
 2811              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 2812              		.align	1
 2813              		.global	HAL_SPI_Transmit_DMA
 2814              		.syntax unified
 2815              		.thumb
 2816              		.thumb_func
 2818              	HAL_SPI_Transmit_DMA:
 2819              	.LFB142:
1898:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1899:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
1900:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1901:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1902:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
1903:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1904:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1905:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
1906:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
1907:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1908:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 2820              		.loc 1 1908 1
 2821              		.cfi_startproc
 2822              		@ args = 0, pretend = 0, frame = 24
 2823              		@ frame_needed = 1, uses_anonymous_args = 0
 2824 0000 80B5     		push	{r7, lr}
 2825              	.LCFI54:
 2826              		.cfi_def_cfa_offset 8
 2827              		.cfi_offset 7, -8
 2828              		.cfi_offset 14, -4
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 84


 2829 0002 86B0     		sub	sp, sp, #24
 2830              	.LCFI55:
 2831              		.cfi_def_cfa_offset 32
 2832 0004 00AF     		add	r7, sp, #0
 2833              	.LCFI56:
 2834              		.cfi_def_cfa_register 7
 2835 0006 F860     		str	r0, [r7, #12]
 2836 0008 B960     		str	r1, [r7, #8]
 2837 000a 1346     		mov	r3, r2
 2838 000c FB80     		strh	r3, [r7, #6]	@ movhi
1909:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2839              		.loc 1 1909 21
 2840 000e 0023     		movs	r3, #0
 2841 0010 FB75     		strb	r3, [r7, #23]
1910:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1911:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check tx dma handle */
1912:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1913:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1914:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
1915:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1916:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1917:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
1918:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2842              		.loc 1 1918 3
 2843 0012 FB68     		ldr	r3, [r7, #12]
 2844 0014 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 2845 0018 012B     		cmp	r3, #1
 2846 001a 01D1     		bne	.L157
 2847              		.loc 1 1918 3 is_stmt 0 discriminator 1
 2848 001c 0223     		movs	r3, #2
 2849              		.loc 1 1918 3
 2850 001e D4E0     		b	.L158
 2851              	.L157:
 2852              		.loc 1 1918 3 discriminator 2
 2853 0020 FB68     		ldr	r3, [r7, #12]
 2854 0022 0122     		movs	r2, #1
 2855 0024 83F85C20 		strb	r2, [r3, #92]
1919:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1920:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 2856              		.loc 1 1920 11 is_stmt 1
 2857 0028 FB68     		ldr	r3, [r7, #12]
 2858 002a 93F85D30 		ldrb	r3, [r3, #93]
 2859 002e DBB2     		uxtb	r3, r3
 2860              		.loc 1 1920 6
 2861 0030 012B     		cmp	r3, #1
 2862 0032 02D0     		beq	.L159
1921:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1922:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 2863              		.loc 1 1922 15
 2864 0034 0223     		movs	r3, #2
 2865 0036 FB75     		strb	r3, [r7, #23]
1923:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2866              		.loc 1 1923 5
 2867 0038 C2E0     		b	.L160
 2868              	.L159:
1924:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1925:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 85


1926:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 2869              		.loc 1 1926 6
 2870 003a BB68     		ldr	r3, [r7, #8]
 2871 003c 002B     		cmp	r3, #0
 2872 003e 02D0     		beq	.L161
 2873              		.loc 1 1926 23 discriminator 1
 2874 0040 FB88     		ldrh	r3, [r7, #6]
 2875 0042 002B     		cmp	r3, #0
 2876 0044 02D1     		bne	.L162
 2877              	.L161:
1927:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1928:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2878              		.loc 1 1928 15
 2879 0046 0123     		movs	r3, #1
 2880 0048 FB75     		strb	r3, [r7, #23]
1929:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 2881              		.loc 1 1929 5
 2882 004a B9E0     		b	.L160
 2883              	.L162:
1930:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1931:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1932:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
1933:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 2884              		.loc 1 1933 21
 2885 004c FB68     		ldr	r3, [r7, #12]
 2886 004e 0322     		movs	r2, #3
 2887 0050 83F85D20 		strb	r2, [r3, #93]
1934:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2888              		.loc 1 1934 21
 2889 0054 FB68     		ldr	r3, [r7, #12]
 2890 0056 0022     		movs	r2, #0
 2891 0058 1A66     		str	r2, [r3, #96]
1935:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 2892              		.loc 1 1935 21
 2893 005a FB68     		ldr	r3, [r7, #12]
 2894 005c BA68     		ldr	r2, [r7, #8]
 2895 005e 9A63     		str	r2, [r3, #56]
1936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2896              		.loc 1 1936 21
 2897 0060 FB68     		ldr	r3, [r7, #12]
 2898 0062 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2899 0064 9A87     		strh	r2, [r3, #60]	@ movhi
1937:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2900              		.loc 1 1937 21
 2901 0066 FB68     		ldr	r3, [r7, #12]
 2902 0068 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2903 006a DA87     		strh	r2, [r3, #62]	@ movhi
1938:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1939:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1940:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 2904              		.loc 1 1940 21
 2905 006c FB68     		ldr	r3, [r7, #12]
 2906 006e 0022     		movs	r2, #0
 2907 0070 1A64     		str	r2, [r3, #64]
1941:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2908              		.loc 1 1941 21
 2909 0072 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 86


 2910 0074 0022     		movs	r2, #0
 2911 0076 1A65     		str	r2, [r3, #80]
1942:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2912              		.loc 1 1942 21
 2913 0078 FB68     		ldr	r3, [r7, #12]
 2914 007a 0022     		movs	r2, #0
 2915 007c DA64     		str	r2, [r3, #76]
1943:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2916              		.loc 1 1943 21
 2917 007e FB68     		ldr	r3, [r7, #12]
 2918 0080 0022     		movs	r2, #0
 2919 0082 A3F84420 		strh	r2, [r3, #68]	@ movhi
1944:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2920              		.loc 1 1944 21
 2921 0086 FB68     		ldr	r3, [r7, #12]
 2922 0088 0022     		movs	r2, #0
 2923 008a A3F84620 		strh	r2, [r3, #70]	@ movhi
1945:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1946:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1947:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2924              		.loc 1 1947 17
 2925 008e FB68     		ldr	r3, [r7, #12]
 2926 0090 9B68     		ldr	r3, [r3, #8]
 2927              		.loc 1 1947 6
 2928 0092 B3F5004F 		cmp	r3, #32768
 2929 0096 0FD1     		bne	.L163
1948:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1949:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1950:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 2930              		.loc 1 1950 5
 2931 0098 FB68     		ldr	r3, [r7, #12]
 2932 009a 1B68     		ldr	r3, [r3]
 2933 009c 1A68     		ldr	r2, [r3]
 2934 009e FB68     		ldr	r3, [r7, #12]
 2935 00a0 1B68     		ldr	r3, [r3]
 2936 00a2 22F04002 		bic	r2, r2, #64
 2937 00a6 1A60     		str	r2, [r3]
1951:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2938              		.loc 1 1951 5
 2939 00a8 FB68     		ldr	r3, [r7, #12]
 2940 00aa 1B68     		ldr	r3, [r3]
 2941 00ac 1A68     		ldr	r2, [r3]
 2942 00ae FB68     		ldr	r3, [r7, #12]
 2943 00b0 1B68     		ldr	r3, [r3]
 2944 00b2 42F48042 		orr	r2, r2, #16384
 2945 00b6 1A60     		str	r2, [r3]
 2946              	.L163:
1952:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1953:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1954:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1955:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
1956:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1957:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1958:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1959:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1960:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1961:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 87


1962:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1963:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
 2947              		.loc 1 1963 7
 2948 00b8 FB68     		ldr	r3, [r7, #12]
 2949 00ba 5B6D     		ldr	r3, [r3, #84]
 2950              		.loc 1 1963 38
 2951 00bc 454A     		ldr	r2, .L168
 2952 00be 1A63     		str	r2, [r3, #48]
1964:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1965:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1966:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
 2953              		.loc 1 1966 7
 2954 00c0 FB68     		ldr	r3, [r7, #12]
 2955 00c2 5B6D     		ldr	r3, [r3, #84]
 2956              		.loc 1 1966 34
 2957 00c4 444A     		ldr	r2, .L168+4
 2958 00c6 DA62     		str	r2, [r3, #44]
1967:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1968:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA error callback */
1969:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 2959              		.loc 1 1969 7
 2960 00c8 FB68     		ldr	r3, [r7, #12]
 2961 00ca 5B6D     		ldr	r3, [r3, #84]
 2962              		.loc 1 1969 35
 2963 00cc 434A     		ldr	r2, .L168+8
 2964 00ce 5A63     		str	r2, [r3, #52]
1970:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1971:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1972:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 2965              		.loc 1 1972 7
 2966 00d0 FB68     		ldr	r3, [r7, #12]
 2967 00d2 5B6D     		ldr	r3, [r3, #84]
 2968              		.loc 1 1972 35
 2969 00d4 0022     		movs	r2, #0
 2970 00d6 9A63     		str	r2, [r3, #56]
1973:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 2971              		.loc 1 1974 3
 2972 00d8 FB68     		ldr	r3, [r7, #12]
 2973 00da 1B68     		ldr	r3, [r3]
 2974 00dc 5A68     		ldr	r2, [r3, #4]
 2975 00de FB68     		ldr	r3, [r7, #12]
 2976 00e0 1B68     		ldr	r3, [r3]
 2977 00e2 22F48042 		bic	r2, r2, #16384
 2978 00e6 5A60     		str	r2, [r3, #4]
1975:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Packing mode is enabled only if the DMA setting is HALWORD */
1976:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->hdmatx->Init.MemDataAlignment == DMA_MDA
 2979              		.loc 1 1976 18
 2980 00e8 FB68     		ldr	r3, [r7, #12]
 2981 00ea DB68     		ldr	r3, [r3, #12]
 2982              		.loc 1 1976 6
 2983 00ec B3F5E06F 		cmp	r3, #1792
 2984 00f0 2DD8     		bhi	.L164
 2985              		.loc 1 1976 58 discriminator 1
 2986 00f2 FB68     		ldr	r3, [r7, #12]
 2987 00f4 5B6D     		ldr	r3, [r3, #84]
 2988              		.loc 1 1976 72 discriminator 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 88


 2989 00f6 9B69     		ldr	r3, [r3, #24]
 2990              		.loc 1 1976 50 discriminator 1
 2991 00f8 B3F5806F 		cmp	r3, #1024
 2992 00fc 27D1     		bne	.L164
1977:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1978:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check the even/odd of the data size + crc if enabled */
1979:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->TxXferCount & 0x1U) == 0U)
 2993              		.loc 1 1979 14
 2994 00fe FB68     		ldr	r3, [r7, #12]
 2995 0100 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2996 0102 9BB2     		uxth	r3, r3
 2997              		.loc 1 1979 28
 2998 0104 03F00103 		and	r3, r3, #1
 2999              		.loc 1 1979 8
 3000 0108 002B     		cmp	r3, #0
 3001 010a 0FD1     		bne	.L165
1980:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1981:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3002              		.loc 1 1981 7
 3003 010c FB68     		ldr	r3, [r7, #12]
 3004 010e 1B68     		ldr	r3, [r3]
 3005 0110 5A68     		ldr	r2, [r3, #4]
 3006 0112 FB68     		ldr	r3, [r7, #12]
 3007 0114 1B68     		ldr	r3, [r3]
 3008 0116 22F48042 		bic	r2, r2, #16384
 3009 011a 5A60     		str	r2, [r3, #4]
1982:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U);
 3010              		.loc 1 1982 32
 3011 011c FB68     		ldr	r3, [r7, #12]
 3012 011e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3013 0120 9BB2     		uxth	r3, r3
 3014              		.loc 1 1982 25
 3015 0122 5B08     		lsrs	r3, r3, #1
 3016 0124 9AB2     		uxth	r2, r3
 3017 0126 FB68     		ldr	r3, [r7, #12]
 3018 0128 DA87     		strh	r2, [r3, #62]	@ movhi
 3019 012a 10E0     		b	.L164
 3020              	.L165:
1983:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1984:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
1985:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
1986:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3021              		.loc 1 1986 7
 3022 012c FB68     		ldr	r3, [r7, #12]
 3023 012e 1B68     		ldr	r3, [r3]
 3024 0130 5A68     		ldr	r2, [r3, #4]
 3025 0132 FB68     		ldr	r3, [r7, #12]
 3026 0134 1B68     		ldr	r3, [r3]
 3027 0136 42F48042 		orr	r2, r2, #16384
 3028 013a 5A60     		str	r2, [r3, #4]
1987:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
 3029              		.loc 1 1987 32
 3030 013c FB68     		ldr	r3, [r7, #12]
 3031 013e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3032 0140 9BB2     		uxth	r3, r3
 3033              		.loc 1 1987 53
 3034 0142 5B08     		lsrs	r3, r3, #1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 89


 3035 0144 9BB2     		uxth	r3, r3
 3036 0146 0133     		adds	r3, r3, #1
 3037 0148 9AB2     		uxth	r2, r3
 3038              		.loc 1 1987 25
 3039 014a FB68     		ldr	r3, [r7, #12]
 3040 014c DA87     		strh	r2, [r3, #62]	@ movhi
 3041              	.L164:
1988:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
1989:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
1990:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1991:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
 3042              		.loc 1 1992 17
 3043 014e FB68     		ldr	r3, [r7, #12]
 3044 0150 586D     		ldr	r0, [r3, #84]
 3045              		.loc 1 1992 62
 3046 0152 FB68     		ldr	r3, [r7, #12]
 3047 0154 9B6B     		ldr	r3, [r3, #56]
 3048              		.loc 1 1992 17
 3049 0156 1946     		mov	r1, r3
 3050              		.loc 1 1992 91
 3051 0158 FB68     		ldr	r3, [r7, #12]
 3052 015a 1B68     		ldr	r3, [r3]
 3053              		.loc 1 1992 86
 3054 015c 0C33     		adds	r3, r3, #12
 3055              		.loc 1 1992 17
 3056 015e 1A46     		mov	r2, r3
1993:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3057              		.loc 1 1993 38
 3058 0160 FB68     		ldr	r3, [r7, #12]
 3059 0162 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3060 0164 9BB2     		uxth	r3, r3
1992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3061              		.loc 1 1992 17
 3062 0166 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3063 016a 0346     		mov	r3, r0
1992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3064              		.loc 1 1992 6 discriminator 1
 3065 016c 002B     		cmp	r3, #0
 3066 016e 08D0     		beq	.L166
1994:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
1995:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update SPI error code */
1996:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 3067              		.loc 1 1996 5
 3068 0170 FB68     		ldr	r3, [r7, #12]
 3069 0172 1B6E     		ldr	r3, [r3, #96]
 3070 0174 43F01002 		orr	r2, r3, #16
 3071 0178 FB68     		ldr	r3, [r7, #12]
 3072 017a 1A66     		str	r2, [r3, #96]
1997:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3073              		.loc 1 1997 15
 3074 017c 0123     		movs	r3, #1
 3075 017e FB75     		strb	r3, [r7, #23]
1998:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
1999:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3076              		.loc 1 1999 5
 3077 0180 1EE0     		b	.L160
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 90


 3078              	.L166:
2000:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2001:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2002:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2003:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3079              		.loc 1 2003 12
 3080 0182 FB68     		ldr	r3, [r7, #12]
 3081 0184 1B68     		ldr	r3, [r3]
 3082              		.loc 1 2003 22
 3083 0186 1B68     		ldr	r3, [r3]
 3084              		.loc 1 2003 28
 3085 0188 03F04003 		and	r3, r3, #64
 3086              		.loc 1 2003 6
 3087 018c 402B     		cmp	r3, #64
 3088 018e 07D0     		beq	.L167
2004:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2005:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
2006:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3089              		.loc 1 2006 5
 3090 0190 FB68     		ldr	r3, [r7, #12]
 3091 0192 1B68     		ldr	r3, [r3]
 3092 0194 1A68     		ldr	r2, [r3]
 3093 0196 FB68     		ldr	r3, [r7, #12]
 3094 0198 1B68     		ldr	r3, [r3]
 3095 019a 42F04002 		orr	r2, r2, #64
 3096 019e 1A60     		str	r2, [r3]
 3097              	.L167:
2007:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2008:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2009:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2010:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 3098              		.loc 1 2010 3
 3099 01a0 FB68     		ldr	r3, [r7, #12]
 3100 01a2 1B68     		ldr	r3, [r3]
 3101 01a4 5A68     		ldr	r2, [r3, #4]
 3102 01a6 FB68     		ldr	r3, [r7, #12]
 3103 01a8 1B68     		ldr	r3, [r3]
 3104 01aa 42F02002 		orr	r2, r2, #32
 3105 01ae 5A60     		str	r2, [r3, #4]
2011:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2012:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable Tx DMA Request */
2013:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 3106              		.loc 1 2013 3
 3107 01b0 FB68     		ldr	r3, [r7, #12]
 3108 01b2 1B68     		ldr	r3, [r3]
 3109 01b4 5A68     		ldr	r2, [r3, #4]
 3110 01b6 FB68     		ldr	r3, [r7, #12]
 3111 01b8 1B68     		ldr	r3, [r3]
 3112 01ba 42F00202 		orr	r2, r2, #2
 3113 01be 5A60     		str	r2, [r3, #4]
 3114              	.L160:
2014:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2015:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
2016:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
2017:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3115              		.loc 1 2017 3
 3116 01c0 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 91


 3117 01c2 0022     		movs	r2, #0
 3118 01c4 83F85C20 		strb	r2, [r3, #92]
2018:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 3119              		.loc 1 2018 10
 3120 01c8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3121              	.L158:
2019:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 3122              		.loc 1 2019 1
 3123 01ca 1846     		mov	r0, r3
 3124 01cc 1837     		adds	r7, r7, #24
 3125              	.LCFI57:
 3126              		.cfi_def_cfa_offset 8
 3127 01ce BD46     		mov	sp, r7
 3128              	.LCFI58:
 3129              		.cfi_def_cfa_register 13
 3130              		@ sp needed
 3131 01d0 80BD     		pop	{r7, pc}
 3132              	.L169:
 3133 01d2 00BF     		.align	2
 3134              	.L168:
 3135 01d4 00000000 		.word	SPI_DMAHalfTransmitCplt
 3136 01d8 00000000 		.word	SPI_DMATransmitCplt
 3137 01dc 00000000 		.word	SPI_DMAError
 3138              		.cfi_endproc
 3139              	.LFE142:
 3141              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 3142              		.align	1
 3143              		.global	HAL_SPI_Receive_DMA
 3144              		.syntax unified
 3145              		.thumb
 3146              		.thumb_func
 3148              	HAL_SPI_Receive_DMA:
 3149              	.LFB143:
2020:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2021:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2022:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
2023:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
2024:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2025:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2026:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pData pointer to data buffer
2027:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
2028:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
2029:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2030:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2031:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
2032:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 3150              		.loc 1 2032 1
 3151              		.cfi_startproc
 3152              		@ args = 0, pretend = 0, frame = 24
 3153              		@ frame_needed = 1, uses_anonymous_args = 0
 3154 0000 80B5     		push	{r7, lr}
 3155              	.LCFI59:
 3156              		.cfi_def_cfa_offset 8
 3157              		.cfi_offset 7, -8
 3158              		.cfi_offset 14, -4
 3159 0002 86B0     		sub	sp, sp, #24
 3160              	.LCFI60:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 92


 3161              		.cfi_def_cfa_offset 32
 3162 0004 00AF     		add	r7, sp, #0
 3163              	.LCFI61:
 3164              		.cfi_def_cfa_register 7
 3165 0006 F860     		str	r0, [r7, #12]
 3166 0008 B960     		str	r1, [r7, #8]
 3167 000a 1346     		mov	r3, r2
 3168 000c FB80     		strh	r3, [r7, #6]	@ movhi
2033:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3169              		.loc 1 2033 21
 3170 000e 0023     		movs	r3, #0
 3171 0010 FB75     		strb	r3, [r7, #23]
2034:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2035:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check rx dma handle */
2036:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
2037:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2038:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 3172              		.loc 1 2038 11
 3173 0012 FB68     		ldr	r3, [r7, #12]
 3174 0014 93F85D30 		ldrb	r3, [r3, #93]
 3175 0018 DBB2     		uxtb	r3, r3
 3176              		.loc 1 2038 6
 3177 001a 012B     		cmp	r3, #1
 3178 001c 02D0     		beq	.L171
2039:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2040:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 3179              		.loc 1 2040 15
 3180 001e 0223     		movs	r3, #2
 3181 0020 FB75     		strb	r3, [r7, #23]
2041:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3182              		.loc 1 2041 5
 3183 0022 FEE0     		b	.L172
 3184              	.L171:
2042:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2043:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2044:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 3185              		.loc 1 2044 18
 3186 0024 FB68     		ldr	r3, [r7, #12]
 3187 0026 9B68     		ldr	r3, [r3, #8]
 3188              		.loc 1 2044 6
 3189 0028 002B     		cmp	r3, #0
 3190 002a 10D1     		bne	.L173
 3191              		.loc 1 2044 68 discriminator 1
 3192 002c FB68     		ldr	r3, [r7, #12]
 3193 002e 5B68     		ldr	r3, [r3, #4]
 3194              		.loc 1 2044 54 discriminator 1
 3195 0030 B3F5827F 		cmp	r3, #260
 3196 0034 0BD1     		bne	.L173
2045:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2046:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 3197              		.loc 1 2046 17
 3198 0036 FB68     		ldr	r3, [r7, #12]
 3199 0038 0422     		movs	r2, #4
 3200 003a 83F85D20 		strb	r2, [r3, #93]
2047:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check tx dma handle */
2049:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 93


2050:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2051:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
2052:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
 3201              		.loc 1 2052 12
 3202 003e FB88     		ldrh	r3, [r7, #6]
 3203 0040 BA68     		ldr	r2, [r7, #8]
 3204 0042 B968     		ldr	r1, [r7, #8]
 3205 0044 F868     		ldr	r0, [r7, #12]
 3206 0046 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 3207 004a 0346     		mov	r3, r0
 3208 004c EEE0     		b	.L174
 3209              	.L173:
2053:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2054:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2055:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
2056:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3210              		.loc 1 2056 3
 3211 004e FB68     		ldr	r3, [r7, #12]
 3212 0050 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3213 0054 012B     		cmp	r3, #1
 3214 0056 01D1     		bne	.L175
 3215              		.loc 1 2056 3 is_stmt 0 discriminator 1
 3216 0058 0223     		movs	r3, #2
 3217              		.loc 1 2056 3
 3218 005a E7E0     		b	.L174
 3219              	.L175:
 3220              		.loc 1 2056 3 discriminator 2
 3221 005c FB68     		ldr	r3, [r7, #12]
 3222 005e 0122     		movs	r2, #1
 3223 0060 83F85C20 		strb	r2, [r3, #92]
2057:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2058:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 3224              		.loc 1 2058 6 is_stmt 1
 3225 0064 BB68     		ldr	r3, [r7, #8]
 3226 0066 002B     		cmp	r3, #0
 3227 0068 02D0     		beq	.L176
 3228              		.loc 1 2058 23 discriminator 1
 3229 006a FB88     		ldrh	r3, [r7, #6]
 3230 006c 002B     		cmp	r3, #0
 3231 006e 02D1     		bne	.L177
 3232              	.L176:
2059:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2060:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3233              		.loc 1 2060 15
 3234 0070 0123     		movs	r3, #1
 3235 0072 FB75     		strb	r3, [r7, #23]
2061:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3236              		.loc 1 2061 5
 3237 0074 D5E0     		b	.L172
 3238              	.L177:
2062:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2063:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2064:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
2065:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 3239              		.loc 1 2065 21
 3240 0076 FB68     		ldr	r3, [r7, #12]
 3241 0078 0422     		movs	r2, #4
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 94


 3242 007a 83F85D20 		strb	r2, [r3, #93]
2066:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3243              		.loc 1 2066 21
 3244 007e FB68     		ldr	r3, [r7, #12]
 3245 0080 0022     		movs	r2, #0
 3246 0082 1A66     		str	r2, [r3, #96]
2067:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3247              		.loc 1 2067 21
 3248 0084 FB68     		ldr	r3, [r7, #12]
 3249 0086 BA68     		ldr	r2, [r7, #8]
 3250 0088 1A64     		str	r2, [r3, #64]
2068:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3251              		.loc 1 2068 21
 3252 008a FB68     		ldr	r3, [r7, #12]
 3253 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 3254 008e A3F84420 		strh	r2, [r3, #68]	@ movhi
2069:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3255              		.loc 1 2069 21
 3256 0092 FB68     		ldr	r3, [r7, #12]
 3257 0094 FA88     		ldrh	r2, [r7, #6]	@ movhi
 3258 0096 A3F84620 		strh	r2, [r3, #70]	@ movhi
2070:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2071:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /*Init field not used in handle to zero */
2072:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3259              		.loc 1 2072 21
 3260 009a FB68     		ldr	r3, [r7, #12]
 3261 009c 0022     		movs	r2, #0
 3262 009e DA64     		str	r2, [r3, #76]
2073:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3263              		.loc 1 2073 21
 3264 00a0 FB68     		ldr	r3, [r7, #12]
 3265 00a2 0022     		movs	r2, #0
 3266 00a4 1A65     		str	r2, [r3, #80]
2074:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3267              		.loc 1 2074 21
 3268 00a6 FB68     		ldr	r3, [r7, #12]
 3269 00a8 0022     		movs	r2, #0
 3270 00aa 9A87     		strh	r2, [r3, #60]	@ movhi
2075:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3271              		.loc 1 2075 21
 3272 00ac FB68     		ldr	r3, [r7, #12]
 3273 00ae 0022     		movs	r2, #0
 3274 00b0 DA87     		strh	r2, [r3, #62]	@ movhi
2076:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2077:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
2078:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 3275              		.loc 1 2078 17
 3276 00b2 FB68     		ldr	r3, [r7, #12]
 3277 00b4 9B68     		ldr	r3, [r3, #8]
 3278              		.loc 1 2078 6
 3279 00b6 B3F5004F 		cmp	r3, #32768
 3280 00ba 0FD1     		bne	.L178
2079:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2080:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
2081:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 3281              		.loc 1 2081 5
 3282 00bc FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 95


 3283 00be 1B68     		ldr	r3, [r3]
 3284 00c0 1A68     		ldr	r2, [r3]
 3285 00c2 FB68     		ldr	r3, [r7, #12]
 3286 00c4 1B68     		ldr	r3, [r3]
 3287 00c6 22F04002 		bic	r2, r2, #64
 3288 00ca 1A60     		str	r2, [r3]
2082:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3289              		.loc 1 2082 5
 3290 00cc FB68     		ldr	r3, [r7, #12]
 3291 00ce 1B68     		ldr	r3, [r3]
 3292 00d0 1A68     		ldr	r2, [r3]
 3293 00d2 FB68     		ldr	r3, [r7, #12]
 3294 00d4 1B68     		ldr	r3, [r3]
 3295 00d6 22F48042 		bic	r2, r2, #16384
 3296 00da 1A60     		str	r2, [r3]
 3297              	.L178:
2083:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2084:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2085:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2086:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
2087:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2088:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2089:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
2090:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2091:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2092:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2093:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2094:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 3298              		.loc 1 2094 3
 3299 00dc FB68     		ldr	r3, [r7, #12]
 3300 00de 1B68     		ldr	r3, [r3]
 3301 00e0 5A68     		ldr	r2, [r3, #4]
 3302 00e2 FB68     		ldr	r3, [r7, #12]
 3303 00e4 1B68     		ldr	r3, [r3]
 3304 00e6 22F40052 		bic	r2, r2, #8192
 3305 00ea 5A60     		str	r2, [r3, #4]
2095:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 3306              		.loc 1 2095 17
 3307 00ec FB68     		ldr	r3, [r7, #12]
 3308 00ee DB68     		ldr	r3, [r3, #12]
 3309              		.loc 1 2095 6
 3310 00f0 B3F5E06F 		cmp	r3, #1792
 3311 00f4 08D9     		bls	.L179
2096:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2097:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
2098:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3312              		.loc 1 2098 5
 3313 00f6 FB68     		ldr	r3, [r7, #12]
 3314 00f8 1B68     		ldr	r3, [r3]
 3315 00fa 5A68     		ldr	r2, [r3, #4]
 3316 00fc FB68     		ldr	r3, [r7, #12]
 3317 00fe 1B68     		ldr	r3, [r3]
 3318 0100 22F48052 		bic	r2, r2, #4096
 3319 0104 5A60     		str	r2, [r3, #4]
 3320 0106 42E0     		b	.L180
 3321              	.L179:
2099:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 96


2100:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
2101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2102:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
2103:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3322              		.loc 1 2103 5
 3323 0108 FB68     		ldr	r3, [r7, #12]
 3324 010a 1B68     		ldr	r3, [r3]
 3325 010c 5A68     		ldr	r2, [r3, #4]
 3326 010e FB68     		ldr	r3, [r7, #12]
 3327 0110 1B68     		ldr	r3, [r3]
 3328 0112 42F48052 		orr	r2, r2, #4096
 3329 0116 5A60     		str	r2, [r3, #4]
2104:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2105:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 3330              		.loc 1 2105 13
 3331 0118 FB68     		ldr	r3, [r7, #12]
 3332 011a 9B6D     		ldr	r3, [r3, #88]
 3333              		.loc 1 2105 27
 3334 011c 9B69     		ldr	r3, [r3, #24]
 3335              		.loc 1 2105 8
 3336 011e B3F5806F 		cmp	r3, #1024
 3337 0122 34D1     		bne	.L180
2106:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2107:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2108:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3338              		.loc 1 2108 7
 3339 0124 FB68     		ldr	r3, [r7, #12]
 3340 0126 1B68     		ldr	r3, [r3]
 3341 0128 5A68     		ldr	r2, [r3, #4]
 3342 012a FB68     		ldr	r3, [r7, #12]
 3343 012c 1B68     		ldr	r3, [r3]
 3344 012e 22F48052 		bic	r2, r2, #4096
 3345 0132 5A60     		str	r2, [r3, #4]
2109:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2110:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
 3346              		.loc 1 2110 16
 3347 0134 FB68     		ldr	r3, [r7, #12]
 3348 0136 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3349 013a 9BB2     		uxth	r3, r3
 3350              		.loc 1 2110 30
 3351 013c 03F00103 		and	r3, r3, #1
 3352              		.loc 1 2110 10
 3353 0140 002B     		cmp	r3, #0
 3354 0142 11D1     		bne	.L181
2111:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2112:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 3355              		.loc 1 2112 9
 3356 0144 FB68     		ldr	r3, [r7, #12]
 3357 0146 1B68     		ldr	r3, [r3]
 3358 0148 5A68     		ldr	r2, [r3, #4]
 3359 014a FB68     		ldr	r3, [r7, #12]
 3360 014c 1B68     		ldr	r3, [r3]
 3361 014e 22F40052 		bic	r2, r2, #8192
 3362 0152 5A60     		str	r2, [r3, #4]
2113:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 3363              		.loc 1 2113 33
 3364 0154 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 97


 3365 0156 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3366 015a 9BB2     		uxth	r3, r3
 3367              		.loc 1 2113 27
 3368 015c 5B08     		lsrs	r3, r3, #1
 3369 015e 9AB2     		uxth	r2, r3
 3370 0160 FB68     		ldr	r3, [r7, #12]
 3371 0162 A3F84620 		strh	r2, [r3, #70]	@ movhi
 3372 0166 12E0     		b	.L180
 3373              	.L181:
2114:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2115:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2116:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2117:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 3374              		.loc 1 2117 9
 3375 0168 FB68     		ldr	r3, [r7, #12]
 3376 016a 1B68     		ldr	r3, [r3]
 3377 016c 5A68     		ldr	r2, [r3, #4]
 3378 016e FB68     		ldr	r3, [r7, #12]
 3379 0170 1B68     		ldr	r3, [r3]
 3380 0172 42F40052 		orr	r2, r2, #8192
 3381 0176 5A60     		str	r2, [r3, #4]
2118:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 3382              		.loc 1 2118 34
 3383 0178 FB68     		ldr	r3, [r7, #12]
 3384 017a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3385 017e 9BB2     		uxth	r3, r3
 3386              		.loc 1 2118 55
 3387 0180 5B08     		lsrs	r3, r3, #1
 3388 0182 9BB2     		uxth	r3, r3
 3389 0184 0133     		adds	r3, r3, #1
 3390 0186 9AB2     		uxth	r2, r3
 3391              		.loc 1 2118 27
 3392 0188 FB68     		ldr	r3, [r7, #12]
 3393 018a A3F84620 		strh	r2, [r3, #70]	@ movhi
 3394              	.L180:
2119:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2120:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2121:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2122:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2123:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
2124:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 3395              		.loc 1 2124 7
 3396 018e FB68     		ldr	r3, [r7, #12]
 3397 0190 9B6D     		ldr	r3, [r3, #88]
 3398              		.loc 1 2124 38
 3399 0192 284A     		ldr	r2, .L184
 3400 0194 1A63     		str	r2, [r3, #48]
2125:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
2127:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
 3401              		.loc 1 2127 7
 3402 0196 FB68     		ldr	r3, [r7, #12]
 3403 0198 9B6D     		ldr	r3, [r3, #88]
 3404              		.loc 1 2127 34
 3405 019a 274A     		ldr	r2, .L184+4
 3406 019c DA62     		str	r2, [r3, #44]
2128:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 98


2129:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA error callback */
2130:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 3407              		.loc 1 2130 7
 3408 019e FB68     		ldr	r3, [r7, #12]
 3409 01a0 9B6D     		ldr	r3, [r3, #88]
 3410              		.loc 1 2130 35
 3411 01a2 264A     		ldr	r2, .L184+8
 3412 01a4 5A63     		str	r2, [r3, #52]
2131:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2132:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2133:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 3413              		.loc 1 2133 7
 3414 01a6 FB68     		ldr	r3, [r7, #12]
 3415 01a8 9B6D     		ldr	r3, [r3, #88]
 3416              		.loc 1 2133 35
 3417 01aa 0022     		movs	r2, #0
 3418 01ac 9A63     		str	r2, [r3, #56]
2134:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2135:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
 3419              		.loc 1 2136 17
 3420 01ae FB68     		ldr	r3, [r7, #12]
 3421 01b0 986D     		ldr	r0, [r3, #88]
 3422              		.loc 1 2136 63
 3423 01b2 FB68     		ldr	r3, [r7, #12]
 3424 01b4 1B68     		ldr	r3, [r3]
 3425              		.loc 1 2136 58
 3426 01b6 0C33     		adds	r3, r3, #12
 3427              		.loc 1 2136 17
 3428 01b8 1946     		mov	r1, r3
 3429              		.loc 1 2136 93
 3430 01ba FB68     		ldr	r3, [r7, #12]
 3431 01bc 1B6C     		ldr	r3, [r3, #64]
 3432              		.loc 1 2136 17
 3433 01be 1A46     		mov	r2, r3
2137:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3434              		.loc 1 2137 38
 3435 01c0 FB68     		ldr	r3, [r7, #12]
 3436 01c2 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3437 01c6 9BB2     		uxth	r3, r3
2136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3438              		.loc 1 2136 17
 3439 01c8 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3440 01cc 0346     		mov	r3, r0
2136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3441              		.loc 1 2136 6 discriminator 1
 3442 01ce 002B     		cmp	r3, #0
 3443 01d0 08D0     		beq	.L182
2138:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2139:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update SPI error code */
2140:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 3444              		.loc 1 2140 5
 3445 01d2 FB68     		ldr	r3, [r7, #12]
 3446 01d4 1B6E     		ldr	r3, [r3, #96]
 3447 01d6 43F01002 		orr	r2, r3, #16
 3448 01da FB68     		ldr	r3, [r7, #12]
 3449 01dc 1A66     		str	r2, [r3, #96]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 99


2141:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3450              		.loc 1 2141 15
 3451 01de 0123     		movs	r3, #1
 3452 01e0 FB75     		strb	r3, [r7, #23]
2142:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2143:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3453              		.loc 1 2143 5
 3454 01e2 1EE0     		b	.L172
 3455              	.L182:
2144:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2145:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2146:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2147:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3456              		.loc 1 2147 12
 3457 01e4 FB68     		ldr	r3, [r7, #12]
 3458 01e6 1B68     		ldr	r3, [r3]
 3459              		.loc 1 2147 22
 3460 01e8 1B68     		ldr	r3, [r3]
 3461              		.loc 1 2147 28
 3462 01ea 03F04003 		and	r3, r3, #64
 3463              		.loc 1 2147 6
 3464 01ee 402B     		cmp	r3, #64
 3465 01f0 07D0     		beq	.L183
2148:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2149:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
2150:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3466              		.loc 1 2150 5
 3467 01f2 FB68     		ldr	r3, [r7, #12]
 3468 01f4 1B68     		ldr	r3, [r3]
 3469 01f6 1A68     		ldr	r2, [r3]
 3470 01f8 FB68     		ldr	r3, [r7, #12]
 3471 01fa 1B68     		ldr	r3, [r3]
 3472 01fc 42F04002 		orr	r2, r2, #64
 3473 0200 1A60     		str	r2, [r3]
 3474              	.L183:
2151:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2152:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2153:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2154:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 3475              		.loc 1 2154 3
 3476 0202 FB68     		ldr	r3, [r7, #12]
 3477 0204 1B68     		ldr	r3, [r3]
 3478 0206 5A68     		ldr	r2, [r3, #4]
 3479 0208 FB68     		ldr	r3, [r7, #12]
 3480 020a 1B68     		ldr	r3, [r3]
 3481 020c 42F02002 		orr	r2, r2, #32
 3482 0210 5A60     		str	r2, [r3, #4]
2155:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2156:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2157:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 3483              		.loc 1 2157 3
 3484 0212 FB68     		ldr	r3, [r7, #12]
 3485 0214 1B68     		ldr	r3, [r3]
 3486 0216 5A68     		ldr	r2, [r3, #4]
 3487 0218 FB68     		ldr	r3, [r7, #12]
 3488 021a 1B68     		ldr	r3, [r3]
 3489 021c 42F00102 		orr	r2, r2, #1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 100


 3490 0220 5A60     		str	r2, [r3, #4]
 3491              	.L172:
2158:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2159:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error:
2160:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
2161:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3492              		.loc 1 2161 3
 3493 0222 FB68     		ldr	r3, [r7, #12]
 3494 0224 0022     		movs	r2, #0
 3495 0226 83F85C20 		strb	r2, [r3, #92]
2162:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 3496              		.loc 1 2162 10
 3497 022a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3498              	.L174:
2163:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 3499              		.loc 1 2163 1
 3500 022c 1846     		mov	r0, r3
 3501 022e 1837     		adds	r7, r7, #24
 3502              	.LCFI62:
 3503              		.cfi_def_cfa_offset 8
 3504 0230 BD46     		mov	sp, r7
 3505              	.LCFI63:
 3506              		.cfi_def_cfa_register 13
 3507              		@ sp needed
 3508 0232 80BD     		pop	{r7, pc}
 3509              	.L185:
 3510              		.align	2
 3511              	.L184:
 3512 0234 00000000 		.word	SPI_DMAHalfReceiveCplt
 3513 0238 00000000 		.word	SPI_DMAReceiveCplt
 3514 023c 00000000 		.word	SPI_DMAError
 3515              		.cfi_endproc
 3516              	.LFE143:
 3518              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 3519              		.align	1
 3520              		.global	HAL_SPI_TransmitReceive_DMA
 3521              		.syntax unified
 3522              		.thumb
 3523              		.thumb_func
 3525              	HAL_SPI_TransmitReceive_DMA:
 3526              	.LFB144:
2164:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2165:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2166:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
2167:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2168:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2169:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
2170:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
2171:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
2172:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Size amount of data to be sent
2173:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2174:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2175:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
2176:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                               uint16_t Size)
2177:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 3527              		.loc 1 2177 1
 3528              		.cfi_startproc
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 101


 3529              		@ args = 0, pretend = 0, frame = 24
 3530              		@ frame_needed = 1, uses_anonymous_args = 0
 3531 0000 80B5     		push	{r7, lr}
 3532              	.LCFI64:
 3533              		.cfi_def_cfa_offset 8
 3534              		.cfi_offset 7, -8
 3535              		.cfi_offset 14, -4
 3536 0002 86B0     		sub	sp, sp, #24
 3537              	.LCFI65:
 3538              		.cfi_def_cfa_offset 32
 3539 0004 00AF     		add	r7, sp, #0
 3540              	.LCFI66:
 3541              		.cfi_def_cfa_register 7
 3542 0006 F860     		str	r0, [r7, #12]
 3543 0008 B960     		str	r1, [r7, #8]
 3544 000a 7A60     		str	r2, [r7, #4]
 3545 000c 7B80     		strh	r3, [r7, #2]	@ movhi
2178:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t             tmp_mode;
2179:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
2180:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3546              		.loc 1 2180 21
 3547 000e 0023     		movs	r3, #0
 3548 0010 FB75     		strb	r3, [r7, #23]
2181:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2182:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check rx & tx dma handles */
2183:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
2184:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
2185:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2186:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check Direction parameter */
2187:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
2188:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2189:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process locked */
2190:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3549              		.loc 1 2190 3
 3550 0012 FB68     		ldr	r3, [r7, #12]
 3551 0014 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3552 0018 012B     		cmp	r3, #1
 3553 001a 01D1     		bne	.L187
 3554              		.loc 1 2190 3 is_stmt 0 discriminator 1
 3555 001c 0223     		movs	r3, #2
 3556              		.loc 1 2190 3
 3557 001e 64E1     		b	.L188
 3558              	.L187:
 3559              		.loc 1 2190 3 discriminator 2
 3560 0020 FB68     		ldr	r3, [r7, #12]
 3561 0022 0122     		movs	r2, #1
 3562 0024 83F85C20 		strb	r2, [r3, #92]
2191:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2192:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init temporary variables */
2193:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_state           = hspi->State;
 3563              		.loc 1 2193 23 is_stmt 1
 3564 0028 FB68     		ldr	r3, [r7, #12]
 3565 002a 93F85D30 		ldrb	r3, [r3, #93]
 3566 002e BB75     		strb	r3, [r7, #22]
2194:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3567              		.loc 1 2194 23
 3568 0030 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 102


 3569 0032 5B68     		ldr	r3, [r3, #4]
 3570 0034 3B61     		str	r3, [r7, #16]
2195:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2196:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
 3571              		.loc 1 2196 6
 3572 0036 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3573 0038 012B     		cmp	r3, #1
 3574 003a 0DD0     		beq	.L189
 3575              		.loc 1 2196 7 discriminator 1
 3576 003c 3B69     		ldr	r3, [r7, #16]
 3577 003e B3F5827F 		cmp	r3, #260
 3578 0042 06D1     		bne	.L190
2197:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 3579              		.loc 1 2197 54
 3580 0044 FB68     		ldr	r3, [r7, #12]
 3581 0046 9B68     		ldr	r3, [r3, #8]
 3582              		.loc 1 2197 40
 3583 0048 002B     		cmp	r3, #0
 3584 004a 02D1     		bne	.L190
 3585              		.loc 1 2197 90 discriminator 1
 3586 004c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3587 004e 042B     		cmp	r3, #4
 3588 0050 02D0     		beq	.L189
 3589              	.L190:
2198:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2199:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 3590              		.loc 1 2199 15
 3591 0052 0223     		movs	r3, #2
 3592 0054 FB75     		strb	r3, [r7, #23]
2200:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3593              		.loc 1 2200 5
 3594 0056 43E1     		b	.L191
 3595              	.L189:
2201:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2202:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2203:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 3596              		.loc 1 2203 6
 3597 0058 BB68     		ldr	r3, [r7, #8]
 3598 005a 002B     		cmp	r3, #0
 3599 005c 05D0     		beq	.L192
 3600              		.loc 1 2203 25 discriminator 1
 3601 005e 7B68     		ldr	r3, [r7, #4]
 3602 0060 002B     		cmp	r3, #0
 3603 0062 02D0     		beq	.L192
 3604              		.loc 1 2203 46 discriminator 2
 3605 0064 7B88     		ldrh	r3, [r7, #2]
 3606 0066 002B     		cmp	r3, #0
 3607 0068 02D1     		bne	.L193
 3608              	.L192:
2204:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2205:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3609              		.loc 1 2205 15
 3610 006a 0123     		movs	r3, #1
 3611 006c FB75     		strb	r3, [r7, #23]
2206:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3612              		.loc 1 2206 5
 3613 006e 37E1     		b	.L191
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 103


 3614              	.L193:
2207:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2208:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2209:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
2210:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 3615              		.loc 1 2210 11
 3616 0070 FB68     		ldr	r3, [r7, #12]
 3617 0072 93F85D30 		ldrb	r3, [r3, #93]
 3618 0076 DBB2     		uxtb	r3, r3
 3619              		.loc 1 2210 6
 3620 0078 042B     		cmp	r3, #4
 3621 007a 03D0     		beq	.L194
2211:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2212:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 3622              		.loc 1 2212 17
 3623 007c FB68     		ldr	r3, [r7, #12]
 3624 007e 0522     		movs	r2, #5
 3625 0080 83F85D20 		strb	r2, [r3, #93]
 3626              	.L194:
2213:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2214:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2215:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the transaction information */
2216:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3627              		.loc 1 2216 21
 3628 0084 FB68     		ldr	r3, [r7, #12]
 3629 0086 0022     		movs	r2, #0
 3630 0088 1A66     		str	r2, [r3, #96]
2217:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 3631              		.loc 1 2217 21
 3632 008a FB68     		ldr	r3, [r7, #12]
 3633 008c BA68     		ldr	r2, [r7, #8]
 3634 008e 9A63     		str	r2, [r3, #56]
2218:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3635              		.loc 1 2218 21
 3636 0090 FB68     		ldr	r3, [r7, #12]
 3637 0092 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3638 0094 9A87     		strh	r2, [r3, #60]	@ movhi
2219:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3639              		.loc 1 2219 21
 3640 0096 FB68     		ldr	r3, [r7, #12]
 3641 0098 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3642 009a DA87     		strh	r2, [r3, #62]	@ movhi
2220:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3643              		.loc 1 2220 21
 3644 009c FB68     		ldr	r3, [r7, #12]
 3645 009e 7A68     		ldr	r2, [r7, #4]
 3646 00a0 1A64     		str	r2, [r3, #64]
2221:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3647              		.loc 1 2221 21
 3648 00a2 FB68     		ldr	r3, [r7, #12]
 3649 00a4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3650 00a6 A3F84420 		strh	r2, [r3, #68]	@ movhi
2222:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3651              		.loc 1 2222 21
 3652 00aa FB68     		ldr	r3, [r7, #12]
 3653 00ac 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3654 00ae A3F84620 		strh	r2, [r3, #70]	@ movhi
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 104


2223:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init field not used in handle to zero */
2225:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3655              		.loc 1 2225 21
 3656 00b2 FB68     		ldr	r3, [r7, #12]
 3657 00b4 0022     		movs	r2, #0
 3658 00b6 DA64     		str	r2, [r3, #76]
2226:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3659              		.loc 1 2226 21
 3660 00b8 FB68     		ldr	r3, [r7, #12]
 3661 00ba 0022     		movs	r2, #0
 3662 00bc 1A65     		str	r2, [r3, #80]
2227:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2228:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset CRC Calculation */
2230:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2231:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2232:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
2233:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2234:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2236:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset the threshold bit */
2237:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX | SPI_CR2_LDMARX);
 3663              		.loc 1 2237 3
 3664 00be FB68     		ldr	r3, [r7, #12]
 3665 00c0 1B68     		ldr	r3, [r3]
 3666 00c2 5A68     		ldr	r2, [r3, #4]
 3667 00c4 FB68     		ldr	r3, [r7, #12]
 3668 00c6 1B68     		ldr	r3, [r3]
 3669 00c8 22F4C042 		bic	r2, r2, #24576
 3670 00cc 5A60     		str	r2, [r3, #4]
2238:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2239:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* The packing mode management is enabled by the DMA settings according the spi data size */
2240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 3671              		.loc 1 2240 17
 3672 00ce FB68     		ldr	r3, [r7, #12]
 3673 00d0 DB68     		ldr	r3, [r3, #12]
 3674              		.loc 1 2240 6
 3675 00d2 B3F5E06F 		cmp	r3, #1792
 3676 00d6 08D9     		bls	.L195
2241:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2242:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
2243:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3677              		.loc 1 2243 5
 3678 00d8 FB68     		ldr	r3, [r7, #12]
 3679 00da 1B68     		ldr	r3, [r3]
 3680 00dc 5A68     		ldr	r2, [r3, #4]
 3681 00de FB68     		ldr	r3, [r7, #12]
 3682 00e0 1B68     		ldr	r3, [r3]
 3683 00e2 22F48052 		bic	r2, r2, #4096
 3684 00e6 5A60     		str	r2, [r3, #4]
 3685 00e8 6FE0     		b	.L196
 3686              	.L195:
2244:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2245:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
2246:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2247:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 105


2248:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3687              		.loc 1 2248 5
 3688 00ea FB68     		ldr	r3, [r7, #12]
 3689 00ec 1B68     		ldr	r3, [r3]
 3690 00ee 5A68     		ldr	r2, [r3, #4]
 3691 00f0 FB68     		ldr	r3, [r7, #12]
 3692 00f2 1B68     		ldr	r3, [r3]
 3693 00f4 42F48052 		orr	r2, r2, #4096
 3694 00f8 5A60     		str	r2, [r3, #4]
2249:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2250:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmatx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 3695              		.loc 1 2250 13
 3696 00fa FB68     		ldr	r3, [r7, #12]
 3697 00fc 5B6D     		ldr	r3, [r3, #84]
 3698              		.loc 1 2250 27
 3699 00fe 9B69     		ldr	r3, [r3, #24]
 3700              		.loc 1 2250 8
 3701 0100 B3F5806F 		cmp	r3, #1024
 3702 0104 26D1     		bne	.L197
2251:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2252:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->TxXferSize & 0x1U) == 0x0U)
 3703              		.loc 1 2252 16
 3704 0106 FB68     		ldr	r3, [r7, #12]
 3705 0108 9B8F     		ldrh	r3, [r3, #60]
 3706              		.loc 1 2252 29
 3707 010a 03F00103 		and	r3, r3, #1
 3708              		.loc 1 2252 10
 3709 010e 002B     		cmp	r3, #0
 3710 0110 0FD1     		bne	.L198
2253:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2254:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3711              		.loc 1 2254 9
 3712 0112 FB68     		ldr	r3, [r7, #12]
 3713 0114 1B68     		ldr	r3, [r3]
 3714 0116 5A68     		ldr	r2, [r3, #4]
 3715 0118 FB68     		ldr	r3, [r7, #12]
 3716 011a 1B68     		ldr	r3, [r3]
 3717 011c 22F48042 		bic	r2, r2, #16384
 3718 0120 5A60     		str	r2, [r3, #4]
2255:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount = hspi->TxXferCount >> 1U;
 3719              		.loc 1 2255 33
 3720 0122 FB68     		ldr	r3, [r7, #12]
 3721 0124 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3722 0126 9BB2     		uxth	r3, r3
 3723              		.loc 1 2255 27
 3724 0128 5B08     		lsrs	r3, r3, #1
 3725 012a 9AB2     		uxth	r2, r3
 3726 012c FB68     		ldr	r3, [r7, #12]
 3727 012e DA87     		strh	r2, [r3, #62]	@ movhi
 3728 0130 10E0     		b	.L197
 3729              	.L198:
2256:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2257:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2258:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2259:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3730              		.loc 1 2259 9
 3731 0132 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 106


 3732 0134 1B68     		ldr	r3, [r3]
 3733 0136 5A68     		ldr	r2, [r3, #4]
 3734 0138 FB68     		ldr	r3, [r7, #12]
 3735 013a 1B68     		ldr	r3, [r3]
 3736 013c 42F48042 		orr	r2, r2, #16384
 3737 0140 5A60     		str	r2, [r3, #4]
2260:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
 3738              		.loc 1 2260 34
 3739 0142 FB68     		ldr	r3, [r7, #12]
 3740 0144 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3741 0146 9BB2     		uxth	r3, r3
 3742              		.loc 1 2260 55
 3743 0148 5B08     		lsrs	r3, r3, #1
 3744 014a 9BB2     		uxth	r3, r3
 3745 014c 0133     		adds	r3, r3, #1
 3746 014e 9AB2     		uxth	r2, r3
 3747              		.loc 1 2260 27
 3748 0150 FB68     		ldr	r3, [r7, #12]
 3749 0152 DA87     		strh	r2, [r3, #62]	@ movhi
 3750              	.L197:
2261:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2262:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2263:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2264:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 3751              		.loc 1 2264 13
 3752 0154 FB68     		ldr	r3, [r7, #12]
 3753 0156 9B6D     		ldr	r3, [r3, #88]
 3754              		.loc 1 2264 27
 3755 0158 9B69     		ldr	r3, [r3, #24]
 3756              		.loc 1 2264 8
 3757 015a B3F5806F 		cmp	r3, #1024
 3758 015e 34D1     		bne	.L196
2265:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2266:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2267:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3759              		.loc 1 2267 7
 3760 0160 FB68     		ldr	r3, [r7, #12]
 3761 0162 1B68     		ldr	r3, [r3]
 3762 0164 5A68     		ldr	r2, [r3, #4]
 3763 0166 FB68     		ldr	r3, [r7, #12]
 3764 0168 1B68     		ldr	r3, [r3]
 3765 016a 22F48052 		bic	r2, r2, #4096
 3766 016e 5A60     		str	r2, [r3, #4]
2268:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2269:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
 3767              		.loc 1 2269 16
 3768 0170 FB68     		ldr	r3, [r7, #12]
 3769 0172 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3770 0176 9BB2     		uxth	r3, r3
 3771              		.loc 1 2269 30
 3772 0178 03F00103 		and	r3, r3, #1
 3773              		.loc 1 2269 10
 3774 017c 002B     		cmp	r3, #0
 3775 017e 11D1     		bne	.L199
2270:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2271:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 3776              		.loc 1 2271 9
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 107


 3777 0180 FB68     		ldr	r3, [r7, #12]
 3778 0182 1B68     		ldr	r3, [r3]
 3779 0184 5A68     		ldr	r2, [r3, #4]
 3780 0186 FB68     		ldr	r3, [r7, #12]
 3781 0188 1B68     		ldr	r3, [r3]
 3782 018a 22F40052 		bic	r2, r2, #8192
 3783 018e 5A60     		str	r2, [r3, #4]
2272:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 3784              		.loc 1 2272 33
 3785 0190 FB68     		ldr	r3, [r7, #12]
 3786 0192 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3787 0196 9BB2     		uxth	r3, r3
 3788              		.loc 1 2272 27
 3789 0198 5B08     		lsrs	r3, r3, #1
 3790 019a 9AB2     		uxth	r2, r3
 3791 019c FB68     		ldr	r3, [r7, #12]
 3792 019e A3F84620 		strh	r2, [r3, #70]	@ movhi
 3793 01a2 12E0     		b	.L196
 3794              	.L199:
2273:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2274:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2275:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2276:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 3795              		.loc 1 2276 9
 3796 01a4 FB68     		ldr	r3, [r7, #12]
 3797 01a6 1B68     		ldr	r3, [r3]
 3798 01a8 5A68     		ldr	r2, [r3, #4]
 3799 01aa FB68     		ldr	r3, [r7, #12]
 3800 01ac 1B68     		ldr	r3, [r3]
 3801 01ae 42F40052 		orr	r2, r2, #8192
 3802 01b2 5A60     		str	r2, [r3, #4]
2277:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 3803              		.loc 1 2277 34
 3804 01b4 FB68     		ldr	r3, [r7, #12]
 3805 01b6 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3806 01ba 9BB2     		uxth	r3, r3
 3807              		.loc 1 2277 55
 3808 01bc 5B08     		lsrs	r3, r3, #1
 3809 01be 9BB2     		uxth	r3, r3
 3810 01c0 0133     		adds	r3, r3, #1
 3811 01c2 9AB2     		uxth	r2, r3
 3812              		.loc 1 2277 27
 3813 01c4 FB68     		ldr	r3, [r7, #12]
 3814 01c6 A3F84620 		strh	r2, [r3, #70]	@ movhi
 3815              	.L196:
2278:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2279:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2280:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2281:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2282:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
2283:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
 3816              		.loc 1 2283 11
 3817 01ca FB68     		ldr	r3, [r7, #12]
 3818 01cc 93F85D30 		ldrb	r3, [r3, #93]
 3819 01d0 DBB2     		uxtb	r3, r3
 3820              		.loc 1 2283 6
 3821 01d2 042B     		cmp	r3, #4
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 108


 3822 01d4 08D1     		bne	.L200
2284:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2285:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
2286:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 3823              		.loc 1 2286 9
 3824 01d6 FB68     		ldr	r3, [r7, #12]
 3825 01d8 9B6D     		ldr	r3, [r3, #88]
 3826              		.loc 1 2286 40
 3827 01da 464A     		ldr	r2, .L205
 3828 01dc 1A63     		str	r2, [r3, #48]
2287:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 3829              		.loc 1 2287 9
 3830 01de FB68     		ldr	r3, [r7, #12]
 3831 01e0 9B6D     		ldr	r3, [r3, #88]
 3832              		.loc 1 2287 40
 3833 01e2 454A     		ldr	r2, .L205+4
 3834 01e4 DA62     		str	r2, [r3, #44]
 3835 01e6 07E0     		b	.L201
 3836              	.L200:
2288:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2289:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
2290:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2291:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
2292:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
 3837              		.loc 1 2292 9
 3838 01e8 FB68     		ldr	r3, [r7, #12]
 3839 01ea 9B6D     		ldr	r3, [r3, #88]
 3840              		.loc 1 2292 40
 3841 01ec 434A     		ldr	r2, .L205+8
 3842 01ee 1A63     		str	r2, [r3, #48]
2293:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 3843              		.loc 1 2293 9
 3844 01f0 FB68     		ldr	r3, [r7, #12]
 3845 01f2 9B6D     		ldr	r3, [r3, #88]
 3846              		.loc 1 2293 40
 3847 01f4 424A     		ldr	r2, .L205+12
 3848 01f6 DA62     		str	r2, [r3, #44]
 3849              	.L201:
2294:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2295:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2296:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA error callback */
2297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 3850              		.loc 1 2297 7
 3851 01f8 FB68     		ldr	r3, [r7, #12]
 3852 01fa 9B6D     		ldr	r3, [r3, #88]
 3853              		.loc 1 2297 35
 3854 01fc 414A     		ldr	r2, .L205+16
 3855 01fe 5A63     		str	r2, [r3, #52]
2298:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2299:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2300:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 3856              		.loc 1 2300 7
 3857 0200 FB68     		ldr	r3, [r7, #12]
 3858 0202 9B6D     		ldr	r3, [r3, #88]
 3859              		.loc 1 2300 35
 3860 0204 0022     		movs	r2, #0
 3861 0206 9A63     		str	r2, [r3, #56]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 109


2301:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2302:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
 3862              		.loc 1 2303 17
 3863 0208 FB68     		ldr	r3, [r7, #12]
 3864 020a 986D     		ldr	r0, [r3, #88]
 3865              		.loc 1 2303 63
 3866 020c FB68     		ldr	r3, [r7, #12]
 3867 020e 1B68     		ldr	r3, [r3]
 3868              		.loc 1 2303 58
 3869 0210 0C33     		adds	r3, r3, #12
 3870              		.loc 1 2303 17
 3871 0212 1946     		mov	r1, r3
 3872              		.loc 1 2303 93
 3873 0214 FB68     		ldr	r3, [r7, #12]
 3874 0216 1B6C     		ldr	r3, [r3, #64]
 3875              		.loc 1 2303 17
 3876 0218 1A46     		mov	r2, r3
2304:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3877              		.loc 1 2304 38
 3878 021a FB68     		ldr	r3, [r7, #12]
 3879 021c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 3880 0220 9BB2     		uxth	r3, r3
2303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3881              		.loc 1 2303 17
 3882 0222 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3883 0226 0346     		mov	r3, r0
2303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->RxXferCount))
 3884              		.loc 1 2303 6 discriminator 1
 3885 0228 002B     		cmp	r3, #0
 3886 022a 08D0     		beq	.L202
2305:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2306:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update SPI error code */
2307:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 3887              		.loc 1 2307 5
 3888 022c FB68     		ldr	r3, [r7, #12]
 3889 022e 1B6E     		ldr	r3, [r3, #96]
 3890 0230 43F01002 		orr	r2, r3, #16
 3891 0234 FB68     		ldr	r3, [r7, #12]
 3892 0236 1A66     		str	r2, [r3, #96]
2308:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3893              		.loc 1 2308 15
 3894 0238 0123     		movs	r3, #1
 3895 023a FB75     		strb	r3, [r7, #23]
2309:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2310:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3896              		.loc 1 2310 5
 3897 023c 50E0     		b	.L191
 3898              	.L202:
2311:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2312:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2313:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2314:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 3899              		.loc 1 2314 3
 3900 023e FB68     		ldr	r3, [r7, #12]
 3901 0240 1B68     		ldr	r3, [r3]
 3902 0242 5A68     		ldr	r2, [r3, #4]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 110


 3903 0244 FB68     		ldr	r3, [r7, #12]
 3904 0246 1B68     		ldr	r3, [r3]
 3905 0248 42F00102 		orr	r2, r2, #1
 3906 024c 5A60     		str	r2, [r3, #4]
2315:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2316:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
2317:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   is performed in DMA reception complete callback  */
2318:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
 3907              		.loc 1 2318 7
 3908 024e FB68     		ldr	r3, [r7, #12]
 3909 0250 5B6D     		ldr	r3, [r3, #84]
 3910              		.loc 1 2318 38
 3911 0252 0022     		movs	r2, #0
 3912 0254 1A63     		str	r2, [r3, #48]
2319:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 3913              		.loc 1 2319 7
 3914 0256 FB68     		ldr	r3, [r7, #12]
 3915 0258 5B6D     		ldr	r3, [r3, #84]
 3916              		.loc 1 2319 38
 3917 025a 0022     		movs	r2, #0
 3918 025c DA62     		str	r2, [r3, #44]
2320:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 3919              		.loc 1 2320 7
 3920 025e FB68     		ldr	r3, [r7, #12]
 3921 0260 5B6D     		ldr	r3, [r3, #84]
 3922              		.loc 1 2320 38
 3923 0262 0022     		movs	r2, #0
 3924 0264 5A63     		str	r2, [r3, #52]
2321:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 3925              		.loc 1 2321 7
 3926 0266 FB68     		ldr	r3, [r7, #12]
 3927 0268 5B6D     		ldr	r3, [r3, #84]
 3928              		.loc 1 2321 38
 3929 026a 0022     		movs	r2, #0
 3930 026c 9A63     		str	r2, [r3, #56]
2322:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2323:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
2324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
 3931              		.loc 1 2324 17
 3932 026e FB68     		ldr	r3, [r7, #12]
 3933 0270 586D     		ldr	r0, [r3, #84]
 3934              		.loc 1 2324 62
 3935 0272 FB68     		ldr	r3, [r7, #12]
 3936 0274 9B6B     		ldr	r3, [r3, #56]
 3937              		.loc 1 2324 17
 3938 0276 1946     		mov	r1, r3
 3939              		.loc 1 2324 91
 3940 0278 FB68     		ldr	r3, [r7, #12]
 3941 027a 1B68     		ldr	r3, [r3]
 3942              		.loc 1 2324 86
 3943 027c 0C33     		adds	r3, r3, #12
 3944              		.loc 1 2324 17
 3945 027e 1A46     		mov	r2, r3
2325:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3946              		.loc 1 2325 38
 3947 0280 FB68     		ldr	r3, [r7, #12]
 3948 0282 DB8F     		ldrh	r3, [r3, #62]	@ movhi
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 111


 3949 0284 9BB2     		uxth	r3, r3
2324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3950              		.loc 1 2324 17
 3951 0286 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3952 028a 0346     		mov	r3, r0
2324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3953              		.loc 1 2324 6 discriminator 1
 3954 028c 002B     		cmp	r3, #0
 3955 028e 08D0     		beq	.L203
2326:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2327:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Update SPI error code */
2328:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 3956              		.loc 1 2328 5
 3957 0290 FB68     		ldr	r3, [r7, #12]
 3958 0292 1B6E     		ldr	r3, [r3, #96]
 3959 0294 43F01002 		orr	r2, r3, #16
 3960 0298 FB68     		ldr	r3, [r7, #12]
 3961 029a 1A66     		str	r2, [r3, #96]
2329:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 3962              		.loc 1 2329 15
 3963 029c 0123     		movs	r3, #1
 3964 029e FB75     		strb	r3, [r7, #23]
2330:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2331:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     goto error;
 3965              		.loc 1 2331 5
 3966 02a0 1EE0     		b	.L191
 3967              	.L203:
2332:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2333:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2334:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2335:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3968              		.loc 1 2335 12
 3969 02a2 FB68     		ldr	r3, [r7, #12]
 3970 02a4 1B68     		ldr	r3, [r3]
 3971              		.loc 1 2335 22
 3972 02a6 1B68     		ldr	r3, [r3]
 3973              		.loc 1 2335 28
 3974 02a8 03F04003 		and	r3, r3, #64
 3975              		.loc 1 2335 6
 3976 02ac 402B     		cmp	r3, #64
 3977 02ae 07D0     		beq	.L204
2336:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2337:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Enable SPI peripheral */
2338:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3978              		.loc 1 2338 5
 3979 02b0 FB68     		ldr	r3, [r7, #12]
 3980 02b2 1B68     		ldr	r3, [r3]
 3981 02b4 1A68     		ldr	r2, [r3]
 3982 02b6 FB68     		ldr	r3, [r7, #12]
 3983 02b8 1B68     		ldr	r3, [r3]
 3984 02ba 42F04002 		orr	r2, r2, #64
 3985 02be 1A60     		str	r2, [r3]
 3986              	.L204:
2339:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2340:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2341:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 3987              		.loc 1 2341 3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 112


 3988 02c0 FB68     		ldr	r3, [r7, #12]
 3989 02c2 1B68     		ldr	r3, [r3]
 3990 02c4 5A68     		ldr	r2, [r3, #4]
 3991 02c6 FB68     		ldr	r3, [r7, #12]
 3992 02c8 1B68     		ldr	r3, [r3]
 3993 02ca 42F02002 		orr	r2, r2, #32
 3994 02ce 5A60     		str	r2, [r3, #4]
2342:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2343:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable Tx DMA Request */
2344:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 3995              		.loc 1 2344 3
 3996 02d0 FB68     		ldr	r3, [r7, #12]
 3997 02d2 1B68     		ldr	r3, [r3]
 3998 02d4 5A68     		ldr	r2, [r3, #4]
 3999 02d6 FB68     		ldr	r3, [r7, #12]
 4000 02d8 1B68     		ldr	r3, [r3]
 4001 02da 42F00202 		orr	r2, r2, #2
 4002 02de 5A60     		str	r2, [r3, #4]
 4003              	.L191:
2345:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2346:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** error :
2347:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
2348:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4004              		.loc 1 2348 3
 4005 02e0 FB68     		ldr	r3, [r7, #12]
 4006 02e2 0022     		movs	r2, #0
 4007 02e4 83F85C20 		strb	r2, [r3, #92]
2349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 4008              		.loc 1 2349 10
 4009 02e8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4010              	.L188:
2350:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 4011              		.loc 1 2350 1
 4012 02ea 1846     		mov	r0, r3
 4013 02ec 1837     		adds	r7, r7, #24
 4014              	.LCFI67:
 4015              		.cfi_def_cfa_offset 8
 4016 02ee BD46     		mov	sp, r7
 4017              	.LCFI68:
 4018              		.cfi_def_cfa_register 13
 4019              		@ sp needed
 4020 02f0 80BD     		pop	{r7, pc}
 4021              	.L206:
 4022 02f2 00BF     		.align	2
 4023              	.L205:
 4024 02f4 00000000 		.word	SPI_DMAHalfReceiveCplt
 4025 02f8 00000000 		.word	SPI_DMAReceiveCplt
 4026 02fc 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 4027 0300 00000000 		.word	SPI_DMATransmitReceiveCplt
 4028 0304 00000000 		.word	SPI_DMAError
 4029              		.cfi_endproc
 4030              	.LFE144:
 4032              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 4033              		.align	1
 4034              		.global	HAL_SPI_Abort
 4035              		.syntax unified
 4036              		.thumb
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 113


 4037              		.thumb_func
 4039              	HAL_SPI_Abort:
 4040              	.LFB145:
2351:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2352:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2353:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
2354:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi SPI handle.
2355:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2356:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2357:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         This procedure performs following operations :
2358:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2359:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2360:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
2361:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Set handle State to READY
2362:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
2363:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2364:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2365:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
2366:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 4041              		.loc 1 2366 1
 4042              		.cfi_startproc
 4043              		@ args = 0, pretend = 0, frame = 32
 4044              		@ frame_needed = 1, uses_anonymous_args = 0
 4045 0000 80B5     		push	{r7, lr}
 4046              	.LCFI69:
 4047              		.cfi_def_cfa_offset 8
 4048              		.cfi_offset 7, -8
 4049              		.cfi_offset 14, -4
 4050 0002 8AB0     		sub	sp, sp, #40
 4051              	.LCFI70:
 4052              		.cfi_def_cfa_offset 48
 4053 0004 02AF     		add	r7, sp, #8
 4054              	.LCFI71:
 4055              		.cfi_def_cfa 7, 40
 4056 0006 7860     		str	r0, [r7, #4]
2367:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2368:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
2369:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t resetcount;
2370:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2371:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Initialized local variable  */
2372:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   errorcode = HAL_OK;
 4057              		.loc 1 2372 13
 4058 0008 0023     		movs	r3, #0
 4059 000a FB77     		strb	r3, [r7, #31]
2373:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4060              		.loc 1 2373 61
 4061 000c 884B     		ldr	r3, .L226
 4062 000e 1B68     		ldr	r3, [r3]
 4063 0010 884A     		ldr	r2, .L226+4
 4064 0012 A2FB0323 		umull	r2, r3, r2, r3
 4065 0016 5B0A     		lsrs	r3, r3, #9
 4066              		.loc 1 2373 36
 4067 0018 6422     		movs	r2, #100
 4068 001a 02FB03F3 		mul	r3, r2, r3
 4069              		.loc 1 2373 14
 4070 001e 7B61     		str	r3, [r7, #20]
2374:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = resetcount;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 114


 4071              		.loc 1 2374 9
 4072 0020 7B69     		ldr	r3, [r7, #20]
 4073 0022 BB61     		str	r3, [r7, #24]
2375:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2376:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 4074              		.loc 1 2377 3
 4075 0024 7B68     		ldr	r3, [r7, #4]
 4076 0026 1B68     		ldr	r3, [r3]
 4077 0028 5A68     		ldr	r2, [r3, #4]
 4078 002a 7B68     		ldr	r3, [r7, #4]
 4079 002c 1B68     		ldr	r3, [r3]
 4080 002e 22F02002 		bic	r2, r2, #32
 4081 0032 5A60     		str	r2, [r3, #4]
2378:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2379:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2380:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 4082              		.loc 1 2380 7
 4083 0034 7B68     		ldr	r3, [r7, #4]
 4084 0036 1B68     		ldr	r3, [r3]
 4085 0038 5B68     		ldr	r3, [r3, #4]
 4086 003a 03F08003 		and	r3, r3, #128
 4087              		.loc 1 2380 6
 4088 003e 802B     		cmp	r3, #128
 4089 0040 17D1     		bne	.L208
2381:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2382:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 4090              		.loc 1 2382 17
 4091 0042 7B68     		ldr	r3, [r7, #4]
 4092 0044 7C4A     		ldr	r2, .L226+8
 4093 0046 1A65     		str	r2, [r3, #80]
 4094              	.L211:
2383:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2384:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     do
2385:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2386:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 4095              		.loc 1 2386 17
 4096 0048 BB69     		ldr	r3, [r7, #24]
 4097              		.loc 1 2386 10
 4098 004a 002B     		cmp	r3, #0
 4099 004c 06D1     		bne	.L209
2387:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2388:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4100              		.loc 1 2388 9
 4101 004e 7B68     		ldr	r3, [r7, #4]
 4102 0050 1B6E     		ldr	r3, [r3, #96]
 4103 0052 43F04002 		orr	r2, r3, #64
 4104 0056 7B68     		ldr	r3, [r7, #4]
 4105 0058 1A66     		str	r2, [r3, #96]
2389:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 4106              		.loc 1 2389 9
 4107 005a 08E0     		b	.L210
 4108              	.L209:
2390:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2391:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 4109              		.loc 1 2391 12
 4110 005c BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 115


 4111 005e 013B     		subs	r3, r3, #1
 4112 0060 BB61     		str	r3, [r7, #24]
2392:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4113              		.loc 1 2392 18
 4114 0062 7B68     		ldr	r3, [r7, #4]
 4115 0064 93F85D30 		ldrb	r3, [r3, #93]
 4116 0068 DBB2     		uxtb	r3, r3
 4117              		.loc 1 2392 26
 4118 006a 072B     		cmp	r3, #7
 4119 006c ECD1     		bne	.L211
 4120              	.L210:
2393:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset Timeout Counter */
2394:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count = resetcount;
 4121              		.loc 1 2394 11
 4122 006e 7B69     		ldr	r3, [r7, #20]
 4123 0070 BB61     		str	r3, [r7, #24]
 4124              	.L208:
2395:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2396:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2397:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 4125              		.loc 1 2397 7
 4126 0072 7B68     		ldr	r3, [r7, #4]
 4127 0074 1B68     		ldr	r3, [r3]
 4128 0076 5B68     		ldr	r3, [r3, #4]
 4129 0078 03F04003 		and	r3, r3, #64
 4130              		.loc 1 2397 6
 4131 007c 402B     		cmp	r3, #64
 4132 007e 17D1     		bne	.L212
2398:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2399:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 4133              		.loc 1 2399 17
 4134 0080 7B68     		ldr	r3, [r7, #4]
 4135 0082 6E4A     		ldr	r2, .L226+12
 4136 0084 DA64     		str	r2, [r3, #76]
 4137              	.L215:
2400:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2401:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     do
2402:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2403:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 4138              		.loc 1 2403 17
 4139 0086 BB69     		ldr	r3, [r7, #24]
 4140              		.loc 1 2403 10
 4141 0088 002B     		cmp	r3, #0
 4142 008a 06D1     		bne	.L213
2404:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2405:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4143              		.loc 1 2405 9
 4144 008c 7B68     		ldr	r3, [r7, #4]
 4145 008e 1B6E     		ldr	r3, [r3, #96]
 4146 0090 43F04002 		orr	r2, r3, #64
 4147 0094 7B68     		ldr	r3, [r7, #4]
 4148 0096 1A66     		str	r2, [r3, #96]
2406:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 4149              		.loc 1 2406 9
 4150 0098 08E0     		b	.L214
 4151              	.L213:
2407:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 116


2408:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 4152              		.loc 1 2408 12
 4153 009a BB69     		ldr	r3, [r7, #24]
 4154 009c 013B     		subs	r3, r3, #1
 4155 009e BB61     		str	r3, [r7, #24]
2409:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4156              		.loc 1 2409 18
 4157 00a0 7B68     		ldr	r3, [r7, #4]
 4158 00a2 93F85D30 		ldrb	r3, [r3, #93]
 4159 00a6 DBB2     		uxtb	r3, r3
 4160              		.loc 1 2409 26
 4161 00a8 072B     		cmp	r3, #7
 4162 00aa ECD1     		bne	.L215
 4163              	.L214:
2410:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset Timeout Counter */
2411:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count = resetcount;
 4164              		.loc 1 2411 11
 4165 00ac 7B69     		ldr	r3, [r7, #20]
 4166 00ae BB61     		str	r3, [r7, #24]
 4167              	.L212:
2412:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2413:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2414:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2415:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 4168              		.loc 1 2415 7
 4169 00b0 7B68     		ldr	r3, [r7, #4]
 4170 00b2 1B68     		ldr	r3, [r3]
 4171 00b4 5B68     		ldr	r3, [r3, #4]
 4172 00b6 03F00203 		and	r3, r3, #2
 4173              		.loc 1 2415 6
 4174 00ba 022B     		cmp	r3, #2
 4175 00bc 41D1     		bne	.L216
2416:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2417:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2418:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
 4176              		.loc 1 2418 13
 4177 00be 7B68     		ldr	r3, [r7, #4]
 4178 00c0 5B6D     		ldr	r3, [r3, #84]
 4179              		.loc 1 2418 8
 4180 00c2 002B     		cmp	r3, #0
 4181 00c4 3DD0     		beq	.L216
2419:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2420:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2421:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2422:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 4182              		.loc 1 2422 11
 4183 00c6 7B68     		ldr	r3, [r7, #4]
 4184 00c8 5B6D     		ldr	r3, [r3, #84]
 4185              		.loc 1 2422 39
 4186 00ca 0022     		movs	r2, #0
 4187 00cc 9A63     		str	r2, [r3, #56]
2423:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2424:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2425:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
 4188              		.loc 1 2425 11
 4189 00ce 7B68     		ldr	r3, [r7, #4]
 4190 00d0 5B6D     		ldr	r3, [r3, #84]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 117


 4191 00d2 1846     		mov	r0, r3
 4192 00d4 FFF7FEFF 		bl	HAL_DMA_Abort
 4193 00d8 0346     		mov	r3, r0
 4194              		.loc 1 2425 10 discriminator 1
 4195 00da 002B     		cmp	r3, #0
 4196 00dc 02D0     		beq	.L217
2426:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2427:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4197              		.loc 1 2427 25
 4198 00de 7B68     		ldr	r3, [r7, #4]
 4199 00e0 4022     		movs	r2, #64
 4200 00e2 1A66     		str	r2, [r3, #96]
 4201              	.L217:
2428:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2429:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2430:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable Tx DMA Request */
2431:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
 4202              		.loc 1 2431 7
 4203 00e4 7B68     		ldr	r3, [r7, #4]
 4204 00e6 1B68     		ldr	r3, [r3]
 4205 00e8 5A68     		ldr	r2, [r3, #4]
 4206 00ea 7B68     		ldr	r3, [r7, #4]
 4207 00ec 1B68     		ldr	r3, [r3]
 4208 00ee 22F00202 		bic	r2, r2, #2
 4209 00f2 5A60     		str	r2, [r3, #4]
2432:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2433:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 4210              		.loc 1 2433 11
 4211 00f4 FFF7FEFF 		bl	HAL_GetTick
 4212 00f8 0346     		mov	r3, r0
 4213              		.loc 1 2433 11 is_stmt 0 discriminator 1
 4214 00fa 1A46     		mov	r2, r3
 4215 00fc 6421     		movs	r1, #100
 4216 00fe 7868     		ldr	r0, [r7, #4]
 4217 0100 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4218 0104 0346     		mov	r3, r0
 4219              		.loc 1 2433 10 is_stmt 1 discriminator 2
 4220 0106 002B     		cmp	r3, #0
 4221 0108 02D0     		beq	.L218
2434:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2435:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4222              		.loc 1 2435 25
 4223 010a 7B68     		ldr	r3, [r7, #4]
 4224 010c 4022     		movs	r2, #64
 4225 010e 1A66     		str	r2, [r3, #96]
 4226              	.L218:
2436:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2437:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2438:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable SPI Peripheral */
2439:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 4227              		.loc 1 2439 7
 4228 0110 7B68     		ldr	r3, [r7, #4]
 4229 0112 1B68     		ldr	r3, [r3]
 4230 0114 1A68     		ldr	r2, [r3]
 4231 0116 7B68     		ldr	r3, [r7, #4]
 4232 0118 1B68     		ldr	r3, [r3]
 4233 011a 22F04002 		bic	r2, r2, #64
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 118


 4234 011e 1A60     		str	r2, [r3]
2440:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2441:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2442:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 4235              		.loc 1 2442 11
 4236 0120 FFF7FEFF 		bl	HAL_GetTick
 4237 0124 0346     		mov	r3, r0
 4238              		.loc 1 2442 11 is_stmt 0 discriminator 1
 4239 0126 0093     		str	r3, [sp]
 4240 0128 6423     		movs	r3, #100
 4241 012a 0022     		movs	r2, #0
 4242 012c 4FF4C061 		mov	r1, #1536
 4243 0130 7868     		ldr	r0, [r7, #4]
 4244 0132 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 4245 0136 0346     		mov	r3, r0
 4246              		.loc 1 2442 10 is_stmt 1 discriminator 2
 4247 0138 002B     		cmp	r3, #0
 4248 013a 02D0     		beq	.L216
2443:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2444:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4249              		.loc 1 2444 25
 4250 013c 7B68     		ldr	r3, [r7, #4]
 4251 013e 4022     		movs	r2, #64
 4252 0140 1A66     		str	r2, [r3, #96]
 4253              	.L216:
2445:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2446:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2447:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2448:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2449:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 4254              		.loc 1 2450 7
 4255 0142 7B68     		ldr	r3, [r7, #4]
 4256 0144 1B68     		ldr	r3, [r3]
 4257 0146 5B68     		ldr	r3, [r3, #4]
 4258 0148 03F00103 		and	r3, r3, #1
 4259              		.loc 1 2450 6
 4260 014c 012B     		cmp	r3, #1
 4261 014e 43D1     		bne	.L219
2451:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2452:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2453:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
 4262              		.loc 1 2453 13
 4263 0150 7B68     		ldr	r3, [r7, #4]
 4264 0152 9B6D     		ldr	r3, [r3, #88]
 4265              		.loc 1 2453 8
 4266 0154 002B     		cmp	r3, #0
 4267 0156 3FD0     		beq	.L219
2454:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2455:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2456:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2457:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 4268              		.loc 1 2457 11
 4269 0158 7B68     		ldr	r3, [r7, #4]
 4270 015a 9B6D     		ldr	r3, [r3, #88]
 4271              		.loc 1 2457 39
 4272 015c 0022     		movs	r2, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 119


 4273 015e 9A63     		str	r2, [r3, #56]
2458:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2459:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
 4274              		.loc 1 2460 11
 4275 0160 7B68     		ldr	r3, [r7, #4]
 4276 0162 9B6D     		ldr	r3, [r3, #88]
 4277 0164 1846     		mov	r0, r3
 4278 0166 FFF7FEFF 		bl	HAL_DMA_Abort
 4279 016a 0346     		mov	r3, r0
 4280              		.loc 1 2460 10 discriminator 1
 4281 016c 002B     		cmp	r3, #0
 4282 016e 02D0     		beq	.L220
2461:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2462:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4283              		.loc 1 2462 25
 4284 0170 7B68     		ldr	r3, [r7, #4]
 4285 0172 4022     		movs	r2, #64
 4286 0174 1A66     		str	r2, [r3, #96]
 4287              	.L220:
2463:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2464:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2465:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable peripheral */
2466:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 4288              		.loc 1 2466 7
 4289 0176 7B68     		ldr	r3, [r7, #4]
 4290 0178 1B68     		ldr	r3, [r3]
 4291 017a 1A68     		ldr	r2, [r3]
 4292 017c 7B68     		ldr	r3, [r7, #4]
 4293 017e 1B68     		ldr	r3, [r3]
 4294 0180 22F04002 		bic	r2, r2, #64
 4295 0184 1A60     		str	r2, [r3]
2467:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2468:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Control the BSY flag */
2469:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick
 4296              		.loc 1 2469 11
 4297 0186 FFF7FEFF 		bl	HAL_GetTick
 4298 018a 0346     		mov	r3, r0
 4299              		.loc 1 2469 11 is_stmt 0 discriminator 1
 4300 018c 0093     		str	r3, [sp]
 4301 018e 6423     		movs	r3, #100
 4302 0190 0022     		movs	r2, #0
 4303 0192 8021     		movs	r1, #128
 4304 0194 7868     		ldr	r0, [r7, #4]
 4305 0196 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 4306 019a 0346     		mov	r3, r0
 4307              		.loc 1 2469 10 is_stmt 1 discriminator 2
 4308 019c 002B     		cmp	r3, #0
 4309 019e 02D0     		beq	.L221
2470:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2471:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4310              		.loc 1 2471 25
 4311 01a0 7B68     		ldr	r3, [r7, #4]
 4312 01a2 4022     		movs	r2, #64
 4313 01a4 1A66     		str	r2, [r3, #96]
 4314              	.L221:
2472:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 120


2473:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2474:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2475:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 4315              		.loc 1 2475 11
 4316 01a6 FFF7FEFF 		bl	HAL_GetTick
 4317 01aa 0346     		mov	r3, r0
 4318              		.loc 1 2475 11 is_stmt 0 discriminator 1
 4319 01ac 0093     		str	r3, [sp]
 4320 01ae 6423     		movs	r3, #100
 4321 01b0 0022     		movs	r2, #0
 4322 01b2 4FF4C061 		mov	r1, #1536
 4323 01b6 7868     		ldr	r0, [r7, #4]
 4324 01b8 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 4325 01bc 0346     		mov	r3, r0
 4326              		.loc 1 2475 10 is_stmt 1 discriminator 2
 4327 01be 002B     		cmp	r3, #0
 4328 01c0 02D0     		beq	.L222
2476:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2477:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4329              		.loc 1 2477 25
 4330 01c2 7B68     		ldr	r3, [r7, #4]
 4331 01c4 4022     		movs	r2, #64
 4332 01c6 1A66     		str	r2, [r3, #96]
 4333              	.L222:
2478:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2479:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2480:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable Rx DMA Request */
2481:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
 4334              		.loc 1 2481 7
 4335 01c8 7B68     		ldr	r3, [r7, #4]
 4336 01ca 1B68     		ldr	r3, [r3]
 4337 01cc 5A68     		ldr	r2, [r3, #4]
 4338 01ce 7B68     		ldr	r3, [r7, #4]
 4339 01d0 1B68     		ldr	r3, [r3]
 4340 01d2 22F00102 		bic	r2, r2, #1
 4341 01d6 5A60     		str	r2, [r3, #4]
 4342              	.L219:
2482:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2483:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2484:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2485:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 4343              		.loc 1 2485 21
 4344 01d8 7B68     		ldr	r3, [r7, #4]
 4345 01da 0022     		movs	r2, #0
 4346 01dc A3F84620 		strh	r2, [r3, #70]	@ movhi
2486:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4347              		.loc 1 2486 21
 4348 01e0 7B68     		ldr	r3, [r7, #4]
 4349 01e2 0022     		movs	r2, #0
 4350 01e4 DA87     		strh	r2, [r3, #62]	@ movhi
2487:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2488:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check error during Abort procedure */
2489:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
 4351              		.loc 1 2489 11
 4352 01e6 7B68     		ldr	r3, [r7, #4]
 4353 01e8 1B6E     		ldr	r3, [r3, #96]
 4354              		.loc 1 2489 6
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 121


 4355 01ea 402B     		cmp	r3, #64
 4356 01ec 02D1     		bne	.L223
2490:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2491:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2492:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 4357              		.loc 1 2492 15
 4358 01ee 0123     		movs	r3, #1
 4359 01f0 FB77     		strb	r3, [r7, #31]
 4360 01f2 02E0     		b	.L224
 4361              	.L223:
2493:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2494:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
2495:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2496:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset errorCode */
2497:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 4362              		.loc 1 2497 21
 4363 01f4 7B68     		ldr	r3, [r7, #4]
 4364 01f6 0022     		movs	r2, #0
 4365 01f8 1A66     		str	r2, [r3, #96]
 4366              	.L224:
 4367              	.LBB3:
2498:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2499:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2500:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2501:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 4368              		.loc 1 2501 3
 4369 01fa 0023     		movs	r3, #0
 4370 01fc 3B61     		str	r3, [r7, #16]
 4371 01fe 7B68     		ldr	r3, [r7, #4]
 4372 0200 1B68     		ldr	r3, [r3]
 4373 0202 DB68     		ldr	r3, [r3, #12]
 4374 0204 3B61     		str	r3, [r7, #16]
 4375 0206 7B68     		ldr	r3, [r7, #4]
 4376 0208 1B68     		ldr	r3, [r3]
 4377 020a 9B68     		ldr	r3, [r3, #8]
 4378 020c 3B61     		str	r3, [r7, #16]
 4379 020e 3B69     		ldr	r3, [r7, #16]
 4380              	.LBE3:
 4381              	.LBB4:
2502:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 4382              		.loc 1 2502 3
 4383 0210 0023     		movs	r3, #0
 4384 0212 FB60     		str	r3, [r7, #12]
 4385 0214 7B68     		ldr	r3, [r7, #4]
 4386 0216 1B68     		ldr	r3, [r3]
 4387 0218 9B68     		ldr	r3, [r3, #8]
 4388 021a FB60     		str	r3, [r7, #12]
 4389 021c FB68     		ldr	r3, [r7, #12]
 4390              	.LBE4:
2503:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2504:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Restore hspi->state to ready */
2505:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 4391              		.loc 1 2505 15
 4392 021e 7B68     		ldr	r3, [r7, #4]
 4393 0220 0122     		movs	r2, #1
 4394 0222 83F85D20 		strb	r2, [r3, #93]
2506:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 122


2507:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 4395              		.loc 1 2507 10
 4396 0226 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2508:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 4397              		.loc 1 2508 1
 4398 0228 1846     		mov	r0, r3
 4399 022a 2037     		adds	r7, r7, #32
 4400              	.LCFI72:
 4401              		.cfi_def_cfa_offset 8
 4402 022c BD46     		mov	sp, r7
 4403              	.LCFI73:
 4404              		.cfi_def_cfa_register 13
 4405              		@ sp needed
 4406 022e 80BD     		pop	{r7, pc}
 4407              	.L227:
 4408              		.align	2
 4409              	.L226:
 4410 0230 00000000 		.word	SystemCoreClock
 4411 0234 F1197605 		.word	91625969
 4412 0238 00000000 		.word	SPI_AbortTx_ISR
 4413 023c 00000000 		.word	SPI_AbortRx_ISR
 4414              		.cfi_endproc
 4415              	.LFE145:
 4417              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 4418              		.align	1
 4419              		.global	HAL_SPI_Abort_IT
 4420              		.syntax unified
 4421              		.thumb
 4422              		.thumb_func
 4424              	HAL_SPI_Abort_IT:
 4425              	.LFB146:
2509:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2510:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2511:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2512:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi SPI handle.
2513:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2514:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2515:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         This procedure performs following operations :
2516:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2517:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2518:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2519:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - Set handle State to READY
2520:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2521:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2522:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2523:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2524:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2525:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
2526:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 4426              		.loc 1 2526 1
 4427              		.cfi_startproc
 4428              		@ args = 0, pretend = 0, frame = 32
 4429              		@ frame_needed = 1, uses_anonymous_args = 0
 4430 0000 80B5     		push	{r7, lr}
 4431              	.LCFI74:
 4432              		.cfi_def_cfa_offset 8
 4433              		.cfi_offset 7, -8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 123


 4434              		.cfi_offset 14, -4
 4435 0002 88B0     		sub	sp, sp, #32
 4436              	.LCFI75:
 4437              		.cfi_def_cfa_offset 40
 4438 0004 00AF     		add	r7, sp, #0
 4439              	.LCFI76:
 4440              		.cfi_def_cfa_register 7
 4441 0006 7860     		str	r0, [r7, #4]
2527:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2528:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t abortcplt ;
2529:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
2530:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t resetcount;
2531:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2532:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Initialized local variable  */
2533:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   errorcode = HAL_OK;
 4442              		.loc 1 2533 13
 4443 0008 0023     		movs	r3, #0
 4444 000a FB77     		strb	r3, [r7, #31]
2534:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   abortcplt = 1U;
 4445              		.loc 1 2534 13
 4446 000c 0123     		movs	r3, #1
 4447 000e BB61     		str	r3, [r7, #24]
2535:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4448              		.loc 1 2535 61
 4449 0010 724B     		ldr	r3, .L249
 4450 0012 1B68     		ldr	r3, [r3]
 4451 0014 724A     		ldr	r2, .L249+4
 4452 0016 A2FB0323 		umull	r2, r3, r2, r3
 4453 001a 5B0A     		lsrs	r3, r3, #9
 4454              		.loc 1 2535 36
 4455 001c 6422     		movs	r2, #100
 4456 001e 02FB03F3 		mul	r3, r2, r3
 4457              		.loc 1 2535 14
 4458 0022 3B61     		str	r3, [r7, #16]
2536:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = resetcount;
 4459              		.loc 1 2536 9
 4460 0024 3B69     		ldr	r3, [r7, #16]
 4461 0026 7B61     		str	r3, [r7, #20]
2537:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2538:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2539:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 4462              		.loc 1 2539 3
 4463 0028 7B68     		ldr	r3, [r7, #4]
 4464 002a 1B68     		ldr	r3, [r3]
 4465 002c 5A68     		ldr	r2, [r3, #4]
 4466 002e 7B68     		ldr	r3, [r7, #4]
 4467 0030 1B68     		ldr	r3, [r3]
 4468 0032 22F02002 		bic	r2, r2, #32
 4469 0036 5A60     		str	r2, [r3, #4]
2540:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2541:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2542:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 4470              		.loc 1 2542 7
 4471 0038 7B68     		ldr	r3, [r7, #4]
 4472 003a 1B68     		ldr	r3, [r3]
 4473 003c 5B68     		ldr	r3, [r3, #4]
 4474 003e 03F08003 		and	r3, r3, #128
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 124


 4475              		.loc 1 2542 6
 4476 0042 802B     		cmp	r3, #128
 4477 0044 17D1     		bne	.L229
2543:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2544:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 4478              		.loc 1 2544 17
 4479 0046 7B68     		ldr	r3, [r7, #4]
 4480 0048 664A     		ldr	r2, .L249+8
 4481 004a 1A65     		str	r2, [r3, #80]
 4482              	.L232:
2545:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2546:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     do
2547:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2548:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 4483              		.loc 1 2548 17
 4484 004c 7B69     		ldr	r3, [r7, #20]
 4485              		.loc 1 2548 10
 4486 004e 002B     		cmp	r3, #0
 4487 0050 06D1     		bne	.L230
2549:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2550:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4488              		.loc 1 2550 9
 4489 0052 7B68     		ldr	r3, [r7, #4]
 4490 0054 1B6E     		ldr	r3, [r3, #96]
 4491 0056 43F04002 		orr	r2, r3, #64
 4492 005a 7B68     		ldr	r3, [r7, #4]
 4493 005c 1A66     		str	r2, [r3, #96]
2551:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 4494              		.loc 1 2551 9
 4495 005e 08E0     		b	.L231
 4496              	.L230:
2552:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2553:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 4497              		.loc 1 2553 12
 4498 0060 7B69     		ldr	r3, [r7, #20]
 4499 0062 013B     		subs	r3, r3, #1
 4500 0064 7B61     		str	r3, [r7, #20]
2554:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4501              		.loc 1 2554 18
 4502 0066 7B68     		ldr	r3, [r7, #4]
 4503 0068 93F85D30 		ldrb	r3, [r3, #93]
 4504 006c DBB2     		uxtb	r3, r3
 4505              		.loc 1 2554 26
 4506 006e 072B     		cmp	r3, #7
 4507 0070 ECD1     		bne	.L232
 4508              	.L231:
2555:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset Timeout Counter */
2556:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count = resetcount;
 4509              		.loc 1 2556 11
 4510 0072 3B69     		ldr	r3, [r7, #16]
 4511 0074 7B61     		str	r3, [r7, #20]
 4512              	.L229:
2557:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2558:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2559:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 4513              		.loc 1 2559 7
 4514 0076 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 125


 4515 0078 1B68     		ldr	r3, [r3]
 4516 007a 5B68     		ldr	r3, [r3, #4]
 4517 007c 03F04003 		and	r3, r3, #64
 4518              		.loc 1 2559 6
 4519 0080 402B     		cmp	r3, #64
 4520 0082 17D1     		bne	.L233
2560:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2561:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 4521              		.loc 1 2561 17
 4522 0084 7B68     		ldr	r3, [r7, #4]
 4523 0086 584A     		ldr	r2, .L249+12
 4524 0088 DA64     		str	r2, [r3, #76]
 4525              	.L236:
2562:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2563:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     do
2564:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2565:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 4526              		.loc 1 2565 17
 4527 008a 7B69     		ldr	r3, [r7, #20]
 4528              		.loc 1 2565 10
 4529 008c 002B     		cmp	r3, #0
 4530 008e 06D1     		bne	.L234
2566:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2567:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4531              		.loc 1 2567 9
 4532 0090 7B68     		ldr	r3, [r7, #4]
 4533 0092 1B6E     		ldr	r3, [r3, #96]
 4534 0094 43F04002 		orr	r2, r3, #64
 4535 0098 7B68     		ldr	r3, [r7, #4]
 4536 009a 1A66     		str	r2, [r3, #96]
2568:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 4537              		.loc 1 2568 9
 4538 009c 08E0     		b	.L235
 4539              	.L234:
2569:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2570:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 4540              		.loc 1 2570 12
 4541 009e 7B69     		ldr	r3, [r7, #20]
 4542 00a0 013B     		subs	r3, r3, #1
 4543 00a2 7B61     		str	r3, [r7, #20]
2571:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4544              		.loc 1 2571 18
 4545 00a4 7B68     		ldr	r3, [r7, #4]
 4546 00a6 93F85D30 		ldrb	r3, [r3, #93]
 4547 00aa DBB2     		uxtb	r3, r3
 4548              		.loc 1 2571 26
 4549 00ac 072B     		cmp	r3, #7
 4550 00ae ECD1     		bne	.L236
 4551              	.L235:
2572:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset Timeout Counter */
2573:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count = resetcount;
 4552              		.loc 1 2573 11
 4553 00b0 3B69     		ldr	r3, [r7, #16]
 4554 00b2 7B61     		str	r3, [r7, #20]
 4555              	.L233:
2574:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2575:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 126


2576:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2577:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      before any call to DMA Abort functions */
2578:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2579:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 4556              		.loc 1 2579 11
 4557 00b4 7B68     		ldr	r3, [r7, #4]
 4558 00b6 5B6D     		ldr	r3, [r3, #84]
 4559              		.loc 1 2579 6
 4560 00b8 002B     		cmp	r3, #0
 4561 00ba 0FD0     		beq	.L237
2580:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2581:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2582:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Otherwise, set it to NULL */
2583:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 4562              		.loc 1 2583 9
 4563 00bc 7B68     		ldr	r3, [r7, #4]
 4564 00be 1B68     		ldr	r3, [r3]
 4565 00c0 5B68     		ldr	r3, [r3, #4]
 4566 00c2 03F00203 		and	r3, r3, #2
 4567              		.loc 1 2583 8
 4568 00c6 022B     		cmp	r3, #2
 4569 00c8 04D1     		bne	.L238
2584:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2585:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
 4570              		.loc 1 2585 11
 4571 00ca 7B68     		ldr	r3, [r7, #4]
 4572 00cc 5B6D     		ldr	r3, [r3, #84]
 4573              		.loc 1 2585 39
 4574 00ce 474A     		ldr	r2, .L249+16
 4575 00d0 9A63     		str	r2, [r3, #56]
 4576 00d2 03E0     		b	.L237
 4577              	.L238:
2586:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2587:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
2588:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2589:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 4578              		.loc 1 2589 11
 4579 00d4 7B68     		ldr	r3, [r7, #4]
 4580 00d6 5B6D     		ldr	r3, [r3, #84]
 4581              		.loc 1 2589 39
 4582 00d8 0022     		movs	r2, #0
 4583 00da 9A63     		str	r2, [r3, #56]
 4584              	.L237:
2590:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2591:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2592:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2593:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 4585              		.loc 1 2593 11
 4586 00dc 7B68     		ldr	r3, [r7, #4]
 4587 00de 9B6D     		ldr	r3, [r3, #88]
 4588              		.loc 1 2593 6
 4589 00e0 002B     		cmp	r3, #0
 4590 00e2 0FD0     		beq	.L239
2594:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2595:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2596:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        Otherwise, set it to NULL */
2597:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 127


 4591              		.loc 1 2597 9
 4592 00e4 7B68     		ldr	r3, [r7, #4]
 4593 00e6 1B68     		ldr	r3, [r3]
 4594 00e8 5B68     		ldr	r3, [r3, #4]
 4595 00ea 03F00103 		and	r3, r3, #1
 4596              		.loc 1 2597 8
 4597 00ee 012B     		cmp	r3, #1
 4598 00f0 04D1     		bne	.L240
2598:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2599:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
 4599              		.loc 1 2599 11
 4600 00f2 7B68     		ldr	r3, [r7, #4]
 4601 00f4 9B6D     		ldr	r3, [r3, #88]
 4602              		.loc 1 2599 39
 4603 00f6 3E4A     		ldr	r2, .L249+20
 4604 00f8 9A63     		str	r2, [r3, #56]
 4605 00fa 03E0     		b	.L239
 4606              	.L240:
2600:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2601:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
2602:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2603:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 4607              		.loc 1 2603 11
 4608 00fc 7B68     		ldr	r3, [r7, #4]
 4609 00fe 9B6D     		ldr	r3, [r3, #88]
 4610              		.loc 1 2603 39
 4611 0100 0022     		movs	r2, #0
 4612 0102 9A63     		str	r2, [r3, #56]
 4613              	.L239:
2604:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2605:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2606:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2607:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2608:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 4614              		.loc 1 2608 7
 4615 0104 7B68     		ldr	r3, [r7, #4]
 4616 0106 1B68     		ldr	r3, [r3]
 4617 0108 5B68     		ldr	r3, [r3, #4]
 4618 010a 03F00203 		and	r3, r3, #2
 4619              		.loc 1 2608 6
 4620 010e 022B     		cmp	r3, #2
 4621 0110 15D1     		bne	.L241
2609:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2610:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2611:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
 4622              		.loc 1 2611 13
 4623 0112 7B68     		ldr	r3, [r7, #4]
 4624 0114 5B6D     		ldr	r3, [r3, #84]
 4625              		.loc 1 2611 8
 4626 0116 002B     		cmp	r3, #0
 4627 0118 11D0     		beq	.L241
2612:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2613:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2614:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
 4628              		.loc 1 2614 11
 4629 011a 7B68     		ldr	r3, [r7, #4]
 4630 011c 5B6D     		ldr	r3, [r3, #84]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 128


 4631 011e 1846     		mov	r0, r3
 4632 0120 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4633 0124 0346     		mov	r3, r0
 4634              		.loc 1 2614 10 discriminator 1
 4635 0126 002B     		cmp	r3, #0
 4636 0128 07D0     		beq	.L242
2615:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2616:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
 4637              		.loc 1 2616 13
 4638 012a 7B68     		ldr	r3, [r7, #4]
 4639 012c 5B6D     		ldr	r3, [r3, #84]
 4640              		.loc 1 2616 41
 4641 012e 0022     		movs	r2, #0
 4642 0130 9A63     		str	r2, [r3, #56]
2617:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4643              		.loc 1 2617 25
 4644 0132 7B68     		ldr	r3, [r7, #4]
 4645 0134 4022     		movs	r2, #64
 4646 0136 1A66     		str	r2, [r3, #96]
 4647 0138 01E0     		b	.L241
 4648              	.L242:
2618:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2619:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2620:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2621:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         abortcplt = 0U;
 4649              		.loc 1 2621 19
 4650 013a 0023     		movs	r3, #0
 4651 013c BB61     		str	r3, [r7, #24]
 4652              	.L241:
2622:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2623:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2624:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2625:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2626:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 4653              		.loc 1 2626 7
 4654 013e 7B68     		ldr	r3, [r7, #4]
 4655 0140 1B68     		ldr	r3, [r3]
 4656 0142 5B68     		ldr	r3, [r3, #4]
 4657 0144 03F00103 		and	r3, r3, #1
 4658              		.loc 1 2626 6
 4659 0148 012B     		cmp	r3, #1
 4660 014a 15D1     		bne	.L243
2627:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2628:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2629:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
 4661              		.loc 1 2629 13
 4662 014c 7B68     		ldr	r3, [r7, #4]
 4663 014e 9B6D     		ldr	r3, [r3, #88]
 4664              		.loc 1 2629 8
 4665 0150 002B     		cmp	r3, #0
 4666 0152 11D0     		beq	.L243
2630:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2631:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2632:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
 4667              		.loc 1 2632 11
 4668 0154 7B68     		ldr	r3, [r7, #4]
 4669 0156 9B6D     		ldr	r3, [r3, #88]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 129


 4670 0158 1846     		mov	r0, r3
 4671 015a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4672 015e 0346     		mov	r3, r0
 4673              		.loc 1 2632 10 discriminator 1
 4674 0160 002B     		cmp	r3, #0
 4675 0162 07D0     		beq	.L244
2633:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2634:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
 4676              		.loc 1 2634 13
 4677 0164 7B68     		ldr	r3, [r7, #4]
 4678 0166 9B6D     		ldr	r3, [r3, #88]
 4679              		.loc 1 2634 41
 4680 0168 0022     		movs	r2, #0
 4681 016a 9A63     		str	r2, [r3, #56]
2635:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4682              		.loc 1 2635 25
 4683 016c 7B68     		ldr	r3, [r7, #4]
 4684 016e 4022     		movs	r2, #64
 4685 0170 1A66     		str	r2, [r3, #96]
 4686 0172 01E0     		b	.L243
 4687              	.L244:
2636:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2637:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2638:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2639:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         abortcplt = 0U;
 4688              		.loc 1 2639 19
 4689 0174 0023     		movs	r3, #0
 4690 0176 BB61     		str	r3, [r7, #24]
 4691              	.L243:
2640:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2641:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2642:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2643:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2644:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (abortcplt == 1U)
 4692              		.loc 1 2644 6
 4693 0178 BB69     		ldr	r3, [r7, #24]
 4694 017a 012B     		cmp	r3, #1
 4695 017c 29D1     		bne	.L245
2645:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2646:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
2647:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 4696              		.loc 1 2647 23
 4697 017e 7B68     		ldr	r3, [r7, #4]
 4698 0180 0022     		movs	r2, #0
 4699 0182 A3F84620 		strh	r2, [r3, #70]	@ movhi
2648:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 4700              		.loc 1 2648 23
 4701 0186 7B68     		ldr	r3, [r7, #4]
 4702 0188 0022     		movs	r2, #0
 4703 018a DA87     		strh	r2, [r3, #62]	@ movhi
2649:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2650:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check error during Abort procedure */
2651:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
 4704              		.loc 1 2651 13
 4705 018c 7B68     		ldr	r3, [r7, #4]
 4706 018e 1B6E     		ldr	r3, [r3, #96]
 4707              		.loc 1 2651 8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 130


 4708 0190 402B     		cmp	r3, #64
 4709 0192 02D1     		bne	.L246
2652:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2653:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2654:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4710              		.loc 1 2654 17
 4711 0194 0123     		movs	r3, #1
 4712 0196 FB77     		strb	r3, [r7, #31]
 4713 0198 02E0     		b	.L247
 4714              	.L246:
2655:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2656:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
2657:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2658:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Reset errorCode */
2659:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 4715              		.loc 1 2659 23
 4716 019a 7B68     		ldr	r3, [r7, #4]
 4717 019c 0022     		movs	r2, #0
 4718 019e 1A66     		str	r2, [r3, #96]
 4719              	.L247:
 4720              	.LBB5:
2660:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2661:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2662:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2663:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 4721              		.loc 1 2663 5
 4722 01a0 0023     		movs	r3, #0
 4723 01a2 FB60     		str	r3, [r7, #12]
 4724 01a4 7B68     		ldr	r3, [r7, #4]
 4725 01a6 1B68     		ldr	r3, [r3]
 4726 01a8 DB68     		ldr	r3, [r3, #12]
 4727 01aa FB60     		str	r3, [r7, #12]
 4728 01ac 7B68     		ldr	r3, [r7, #4]
 4729 01ae 1B68     		ldr	r3, [r3]
 4730 01b0 9B68     		ldr	r3, [r3, #8]
 4731 01b2 FB60     		str	r3, [r7, #12]
 4732 01b4 FB68     		ldr	r3, [r7, #12]
 4733              	.LBE5:
 4734              	.LBB6:
2664:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 4735              		.loc 1 2664 5
 4736 01b6 0023     		movs	r3, #0
 4737 01b8 BB60     		str	r3, [r7, #8]
 4738 01ba 7B68     		ldr	r3, [r7, #4]
 4739 01bc 1B68     		ldr	r3, [r3]
 4740 01be 9B68     		ldr	r3, [r3, #8]
 4741 01c0 BB60     		str	r3, [r7, #8]
 4742 01c2 BB68     		ldr	r3, [r7, #8]
 4743              	.LBE6:
2665:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2666:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2667:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4744              		.loc 1 2667 17
 4745 01c4 7B68     		ldr	r3, [r7, #4]
 4746 01c6 0122     		movs	r2, #1
 4747 01c8 83F85D20 		strb	r2, [r3, #93]
2668:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 131


2669:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2670:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2671:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2672:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
2673:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
 4748              		.loc 1 2673 5
 4749 01cc 7868     		ldr	r0, [r7, #4]
 4750 01ce FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 4751              	.L245:
2674:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2675:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2676:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2677:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 4752              		.loc 1 2677 10
 4753 01d2 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2678:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 4754              		.loc 1 2678 1
 4755 01d4 1846     		mov	r0, r3
 4756 01d6 2037     		adds	r7, r7, #32
 4757              	.LCFI77:
 4758              		.cfi_def_cfa_offset 8
 4759 01d8 BD46     		mov	sp, r7
 4760              	.LCFI78:
 4761              		.cfi_def_cfa_register 13
 4762              		@ sp needed
 4763 01da 80BD     		pop	{r7, pc}
 4764              	.L250:
 4765              		.align	2
 4766              	.L249:
 4767 01dc 00000000 		.word	SystemCoreClock
 4768 01e0 F1197605 		.word	91625969
 4769 01e4 00000000 		.word	SPI_AbortTx_ISR
 4770 01e8 00000000 		.word	SPI_AbortRx_ISR
 4771 01ec 00000000 		.word	SPI_DMATxAbortCallback
 4772 01f0 00000000 		.word	SPI_DMARxAbortCallback
 4773              		.cfi_endproc
 4774              	.LFE146:
 4776              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 4777              		.align	1
 4778              		.global	HAL_SPI_DMAPause
 4779              		.syntax unified
 4780              		.thumb
 4781              		.thumb_func
 4783              	HAL_SPI_DMAPause:
 4784              	.LFB147:
2679:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2680:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2681:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2682:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2683:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2684:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2685:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2686:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2687:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 4785              		.loc 1 2687 1
 4786              		.cfi_startproc
 4787              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 132


 4788              		@ frame_needed = 1, uses_anonymous_args = 0
 4789              		@ link register save eliminated.
 4790 0000 80B4     		push	{r7}
 4791              	.LCFI79:
 4792              		.cfi_def_cfa_offset 4
 4793              		.cfi_offset 7, -4
 4794 0002 83B0     		sub	sp, sp, #12
 4795              	.LCFI80:
 4796              		.cfi_def_cfa_offset 16
 4797 0004 00AF     		add	r7, sp, #0
 4798              	.LCFI81:
 4799              		.cfi_def_cfa_register 7
 4800 0006 7860     		str	r0, [r7, #4]
2688:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
2689:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 4801              		.loc 1 2689 3
 4802 0008 7B68     		ldr	r3, [r7, #4]
 4803 000a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 4804 000e 012B     		cmp	r3, #1
 4805 0010 01D1     		bne	.L252
 4806              		.loc 1 2689 3 is_stmt 0 discriminator 1
 4807 0012 0223     		movs	r3, #2
 4808              		.loc 1 2689 3
 4809 0014 10E0     		b	.L253
 4810              	.L252:
 4811              		.loc 1 2689 3 discriminator 2
 4812 0016 7B68     		ldr	r3, [r7, #4]
 4813 0018 0122     		movs	r2, #1
 4814 001a 83F85C20 		strb	r2, [r3, #92]
2690:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2691:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2692:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4815              		.loc 1 2692 3 is_stmt 1
 4816 001e 7B68     		ldr	r3, [r7, #4]
 4817 0020 1B68     		ldr	r3, [r3]
 4818 0022 5A68     		ldr	r2, [r3, #4]
 4819 0024 7B68     		ldr	r3, [r7, #4]
 4820 0026 1B68     		ldr	r3, [r3]
 4821 0028 22F00302 		bic	r2, r2, #3
 4822 002c 5A60     		str	r2, [r3, #4]
2693:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2694:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
2695:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4823              		.loc 1 2695 3
 4824 002e 7B68     		ldr	r3, [r7, #4]
 4825 0030 0022     		movs	r2, #0
 4826 0032 83F85C20 		strb	r2, [r3, #92]
2696:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2697:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 4827              		.loc 1 2697 10
 4828 0036 0023     		movs	r3, #0
 4829              	.L253:
2698:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 4830              		.loc 1 2698 1
 4831 0038 1846     		mov	r0, r3
 4832 003a 0C37     		adds	r7, r7, #12
 4833              	.LCFI82:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 133


 4834              		.cfi_def_cfa_offset 4
 4835 003c BD46     		mov	sp, r7
 4836              	.LCFI83:
 4837              		.cfi_def_cfa_register 13
 4838              		@ sp needed
 4839 003e 5DF8047B 		ldr	r7, [sp], #4
 4840              	.LCFI84:
 4841              		.cfi_restore 7
 4842              		.cfi_def_cfa_offset 0
 4843 0042 7047     		bx	lr
 4844              		.cfi_endproc
 4845              	.LFE147:
 4847              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 4848              		.align	1
 4849              		.global	HAL_SPI_DMAResume
 4850              		.syntax unified
 4851              		.thumb
 4852              		.thumb_func
 4854              	HAL_SPI_DMAResume:
 4855              	.LFB148:
2699:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2700:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2701:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2702:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2703:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2704:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2705:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2706:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2707:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 4856              		.loc 1 2707 1
 4857              		.cfi_startproc
 4858              		@ args = 0, pretend = 0, frame = 8
 4859              		@ frame_needed = 1, uses_anonymous_args = 0
 4860              		@ link register save eliminated.
 4861 0000 80B4     		push	{r7}
 4862              	.LCFI85:
 4863              		.cfi_def_cfa_offset 4
 4864              		.cfi_offset 7, -4
 4865 0002 83B0     		sub	sp, sp, #12
 4866              	.LCFI86:
 4867              		.cfi_def_cfa_offset 16
 4868 0004 00AF     		add	r7, sp, #0
 4869              	.LCFI87:
 4870              		.cfi_def_cfa_register 7
 4871 0006 7860     		str	r0, [r7, #4]
2708:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Locked */
2709:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 4872              		.loc 1 2709 3
 4873 0008 7B68     		ldr	r3, [r7, #4]
 4874 000a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 4875 000e 012B     		cmp	r3, #1
 4876 0010 01D1     		bne	.L255
 4877              		.loc 1 2709 3 is_stmt 0 discriminator 1
 4878 0012 0223     		movs	r3, #2
 4879              		.loc 1 2709 3
 4880 0014 10E0     		b	.L256
 4881              	.L255:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 134


 4882              		.loc 1 2709 3 discriminator 2
 4883 0016 7B68     		ldr	r3, [r7, #4]
 4884 0018 0122     		movs	r2, #1
 4885 001a 83F85C20 		strb	r2, [r3, #92]
2710:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2711:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2712:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4886              		.loc 1 2712 3 is_stmt 1
 4887 001e 7B68     		ldr	r3, [r7, #4]
 4888 0020 1B68     		ldr	r3, [r3]
 4889 0022 5A68     		ldr	r2, [r3, #4]
 4890 0024 7B68     		ldr	r3, [r7, #4]
 4891 0026 1B68     		ldr	r3, [r3]
 4892 0028 42F00302 		orr	r2, r2, #3
 4893 002c 5A60     		str	r2, [r3, #4]
2713:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2714:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Process Unlocked */
2715:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4894              		.loc 1 2715 3
 4895 002e 7B68     		ldr	r3, [r7, #4]
 4896 0030 0022     		movs	r2, #0
 4897 0032 83F85C20 		strb	r2, [r3, #92]
2716:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2717:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 4898              		.loc 1 2717 10
 4899 0036 0023     		movs	r3, #0
 4900              	.L256:
2718:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 4901              		.loc 1 2718 1
 4902 0038 1846     		mov	r0, r3
 4903 003a 0C37     		adds	r7, r7, #12
 4904              	.LCFI88:
 4905              		.cfi_def_cfa_offset 4
 4906 003c BD46     		mov	sp, r7
 4907              	.LCFI89:
 4908              		.cfi_def_cfa_register 13
 4909              		@ sp needed
 4910 003e 5DF8047B 		ldr	r7, [sp], #4
 4911              	.LCFI90:
 4912              		.cfi_restore 7
 4913              		.cfi_def_cfa_offset 0
 4914 0042 7047     		bx	lr
 4915              		.cfi_endproc
 4916              	.LFE148:
 4918              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 4919              		.align	1
 4920              		.global	HAL_SPI_DMAStop
 4921              		.syntax unified
 4922              		.thumb
 4923              		.thumb_func
 4925              	HAL_SPI_DMAStop:
 4926              	.LFB149:
2719:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2720:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2721:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2722:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2723:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 135


2724:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
2725:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2726:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2727:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 4927              		.loc 1 2727 1
 4928              		.cfi_startproc
 4929              		@ args = 0, pretend = 0, frame = 16
 4930              		@ frame_needed = 1, uses_anonymous_args = 0
 4931 0000 80B5     		push	{r7, lr}
 4932              	.LCFI91:
 4933              		.cfi_def_cfa_offset 8
 4934              		.cfi_offset 7, -8
 4935              		.cfi_offset 14, -4
 4936 0002 84B0     		sub	sp, sp, #16
 4937              	.LCFI92:
 4938              		.cfi_def_cfa_offset 24
 4939 0004 00AF     		add	r7, sp, #0
 4940              	.LCFI93:
 4941              		.cfi_def_cfa_register 7
 4942 0006 7860     		str	r0, [r7, #4]
2728:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 4943              		.loc 1 2728 21
 4944 0008 0023     		movs	r3, #0
 4945 000a FB73     		strb	r3, [r7, #15]
2729:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2730:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2731:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2732:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2733:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      */
2734:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2735:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2736:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 4946              		.loc 1 2736 11
 4947 000c 7B68     		ldr	r3, [r7, #4]
 4948 000e 5B6D     		ldr	r3, [r3, #84]
 4949              		.loc 1 2736 6
 4950 0010 002B     		cmp	r3, #0
 4951 0012 0FD0     		beq	.L258
2737:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2738:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
 4952              		.loc 1 2738 19
 4953 0014 7B68     		ldr	r3, [r7, #4]
 4954 0016 5B6D     		ldr	r3, [r3, #84]
 4955 0018 1846     		mov	r0, r3
 4956 001a FFF7FEFF 		bl	HAL_DMA_Abort
 4957 001e 0346     		mov	r3, r0
 4958              		.loc 1 2738 8 discriminator 1
 4959 0020 002B     		cmp	r3, #0
 4960 0022 07D0     		beq	.L258
2739:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2740:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4961              		.loc 1 2740 7
 4962 0024 7B68     		ldr	r3, [r7, #4]
 4963 0026 1B6E     		ldr	r3, [r3, #96]
 4964 0028 43F01002 		orr	r2, r3, #16
 4965 002c 7B68     		ldr	r3, [r7, #4]
 4966 002e 1A66     		str	r2, [r3, #96]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 136


2741:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4967              		.loc 1 2741 17
 4968 0030 0123     		movs	r3, #1
 4969 0032 FB73     		strb	r3, [r7, #15]
 4970              	.L258:
2742:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2743:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2744:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2745:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 4971              		.loc 1 2745 11
 4972 0034 7B68     		ldr	r3, [r7, #4]
 4973 0036 9B6D     		ldr	r3, [r3, #88]
 4974              		.loc 1 2745 6
 4975 0038 002B     		cmp	r3, #0
 4976 003a 0FD0     		beq	.L259
2746:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2747:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
 4977              		.loc 1 2747 19
 4978 003c 7B68     		ldr	r3, [r7, #4]
 4979 003e 9B6D     		ldr	r3, [r3, #88]
 4980 0040 1846     		mov	r0, r3
 4981 0042 FFF7FEFF 		bl	HAL_DMA_Abort
 4982 0046 0346     		mov	r3, r0
 4983              		.loc 1 2747 8 discriminator 1
 4984 0048 002B     		cmp	r3, #0
 4985 004a 07D0     		beq	.L259
2748:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2749:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4986              		.loc 1 2749 7
 4987 004c 7B68     		ldr	r3, [r7, #4]
 4988 004e 1B6E     		ldr	r3, [r3, #96]
 4989 0050 43F01002 		orr	r2, r3, #16
 4990 0054 7B68     		ldr	r3, [r7, #4]
 4991 0056 1A66     		str	r2, [r3, #96]
2750:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 4992              		.loc 1 2750 17
 4993 0058 0123     		movs	r3, #1
 4994 005a FB73     		strb	r3, [r7, #15]
 4995              	.L259:
2751:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2752:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2753:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2754:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2755:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 4996              		.loc 1 2755 3
 4997 005c 7B68     		ldr	r3, [r7, #4]
 4998 005e 1B68     		ldr	r3, [r3]
 4999 0060 5A68     		ldr	r2, [r3, #4]
 5000 0062 7B68     		ldr	r3, [r7, #4]
 5001 0064 1B68     		ldr	r3, [r3]
 5002 0066 22F00302 		bic	r2, r2, #3
 5003 006a 5A60     		str	r2, [r3, #4]
2756:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5004              		.loc 1 2756 15
 5005 006c 7B68     		ldr	r3, [r7, #4]
 5006 006e 0122     		movs	r2, #1
 5007 0070 83F85D20 		strb	r2, [r3, #93]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 137


2757:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return errorcode;
 5008              		.loc 1 2757 10
 5009 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
2758:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5010              		.loc 1 2758 1
 5011 0076 1846     		mov	r0, r3
 5012 0078 1037     		adds	r7, r7, #16
 5013              	.LCFI94:
 5014              		.cfi_def_cfa_offset 8
 5015 007a BD46     		mov	sp, r7
 5016              	.LCFI95:
 5017              		.cfi_def_cfa_register 13
 5018              		@ sp needed
 5019 007c 80BD     		pop	{r7, pc}
 5020              		.cfi_endproc
 5021              	.LFE149:
 5023              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 5024              		.align	1
 5025              		.global	HAL_SPI_IRQHandler
 5026              		.syntax unified
 5027              		.thumb
 5028              		.thumb_func
 5030              	HAL_SPI_IRQHandler:
 5031              	.LFB150:
2759:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2760:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2761:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2762:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2763:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2764:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2765:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2766:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2767:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5032              		.loc 1 2767 1
 5033              		.cfi_startproc
 5034              		@ args = 0, pretend = 0, frame = 32
 5035              		@ frame_needed = 1, uses_anonymous_args = 0
 5036 0000 80B5     		push	{r7, lr}
 5037              	.LCFI96:
 5038              		.cfi_def_cfa_offset 8
 5039              		.cfi_offset 7, -8
 5040              		.cfi_offset 14, -4
 5041 0002 88B0     		sub	sp, sp, #32
 5042              	.LCFI97:
 5043              		.cfi_def_cfa_offset 40
 5044 0004 00AF     		add	r7, sp, #0
 5045              	.LCFI98:
 5046              		.cfi_def_cfa_register 7
 5047 0006 7860     		str	r0, [r7, #4]
2768:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 5048              		.loc 1 2768 27
 5049 0008 7B68     		ldr	r3, [r7, #4]
 5050 000a 1B68     		ldr	r3, [r3]
 5051              		.loc 1 2768 12
 5052 000c 5B68     		ldr	r3, [r3, #4]
 5053 000e FB61     		str	r3, [r7, #28]
2769:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 138


 5054              		.loc 1 2769 27
 5055 0010 7B68     		ldr	r3, [r7, #4]
 5056 0012 1B68     		ldr	r3, [r3]
 5057              		.loc 1 2769 12
 5058 0014 9B68     		ldr	r3, [r3, #8]
 5059 0016 BB61     		str	r3, [r7, #24]
2770:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2771:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2772:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
 5060              		.loc 1 2772 8
 5061 0018 BB69     		ldr	r3, [r7, #24]
 5062 001a 9B09     		lsrs	r3, r3, #6
 5063 001c 03F00103 		and	r3, r3, #1
 5064              		.loc 1 2772 6
 5065 0020 002B     		cmp	r3, #0
 5066 0022 0FD1     		bne	.L262
2773:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5067              		.loc 1 2773 8
 5068 0024 BB69     		ldr	r3, [r7, #24]
 5069 0026 03F00103 		and	r3, r3, #1
2772:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5070              		.loc 1 2772 55 discriminator 1
 5071 002a 002B     		cmp	r3, #0
 5072 002c 0AD0     		beq	.L262
 5073              		.loc 1 2773 60
 5074 002e FB69     		ldr	r3, [r7, #28]
 5075 0030 9B09     		lsrs	r3, r3, #6
 5076 0032 03F00103 		and	r3, r3, #1
 5077              		.loc 1 2773 56
 5078 0036 002B     		cmp	r3, #0
 5079 0038 04D0     		beq	.L262
2774:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2775:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxISR(hspi);
 5080              		.loc 1 2775 9
 5081 003a 7B68     		ldr	r3, [r7, #4]
 5082 003c DB6C     		ldr	r3, [r3, #76]
 5083              		.loc 1 2775 5
 5084 003e 7868     		ldr	r0, [r7, #4]
 5085 0040 9847     		blx	r3
 5086              	.LVL0:
2776:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return;
 5087              		.loc 1 2776 5
 5088 0042 D7E0     		b	.L261
 5089              	.L262:
2777:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2778:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2779:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2780:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
 5090              		.loc 1 2780 8
 5091 0044 BB69     		ldr	r3, [r7, #24]
 5092 0046 5B08     		lsrs	r3, r3, #1
 5093 0048 03F00103 		and	r3, r3, #1
 5094              		.loc 1 2780 6
 5095 004c 002B     		cmp	r3, #0
 5096 004e 0AD0     		beq	.L264
 5097              		.loc 1 2780 59 discriminator 1
 5098 0050 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 139


 5099 0052 DB09     		lsrs	r3, r3, #7
 5100 0054 03F00103 		and	r3, r3, #1
 5101              		.loc 1 2780 55 discriminator 1
 5102 0058 002B     		cmp	r3, #0
 5103 005a 04D0     		beq	.L264
2781:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2782:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxISR(hspi);
 5104              		.loc 1 2782 9
 5105 005c 7B68     		ldr	r3, [r7, #4]
 5106 005e 1B6D     		ldr	r3, [r3, #80]
 5107              		.loc 1 2782 5
 5108 0060 7868     		ldr	r0, [r7, #4]
 5109 0062 9847     		blx	r3
 5110              	.LVL1:
2783:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return;
 5111              		.loc 1 2783 5
 5112 0064 C6E0     		b	.L261
 5113              	.L264:
2784:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2785:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2786:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2787:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
 5114              		.loc 1 2787 9
 5115 0066 BB69     		ldr	r3, [r7, #24]
 5116 0068 5B09     		lsrs	r3, r3, #5
 5117 006a 03F00103 		and	r3, r3, #1
 5118              		.loc 1 2787 6
 5119 006e 002B     		cmp	r3, #0
 5120 0070 0CD1     		bne	.L265
 5121              		.loc 1 2787 61 discriminator 1
 5122 0072 BB69     		ldr	r3, [r7, #24]
 5123 0074 9B09     		lsrs	r3, r3, #6
 5124 0076 03F00103 		and	r3, r3, #1
 5125              		.loc 1 2787 57 discriminator 1
 5126 007a 002B     		cmp	r3, #0
 5127 007c 06D1     		bne	.L265
2788:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 5128              		.loc 1 2788 12
 5129 007e BB69     		ldr	r3, [r7, #24]
 5130 0080 1B0A     		lsrs	r3, r3, #8
 5131 0082 03F00103 		and	r3, r3, #1
 5132              		.loc 1 2788 8
 5133 0086 002B     		cmp	r3, #0
 5134 0088 00F0B480 		beq	.L261
 5135              	.L265:
 5136              		.loc 1 2788 64 discriminator 1
 5137 008c FB69     		ldr	r3, [r7, #28]
 5138 008e 5B09     		lsrs	r3, r3, #5
 5139 0090 03F00103 		and	r3, r3, #1
 5140              		.loc 1 2788 60 discriminator 1
 5141 0094 002B     		cmp	r3, #0
 5142 0096 00F0AD80 		beq	.L261
2789:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
2790:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2791:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
 5143              		.loc 1 2791 9
 5144 009a BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 140


 5145 009c 9B09     		lsrs	r3, r3, #6
 5146 009e 03F00103 		and	r3, r3, #1
 5147              		.loc 1 2791 8
 5148 00a2 002B     		cmp	r3, #0
 5149 00a4 23D0     		beq	.L266
2792:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2793:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
 5150              		.loc 1 2793 15
 5151 00a6 7B68     		ldr	r3, [r7, #4]
 5152 00a8 93F85D30 		ldrb	r3, [r3, #93]
 5153 00ac DBB2     		uxtb	r3, r3
 5154              		.loc 1 2793 10
 5155 00ae 032B     		cmp	r3, #3
 5156 00b0 11D0     		beq	.L267
2794:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2795:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
 5157              		.loc 1 2795 9
 5158 00b2 7B68     		ldr	r3, [r7, #4]
 5159 00b4 1B6E     		ldr	r3, [r3, #96]
 5160 00b6 43F00402 		orr	r2, r3, #4
 5161 00ba 7B68     		ldr	r3, [r7, #4]
 5162 00bc 1A66     		str	r2, [r3, #96]
 5163              	.LBB7:
2796:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5164              		.loc 1 2796 9
 5165 00be 0023     		movs	r3, #0
 5166 00c0 7B61     		str	r3, [r7, #20]
 5167 00c2 7B68     		ldr	r3, [r7, #4]
 5168 00c4 1B68     		ldr	r3, [r3]
 5169 00c6 DB68     		ldr	r3, [r3, #12]
 5170 00c8 7B61     		str	r3, [r7, #20]
 5171 00ca 7B68     		ldr	r3, [r7, #4]
 5172 00cc 1B68     		ldr	r3, [r3]
 5173 00ce 9B68     		ldr	r3, [r3, #8]
 5174 00d0 7B61     		str	r3, [r7, #20]
 5175 00d2 7B69     		ldr	r3, [r7, #20]
 5176              	.LBE7:
 5177 00d4 0BE0     		b	.L266
 5178              	.L267:
 5179              	.LBB8:
2797:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2798:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2799:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2800:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5180              		.loc 1 2800 9
 5181 00d6 0023     		movs	r3, #0
 5182 00d8 3B61     		str	r3, [r7, #16]
 5183 00da 7B68     		ldr	r3, [r7, #4]
 5184 00dc 1B68     		ldr	r3, [r3]
 5185 00de DB68     		ldr	r3, [r3, #12]
 5186 00e0 3B61     		str	r3, [r7, #16]
 5187 00e2 7B68     		ldr	r3, [r7, #4]
 5188 00e4 1B68     		ldr	r3, [r3]
 5189 00e6 9B68     		ldr	r3, [r3, #8]
 5190 00e8 3B61     		str	r3, [r7, #16]
 5191 00ea 3B69     		ldr	r3, [r7, #16]
 5192              	.LBE8:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 141


2801:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         return;
 5193              		.loc 1 2801 9
 5194 00ec 82E0     		b	.L261
 5195              	.L266:
2802:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2803:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2804:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2805:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2806:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
 5196              		.loc 1 2806 9
 5197 00ee BB69     		ldr	r3, [r7, #24]
 5198 00f0 5B09     		lsrs	r3, r3, #5
 5199 00f2 03F00103 		and	r3, r3, #1
 5200              		.loc 1 2806 8
 5201 00f6 002B     		cmp	r3, #0
 5202 00f8 14D0     		beq	.L268
2807:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2808:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
 5203              		.loc 1 2808 7
 5204 00fa 7B68     		ldr	r3, [r7, #4]
 5205 00fc 1B6E     		ldr	r3, [r3, #96]
 5206 00fe 43F00102 		orr	r2, r3, #1
 5207 0102 7B68     		ldr	r3, [r7, #4]
 5208 0104 1A66     		str	r2, [r3, #96]
 5209              	.LBB9:
2809:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 5210              		.loc 1 2809 7
 5211 0106 0023     		movs	r3, #0
 5212 0108 FB60     		str	r3, [r7, #12]
 5213 010a 7B68     		ldr	r3, [r7, #4]
 5214 010c 1B68     		ldr	r3, [r3]
 5215 010e 9B68     		ldr	r3, [r3, #8]
 5216 0110 FB60     		str	r3, [r7, #12]
 5217 0112 7B68     		ldr	r3, [r7, #4]
 5218 0114 1B68     		ldr	r3, [r3]
 5219 0116 1A68     		ldr	r2, [r3]
 5220 0118 7B68     		ldr	r3, [r7, #4]
 5221 011a 1B68     		ldr	r3, [r3]
 5222 011c 22F04002 		bic	r2, r2, #64
 5223 0120 1A60     		str	r2, [r3]
 5224 0122 FB68     		ldr	r3, [r7, #12]
 5225              	.L268:
 5226              	.LBE9:
2810:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2811:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2812:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2813:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)
 5227              		.loc 1 2813 9
 5228 0124 BB69     		ldr	r3, [r7, #24]
 5229 0126 1B0A     		lsrs	r3, r3, #8
 5230 0128 03F00103 		and	r3, r3, #1
 5231              		.loc 1 2813 8
 5232 012c 002B     		cmp	r3, #0
 5233 012e 0CD0     		beq	.L269
2814:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2815:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FRE);
 5234              		.loc 1 2815 7
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 142


 5235 0130 7B68     		ldr	r3, [r7, #4]
 5236 0132 1B6E     		ldr	r3, [r3, #96]
 5237 0134 43F00802 		orr	r2, r3, #8
 5238 0138 7B68     		ldr	r3, [r7, #4]
 5239 013a 1A66     		str	r2, [r3, #96]
 5240              	.LBB10:
2816:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 5241              		.loc 1 2816 7
 5242 013c 0023     		movs	r3, #0
 5243 013e BB60     		str	r3, [r7, #8]
 5244 0140 7B68     		ldr	r3, [r7, #4]
 5245 0142 1B68     		ldr	r3, [r3]
 5246 0144 9B68     		ldr	r3, [r3, #8]
 5247 0146 BB60     		str	r3, [r7, #8]
 5248 0148 BB68     		ldr	r3, [r7, #8]
 5249              	.L269:
 5250              	.LBE10:
2817:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2818:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2819:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 5251              		.loc 1 2819 13
 5252 014a 7B68     		ldr	r3, [r7, #4]
 5253 014c 1B6E     		ldr	r3, [r3, #96]
 5254              		.loc 1 2819 8
 5255 014e 002B     		cmp	r3, #0
 5256 0150 4FD0     		beq	.L275
2820:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
2821:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable all interrupts */
2822:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
 5257              		.loc 1 2822 7
 5258 0152 7B68     		ldr	r3, [r7, #4]
 5259 0154 1B68     		ldr	r3, [r3]
 5260 0156 5A68     		ldr	r2, [r3, #4]
 5261 0158 7B68     		ldr	r3, [r7, #4]
 5262 015a 1B68     		ldr	r3, [r3]
 5263 015c 22F0E002 		bic	r2, r2, #224
 5264 0160 5A60     		str	r2, [r3, #4]
2823:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2824:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 5265              		.loc 1 2824 19
 5266 0162 7B68     		ldr	r3, [r7, #4]
 5267 0164 0122     		movs	r2, #1
 5268 0166 83F85D20 		strb	r2, [r3, #93]
2825:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2826:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
 5269              		.loc 1 2826 12
 5270 016a FB69     		ldr	r3, [r7, #28]
 5271 016c 03F00203 		and	r3, r3, #2
 5272              		.loc 1 2826 10
 5273 0170 002B     		cmp	r3, #0
 5274 0172 04D1     		bne	.L271
 5275              		.loc 1 2826 59 discriminator 1
 5276 0174 FB69     		ldr	r3, [r7, #28]
 5277 0176 03F00103 		and	r3, r3, #1
 5278              		.loc 1 2826 55 discriminator 1
 5279 017a 002B     		cmp	r3, #0
 5280 017c 34D0     		beq	.L272
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 143


 5281              	.L271:
2827:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2828:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
 5282              		.loc 1 2828 9
 5283 017e 7B68     		ldr	r3, [r7, #4]
 5284 0180 1B68     		ldr	r3, [r3]
 5285 0182 5A68     		ldr	r2, [r3, #4]
 5286 0184 7B68     		ldr	r3, [r7, #4]
 5287 0186 1B68     		ldr	r3, [r3]
 5288 0188 22F00302 		bic	r2, r2, #3
 5289 018c 5A60     		str	r2, [r3, #4]
2829:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2830:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2831:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
 5290              		.loc 1 2831 17
 5291 018e 7B68     		ldr	r3, [r7, #4]
 5292 0190 9B6D     		ldr	r3, [r3, #88]
 5293              		.loc 1 2831 12
 5294 0192 002B     		cmp	r3, #0
 5295 0194 11D0     		beq	.L273
2832:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
2833:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2834:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2835:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
 5296              		.loc 1 2835 15
 5297 0196 7B68     		ldr	r3, [r7, #4]
 5298 0198 9B6D     		ldr	r3, [r3, #88]
 5299              		.loc 1 2835 43
 5300 019a 184A     		ldr	r2, .L277
 5301 019c 9A63     		str	r2, [r3, #56]
2836:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 5302              		.loc 1 2836 25
 5303 019e 7B68     		ldr	r3, [r7, #4]
 5304 01a0 9B6D     		ldr	r3, [r3, #88]
 5305 01a2 1846     		mov	r0, r3
 5306 01a4 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5307 01a8 0346     		mov	r3, r0
 5308              		.loc 1 2836 14 discriminator 1
 5309 01aa 002B     		cmp	r3, #0
 5310 01ac 05D0     		beq	.L273
2837:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
2838:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 5311              		.loc 1 2838 13
 5312 01ae 7B68     		ldr	r3, [r7, #4]
 5313 01b0 1B6E     		ldr	r3, [r3, #96]
 5314 01b2 43F04002 		orr	r2, r3, #64
 5315 01b6 7B68     		ldr	r3, [r7, #4]
 5316 01b8 1A66     		str	r2, [r3, #96]
 5317              	.L273:
2839:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
2840:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
2841:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
 5318              		.loc 1 2842 17
 5319 01ba 7B68     		ldr	r3, [r7, #4]
 5320 01bc 5B6D     		ldr	r3, [r3, #84]
 5321              		.loc 1 2842 12
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 144


 5322 01be 002B     		cmp	r3, #0
 5323 01c0 16D0     		beq	.L276
2843:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
2844:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2845:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2846:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
 5324              		.loc 1 2846 15
 5325 01c2 7B68     		ldr	r3, [r7, #4]
 5326 01c4 5B6D     		ldr	r3, [r3, #84]
 5327              		.loc 1 2846 43
 5328 01c6 0D4A     		ldr	r2, .L277
 5329 01c8 9A63     		str	r2, [r3, #56]
2847:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 5330              		.loc 1 2847 25
 5331 01ca 7B68     		ldr	r3, [r7, #4]
 5332 01cc 5B6D     		ldr	r3, [r3, #84]
 5333 01ce 1846     		mov	r0, r3
 5334 01d0 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5335 01d4 0346     		mov	r3, r0
 5336              		.loc 1 2847 14 discriminator 1
 5337 01d6 002B     		cmp	r3, #0
 5338 01d8 0AD0     		beq	.L276
2848:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
2849:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 5339              		.loc 1 2849 13
 5340 01da 7B68     		ldr	r3, [r7, #4]
 5341 01dc 1B6E     		ldr	r3, [r3, #96]
 5342 01de 43F04002 		orr	r2, r3, #64
 5343 01e2 7B68     		ldr	r3, [r7, #4]
 5344 01e4 1A66     		str	r2, [r3, #96]
2842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 5345              		.loc 1 2842 12
 5346 01e6 03E0     		b	.L276
 5347              	.L272:
2850:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
2851:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
2852:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2853:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
2854:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
2855:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Call user error callback */
2856:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2857:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2858:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
2859:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
 5348              		.loc 1 2859 9
 5349 01e8 7868     		ldr	r0, [r7, #4]
 5350 01ea FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2860:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2861:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
2862:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
2863:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return;
 5351              		.loc 1 2863 5
 5352 01ee 00E0     		b	.L275
 5353              	.L276:
2842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
 5354              		.loc 1 2842 12
 5355 01f0 00BF     		nop
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 145


 5356              	.L275:
 5357              		.loc 1 2863 5
 5358 01f2 00BF     		nop
 5359              	.L261:
2864:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
2865:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5360              		.loc 1 2865 1
 5361 01f4 2037     		adds	r7, r7, #32
 5362              	.LCFI99:
 5363              		.cfi_def_cfa_offset 8
 5364 01f6 BD46     		mov	sp, r7
 5365              	.LCFI100:
 5366              		.cfi_def_cfa_register 13
 5367              		@ sp needed
 5368 01f8 80BD     		pop	{r7, pc}
 5369              	.L278:
 5370 01fa 00BF     		.align	2
 5371              	.L277:
 5372 01fc 00000000 		.word	SPI_DMAAbortOnError
 5373              		.cfi_endproc
 5374              	.LFE150:
 5376              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 5377              		.align	1
 5378              		.weak	HAL_SPI_TxCpltCallback
 5379              		.syntax unified
 5380              		.thumb
 5381              		.thumb_func
 5383              	HAL_SPI_TxCpltCallback:
 5384              	.LFB151:
2866:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2867:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2868:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2869:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2870:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2871:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2872:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2873:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2874:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5385              		.loc 1 2874 1
 5386              		.cfi_startproc
 5387              		@ args = 0, pretend = 0, frame = 8
 5388              		@ frame_needed = 1, uses_anonymous_args = 0
 5389              		@ link register save eliminated.
 5390 0000 80B4     		push	{r7}
 5391              	.LCFI101:
 5392              		.cfi_def_cfa_offset 4
 5393              		.cfi_offset 7, -4
 5394 0002 83B0     		sub	sp, sp, #12
 5395              	.LCFI102:
 5396              		.cfi_def_cfa_offset 16
 5397 0004 00AF     		add	r7, sp, #0
 5398              	.LCFI103:
 5399              		.cfi_def_cfa_register 7
 5400 0006 7860     		str	r0, [r7, #4]
2875:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2876:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2877:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 146


2878:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2879:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2880:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2881:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5401              		.loc 1 2881 1
 5402 0008 00BF     		nop
 5403 000a 0C37     		adds	r7, r7, #12
 5404              	.LCFI104:
 5405              		.cfi_def_cfa_offset 4
 5406 000c BD46     		mov	sp, r7
 5407              	.LCFI105:
 5408              		.cfi_def_cfa_register 13
 5409              		@ sp needed
 5410 000e 5DF8047B 		ldr	r7, [sp], #4
 5411              	.LCFI106:
 5412              		.cfi_restore 7
 5413              		.cfi_def_cfa_offset 0
 5414 0012 7047     		bx	lr
 5415              		.cfi_endproc
 5416              	.LFE151:
 5418              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 5419              		.align	1
 5420              		.weak	HAL_SPI_RxCpltCallback
 5421              		.syntax unified
 5422              		.thumb
 5423              		.thumb_func
 5425              	HAL_SPI_RxCpltCallback:
 5426              	.LFB152:
2882:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2883:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2884:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2885:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2886:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2887:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2888:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2889:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2890:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5427              		.loc 1 2890 1
 5428              		.cfi_startproc
 5429              		@ args = 0, pretend = 0, frame = 8
 5430              		@ frame_needed = 1, uses_anonymous_args = 0
 5431              		@ link register save eliminated.
 5432 0000 80B4     		push	{r7}
 5433              	.LCFI107:
 5434              		.cfi_def_cfa_offset 4
 5435              		.cfi_offset 7, -4
 5436 0002 83B0     		sub	sp, sp, #12
 5437              	.LCFI108:
 5438              		.cfi_def_cfa_offset 16
 5439 0004 00AF     		add	r7, sp, #0
 5440              	.LCFI109:
 5441              		.cfi_def_cfa_register 7
 5442 0006 7860     		str	r0, [r7, #4]
2891:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2892:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2893:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2894:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 147


2895:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2897:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5443              		.loc 1 2897 1
 5444 0008 00BF     		nop
 5445 000a 0C37     		adds	r7, r7, #12
 5446              	.LCFI110:
 5447              		.cfi_def_cfa_offset 4
 5448 000c BD46     		mov	sp, r7
 5449              	.LCFI111:
 5450              		.cfi_def_cfa_register 13
 5451              		@ sp needed
 5452 000e 5DF8047B 		ldr	r7, [sp], #4
 5453              	.LCFI112:
 5454              		.cfi_restore 7
 5455              		.cfi_def_cfa_offset 0
 5456 0012 7047     		bx	lr
 5457              		.cfi_endproc
 5458              	.LFE152:
 5460              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 5461              		.align	1
 5462              		.weak	HAL_SPI_TxRxCpltCallback
 5463              		.syntax unified
 5464              		.thumb
 5465              		.thumb_func
 5467              	HAL_SPI_TxRxCpltCallback:
 5468              	.LFB153:
2898:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2899:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2900:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2901:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2902:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2903:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2904:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2905:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2906:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5469              		.loc 1 2906 1
 5470              		.cfi_startproc
 5471              		@ args = 0, pretend = 0, frame = 8
 5472              		@ frame_needed = 1, uses_anonymous_args = 0
 5473              		@ link register save eliminated.
 5474 0000 80B4     		push	{r7}
 5475              	.LCFI113:
 5476              		.cfi_def_cfa_offset 4
 5477              		.cfi_offset 7, -4
 5478 0002 83B0     		sub	sp, sp, #12
 5479              	.LCFI114:
 5480              		.cfi_def_cfa_offset 16
 5481 0004 00AF     		add	r7, sp, #0
 5482              	.LCFI115:
 5483              		.cfi_def_cfa_register 7
 5484 0006 7860     		str	r0, [r7, #4]
2907:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2908:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2909:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2910:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2911:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 148


2912:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2913:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5485              		.loc 1 2913 1
 5486 0008 00BF     		nop
 5487 000a 0C37     		adds	r7, r7, #12
 5488              	.LCFI116:
 5489              		.cfi_def_cfa_offset 4
 5490 000c BD46     		mov	sp, r7
 5491              	.LCFI117:
 5492              		.cfi_def_cfa_register 13
 5493              		@ sp needed
 5494 000e 5DF8047B 		ldr	r7, [sp], #4
 5495              	.LCFI118:
 5496              		.cfi_restore 7
 5497              		.cfi_def_cfa_offset 0
 5498 0012 7047     		bx	lr
 5499              		.cfi_endproc
 5500              	.LFE153:
 5502              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 5503              		.align	1
 5504              		.weak	HAL_SPI_TxHalfCpltCallback
 5505              		.syntax unified
 5506              		.thumb
 5507              		.thumb_func
 5509              	HAL_SPI_TxHalfCpltCallback:
 5510              	.LFB154:
2914:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2915:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2916:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2917:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2918:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2919:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2920:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2921:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2922:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5511              		.loc 1 2922 1
 5512              		.cfi_startproc
 5513              		@ args = 0, pretend = 0, frame = 8
 5514              		@ frame_needed = 1, uses_anonymous_args = 0
 5515              		@ link register save eliminated.
 5516 0000 80B4     		push	{r7}
 5517              	.LCFI119:
 5518              		.cfi_def_cfa_offset 4
 5519              		.cfi_offset 7, -4
 5520 0002 83B0     		sub	sp, sp, #12
 5521              	.LCFI120:
 5522              		.cfi_def_cfa_offset 16
 5523 0004 00AF     		add	r7, sp, #0
 5524              	.LCFI121:
 5525              		.cfi_def_cfa_register 7
 5526 0006 7860     		str	r0, [r7, #4]
2923:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2924:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2925:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2926:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2927:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2928:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 149


2929:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5527              		.loc 1 2929 1
 5528 0008 00BF     		nop
 5529 000a 0C37     		adds	r7, r7, #12
 5530              	.LCFI122:
 5531              		.cfi_def_cfa_offset 4
 5532 000c BD46     		mov	sp, r7
 5533              	.LCFI123:
 5534              		.cfi_def_cfa_register 13
 5535              		@ sp needed
 5536 000e 5DF8047B 		ldr	r7, [sp], #4
 5537              	.LCFI124:
 5538              		.cfi_restore 7
 5539              		.cfi_def_cfa_offset 0
 5540 0012 7047     		bx	lr
 5541              		.cfi_endproc
 5542              	.LFE154:
 5544              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 5545              		.align	1
 5546              		.weak	HAL_SPI_RxHalfCpltCallback
 5547              		.syntax unified
 5548              		.thumb
 5549              		.thumb_func
 5551              	HAL_SPI_RxHalfCpltCallback:
 5552              	.LFB155:
2930:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2931:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2932:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2933:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2934:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2935:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2937:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2938:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5553              		.loc 1 2938 1
 5554              		.cfi_startproc
 5555              		@ args = 0, pretend = 0, frame = 8
 5556              		@ frame_needed = 1, uses_anonymous_args = 0
 5557              		@ link register save eliminated.
 5558 0000 80B4     		push	{r7}
 5559              	.LCFI125:
 5560              		.cfi_def_cfa_offset 4
 5561              		.cfi_offset 7, -4
 5562 0002 83B0     		sub	sp, sp, #12
 5563              	.LCFI126:
 5564              		.cfi_def_cfa_offset 16
 5565 0004 00AF     		add	r7, sp, #0
 5566              	.LCFI127:
 5567              		.cfi_def_cfa_register 7
 5568 0006 7860     		str	r0, [r7, #4]
2939:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2940:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2941:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2942:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2943:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2944:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2945:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 150


 5569              		.loc 1 2945 1
 5570 0008 00BF     		nop
 5571 000a 0C37     		adds	r7, r7, #12
 5572              	.LCFI128:
 5573              		.cfi_def_cfa_offset 4
 5574 000c BD46     		mov	sp, r7
 5575              	.LCFI129:
 5576              		.cfi_def_cfa_register 13
 5577              		@ sp needed
 5578 000e 5DF8047B 		ldr	r7, [sp], #4
 5579              	.LCFI130:
 5580              		.cfi_restore 7
 5581              		.cfi_def_cfa_offset 0
 5582 0012 7047     		bx	lr
 5583              		.cfi_endproc
 5584              	.LFE155:
 5586              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 5587              		.align	1
 5588              		.weak	HAL_SPI_TxRxHalfCpltCallback
 5589              		.syntax unified
 5590              		.thumb
 5591              		.thumb_func
 5593              	HAL_SPI_TxRxHalfCpltCallback:
 5594              	.LFB156:
2946:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2947:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2948:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2949:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2950:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2951:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2952:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2953:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2954:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5595              		.loc 1 2954 1
 5596              		.cfi_startproc
 5597              		@ args = 0, pretend = 0, frame = 8
 5598              		@ frame_needed = 1, uses_anonymous_args = 0
 5599              		@ link register save eliminated.
 5600 0000 80B4     		push	{r7}
 5601              	.LCFI131:
 5602              		.cfi_def_cfa_offset 4
 5603              		.cfi_offset 7, -4
 5604 0002 83B0     		sub	sp, sp, #12
 5605              	.LCFI132:
 5606              		.cfi_def_cfa_offset 16
 5607 0004 00AF     		add	r7, sp, #0
 5608              	.LCFI133:
 5609              		.cfi_def_cfa_register 7
 5610 0006 7860     		str	r0, [r7, #4]
2955:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2956:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2957:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2958:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2959:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2960:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2961:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5611              		.loc 1 2961 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 151


 5612 0008 00BF     		nop
 5613 000a 0C37     		adds	r7, r7, #12
 5614              	.LCFI134:
 5615              		.cfi_def_cfa_offset 4
 5616 000c BD46     		mov	sp, r7
 5617              	.LCFI135:
 5618              		.cfi_def_cfa_register 13
 5619              		@ sp needed
 5620 000e 5DF8047B 		ldr	r7, [sp], #4
 5621              	.LCFI136:
 5622              		.cfi_restore 7
 5623              		.cfi_def_cfa_offset 0
 5624 0012 7047     		bx	lr
 5625              		.cfi_endproc
 5626              	.LFE156:
 5628              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 5629              		.align	1
 5630              		.weak	HAL_SPI_ErrorCallback
 5631              		.syntax unified
 5632              		.thumb
 5633              		.thumb_func
 5635              	HAL_SPI_ErrorCallback:
 5636              	.LFB157:
2962:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2963:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2964:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  SPI error callback.
2965:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2966:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
2967:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2968:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2969:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2970:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5637              		.loc 1 2970 1
 5638              		.cfi_startproc
 5639              		@ args = 0, pretend = 0, frame = 8
 5640              		@ frame_needed = 1, uses_anonymous_args = 0
 5641              		@ link register save eliminated.
 5642 0000 80B4     		push	{r7}
 5643              	.LCFI137:
 5644              		.cfi_def_cfa_offset 4
 5645              		.cfi_offset 7, -4
 5646 0002 83B0     		sub	sp, sp, #12
 5647              	.LCFI138:
 5648              		.cfi_def_cfa_offset 16
 5649 0004 00AF     		add	r7, sp, #0
 5650              	.LCFI139:
 5651              		.cfi_def_cfa_register 7
 5652 0006 7860     		str	r0, [r7, #4]
2971:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2972:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2973:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2975:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2976:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2977:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2978:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2979:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 152


2980:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5653              		.loc 1 2980 1
 5654 0008 00BF     		nop
 5655 000a 0C37     		adds	r7, r7, #12
 5656              	.LCFI140:
 5657              		.cfi_def_cfa_offset 4
 5658 000c BD46     		mov	sp, r7
 5659              	.LCFI141:
 5660              		.cfi_def_cfa_register 13
 5661              		@ sp needed
 5662 000e 5DF8047B 		ldr	r7, [sp], #4
 5663              	.LCFI142:
 5664              		.cfi_restore 7
 5665              		.cfi_def_cfa_offset 0
 5666 0012 7047     		bx	lr
 5667              		.cfi_endproc
 5668              	.LFE157:
 5670              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 5671              		.align	1
 5672              		.weak	HAL_SPI_AbortCpltCallback
 5673              		.syntax unified
 5674              		.thumb
 5675              		.thumb_func
 5677              	HAL_SPI_AbortCpltCallback:
 5678              	.LFB158:
2981:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2982:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2983:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2984:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi SPI handle.
2985:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
2986:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
2987:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2988:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5679              		.loc 1 2988 1
 5680              		.cfi_startproc
 5681              		@ args = 0, pretend = 0, frame = 8
 5682              		@ frame_needed = 1, uses_anonymous_args = 0
 5683              		@ link register save eliminated.
 5684 0000 80B4     		push	{r7}
 5685              	.LCFI143:
 5686              		.cfi_def_cfa_offset 4
 5687              		.cfi_offset 7, -4
 5688 0002 83B0     		sub	sp, sp, #12
 5689              	.LCFI144:
 5690              		.cfi_def_cfa_offset 16
 5691 0004 00AF     		add	r7, sp, #0
 5692              	.LCFI145:
 5693              		.cfi_def_cfa_register 7
 5694 0006 7860     		str	r0, [r7, #4]
2989:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2990:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(hspi);
2991:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2993:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2994:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****    */
2995:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5695              		.loc 1 2995 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 153


 5696 0008 00BF     		nop
 5697 000a 0C37     		adds	r7, r7, #12
 5698              	.LCFI146:
 5699              		.cfi_def_cfa_offset 4
 5700 000c BD46     		mov	sp, r7
 5701              	.LCFI147:
 5702              		.cfi_def_cfa_register 13
 5703              		@ sp needed
 5704 000e 5DF8047B 		ldr	r7, [sp], #4
 5705              	.LCFI148:
 5706              		.cfi_restore 7
 5707              		.cfi_def_cfa_offset 0
 5708 0012 7047     		bx	lr
 5709              		.cfi_endproc
 5710              	.LFE158:
 5712              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 5713              		.align	1
 5714              		.global	HAL_SPI_GetState
 5715              		.syntax unified
 5716              		.thumb
 5717              		.thumb_func
 5719              	HAL_SPI_GetState:
 5720              	.LFB159:
2996:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
2997:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
2998:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
2999:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3000:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3001:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
3002:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief   SPI control functions
3003:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *
3004:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @verbatim
3005:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  ===============================================================================
3006:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
3007:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****  ===============================================================================
3008:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     [..]
3009:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
3010:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
3011:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
3012:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** @endverbatim
3013:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
3014:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3015:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3016:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3017:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Return the SPI handle state.
3018:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3019:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3020:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval SPI state
3021:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3022:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
3023:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5721              		.loc 1 3023 1
 5722              		.cfi_startproc
 5723              		@ args = 0, pretend = 0, frame = 8
 5724              		@ frame_needed = 1, uses_anonymous_args = 0
 5725              		@ link register save eliminated.
 5726 0000 80B4     		push	{r7}
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 154


 5727              	.LCFI149:
 5728              		.cfi_def_cfa_offset 4
 5729              		.cfi_offset 7, -4
 5730 0002 83B0     		sub	sp, sp, #12
 5731              	.LCFI150:
 5732              		.cfi_def_cfa_offset 16
 5733 0004 00AF     		add	r7, sp, #0
 5734              	.LCFI151:
 5735              		.cfi_def_cfa_register 7
 5736 0006 7860     		str	r0, [r7, #4]
3024:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Return SPI handle state */
3025:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return hspi->State;
 5737              		.loc 1 3025 14
 5738 0008 7B68     		ldr	r3, [r7, #4]
 5739 000a 93F85D30 		ldrb	r3, [r3, #93]
 5740 000e DBB2     		uxtb	r3, r3
3026:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5741              		.loc 1 3026 1
 5742 0010 1846     		mov	r0, r3
 5743 0012 0C37     		adds	r7, r7, #12
 5744              	.LCFI152:
 5745              		.cfi_def_cfa_offset 4
 5746 0014 BD46     		mov	sp, r7
 5747              	.LCFI153:
 5748              		.cfi_def_cfa_register 13
 5749              		@ sp needed
 5750 0016 5DF8047B 		ldr	r7, [sp], #4
 5751              	.LCFI154:
 5752              		.cfi_restore 7
 5753              		.cfi_def_cfa_offset 0
 5754 001a 7047     		bx	lr
 5755              		.cfi_endproc
 5756              	.LFE159:
 5758              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 5759              		.align	1
 5760              		.global	HAL_SPI_GetError
 5761              		.syntax unified
 5762              		.thumb
 5763              		.thumb_func
 5765              	HAL_SPI_GetError:
 5766              	.LFB160:
3027:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3028:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3029:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Return the SPI error code.
3030:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3031:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3032:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval SPI error code in bitmap format
3033:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3034:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
3035:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5767              		.loc 1 3035 1
 5768              		.cfi_startproc
 5769              		@ args = 0, pretend = 0, frame = 8
 5770              		@ frame_needed = 1, uses_anonymous_args = 0
 5771              		@ link register save eliminated.
 5772 0000 80B4     		push	{r7}
 5773              	.LCFI155:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 155


 5774              		.cfi_def_cfa_offset 4
 5775              		.cfi_offset 7, -4
 5776 0002 83B0     		sub	sp, sp, #12
 5777              	.LCFI156:
 5778              		.cfi_def_cfa_offset 16
 5779 0004 00AF     		add	r7, sp, #0
 5780              	.LCFI157:
 5781              		.cfi_def_cfa_register 7
 5782 0006 7860     		str	r0, [r7, #4]
3036:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Return SPI ErrorCode */
3037:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return hspi->ErrorCode;
 5783              		.loc 1 3037 14
 5784 0008 7B68     		ldr	r3, [r7, #4]
 5785 000a 1B6E     		ldr	r3, [r3, #96]
3038:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5786              		.loc 1 3038 1
 5787 000c 1846     		mov	r0, r3
 5788 000e 0C37     		adds	r7, r7, #12
 5789              	.LCFI158:
 5790              		.cfi_def_cfa_offset 4
 5791 0010 BD46     		mov	sp, r7
 5792              	.LCFI159:
 5793              		.cfi_def_cfa_register 13
 5794              		@ sp needed
 5795 0012 5DF8047B 		ldr	r7, [sp], #4
 5796              	.LCFI160:
 5797              		.cfi_restore 7
 5798              		.cfi_def_cfa_offset 0
 5799 0016 7047     		bx	lr
 5800              		.cfi_endproc
 5801              	.LFE160:
 5803              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 5804              		.align	1
 5805              		.syntax unified
 5806              		.thumb
 5807              		.thumb_func
 5809              	SPI_DMATransmitCplt:
 5810              	.LFB161:
3039:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3040:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3041:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
3042:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3043:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3044:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3045:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @}
3046:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3047:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
3049:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief   Private functions
3050:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @{
3051:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3052:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3053:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3054:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
3055:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3056:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3057:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 156


3058:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3059:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
3060:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5811              		.loc 1 3060 1
 5812              		.cfi_startproc
 5813              		@ args = 0, pretend = 0, frame = 24
 5814              		@ frame_needed = 1, uses_anonymous_args = 0
 5815 0000 80B5     		push	{r7, lr}
 5816              	.LCFI161:
 5817              		.cfi_def_cfa_offset 8
 5818              		.cfi_offset 7, -8
 5819              		.cfi_offset 14, -4
 5820 0002 86B0     		sub	sp, sp, #24
 5821              	.LCFI162:
 5822              		.cfi_def_cfa_offset 32
 5823 0004 00AF     		add	r7, sp, #0
 5824              	.LCFI163:
 5825              		.cfi_def_cfa_register 7
 5826 0006 7860     		str	r0, [r7, #4]
3061:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5827              		.loc 1 3061 22
 5828 0008 7B68     		ldr	r3, [r7, #4]
 5829 000a 9B6A     		ldr	r3, [r3, #40]
 5830 000c 7B61     		str	r3, [r7, #20]
3062:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
3063:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3064:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3065:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 5831              		.loc 1 3065 15
 5832 000e FFF7FEFF 		bl	HAL_GetTick
 5833 0012 3861     		str	r0, [r7, #16]
3066:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3067:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DMA Normal Mode */
3068:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 5834              		.loc 1 3068 12
 5835 0014 7B68     		ldr	r3, [r7, #4]
 5836 0016 1B68     		ldr	r3, [r3]
 5837              		.loc 1 3068 22
 5838 0018 1B68     		ldr	r3, [r3]
 5839              		.loc 1 3068 28
 5840 001a 03F02003 		and	r3, r3, #32
 5841              		.loc 1 3068 6
 5842 001e 202B     		cmp	r3, #32
 5843 0020 3BD0     		beq	.L292
3069:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3070:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable ERR interrupt */
3071:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 5844              		.loc 1 3071 5
 5845 0022 7B69     		ldr	r3, [r7, #20]
 5846 0024 1B68     		ldr	r3, [r3]
 5847 0026 5A68     		ldr	r2, [r3, #4]
 5848 0028 7B69     		ldr	r3, [r7, #20]
 5849 002a 1B68     		ldr	r3, [r3]
 5850 002c 22F02002 		bic	r2, r2, #32
 5851 0030 5A60     		str	r2, [r3, #4]
3072:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3073:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable Tx DMA Request */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 157


3074:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 5852              		.loc 1 3074 5
 5853 0032 7B69     		ldr	r3, [r7, #20]
 5854 0034 1B68     		ldr	r3, [r3]
 5855 0036 5A68     		ldr	r2, [r3, #4]
 5856 0038 7B69     		ldr	r3, [r7, #20]
 5857 003a 1B68     		ldr	r3, [r3]
 5858 003c 22F00202 		bic	r2, r2, #2
 5859 0040 5A60     		str	r2, [r3, #4]
3075:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3076:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check the end of the transaction */
3077:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 5860              		.loc 1 3077 9
 5861 0042 3A69     		ldr	r2, [r7, #16]
 5862 0044 6421     		movs	r1, #100
 5863 0046 7869     		ldr	r0, [r7, #20]
 5864 0048 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5865 004c 0346     		mov	r3, r0
 5866              		.loc 1 3077 8 discriminator 1
 5867 004e 002B     		cmp	r3, #0
 5868 0050 05D0     		beq	.L293
3078:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3079:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 5869              		.loc 1 3079 7
 5870 0052 7B69     		ldr	r3, [r7, #20]
 5871 0054 1B6E     		ldr	r3, [r3, #96]
 5872 0056 43F02002 		orr	r2, r3, #32
 5873 005a 7B69     		ldr	r3, [r7, #20]
 5874 005c 1A66     		str	r2, [r3, #96]
 5875              	.L293:
3080:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3081:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3082:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
3083:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 5876              		.loc 1 3083 19
 5877 005e 7B69     		ldr	r3, [r7, #20]
 5878 0060 9B68     		ldr	r3, [r3, #8]
 5879              		.loc 1 3083 8
 5880 0062 002B     		cmp	r3, #0
 5881 0064 0AD1     		bne	.L294
 5882              	.LBB11:
3084:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3085:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5883              		.loc 1 3085 7
 5884 0066 0023     		movs	r3, #0
 5885 0068 FB60     		str	r3, [r7, #12]
 5886 006a 7B69     		ldr	r3, [r7, #20]
 5887 006c 1B68     		ldr	r3, [r3]
 5888 006e DB68     		ldr	r3, [r3, #12]
 5889 0070 FB60     		str	r3, [r7, #12]
 5890 0072 7B69     		ldr	r3, [r7, #20]
 5891 0074 1B68     		ldr	r3, [r3]
 5892 0076 9B68     		ldr	r3, [r3, #8]
 5893 0078 FB60     		str	r3, [r7, #12]
 5894 007a FB68     		ldr	r3, [r7, #12]
 5895              	.L294:
 5896              	.LBE11:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 158


3086:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3087:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3088:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 5897              		.loc 1 3088 23
 5898 007c 7B69     		ldr	r3, [r7, #20]
 5899 007e 0022     		movs	r2, #0
 5900 0080 DA87     		strh	r2, [r3, #62]	@ movhi
3089:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5901              		.loc 1 3089 17
 5902 0082 7B69     		ldr	r3, [r7, #20]
 5903 0084 0122     		movs	r2, #1
 5904 0086 83F85D20 		strb	r2, [r3, #93]
3090:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3091:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 5905              		.loc 1 3091 13
 5906 008a 7B69     		ldr	r3, [r7, #20]
 5907 008c 1B6E     		ldr	r3, [r3, #96]
 5908              		.loc 1 3091 8
 5909 008e 002B     		cmp	r3, #0
 5910 0090 03D0     		beq	.L292
3092:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3093:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
3094:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3095:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3096:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3097:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 5911              		.loc 1 3097 7
 5912 0092 7869     		ldr	r0, [r7, #20]
 5913 0094 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3098:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3099:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
 5914              		.loc 1 3099 7
 5915 0098 02E0     		b	.L291
 5916              	.L292:
3100:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3102:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Tx complete callback */
3103:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3104:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
3105:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3106:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
 5917              		.loc 1 3106 3
 5918 009a 7869     		ldr	r0, [r7, #20]
 5919 009c FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 5920              	.L291:
3107:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3108:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 5921              		.loc 1 3108 1
 5922 00a0 1837     		adds	r7, r7, #24
 5923              	.LCFI164:
 5924              		.cfi_def_cfa_offset 8
 5925 00a2 BD46     		mov	sp, r7
 5926              	.LCFI165:
 5927              		.cfi_def_cfa_register 13
 5928              		@ sp needed
 5929 00a4 80BD     		pop	{r7, pc}
 5930              		.cfi_endproc
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 159


 5931              	.LFE161:
 5933              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 5934              		.align	1
 5935              		.syntax unified
 5936              		.thumb
 5937              		.thumb_func
 5939              	SPI_DMAReceiveCplt:
 5940              	.LFB162:
3109:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3110:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3111:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
3112:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3113:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3114:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3115:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3116:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3117:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 5941              		.loc 1 3117 1
 5942              		.cfi_startproc
 5943              		@ args = 0, pretend = 0, frame = 16
 5944              		@ frame_needed = 1, uses_anonymous_args = 0
 5945 0000 80B5     		push	{r7, lr}
 5946              	.LCFI166:
 5947              		.cfi_def_cfa_offset 8
 5948              		.cfi_offset 7, -8
 5949              		.cfi_offset 14, -4
 5950 0002 84B0     		sub	sp, sp, #16
 5951              	.LCFI167:
 5952              		.cfi_def_cfa_offset 24
 5953 0004 00AF     		add	r7, sp, #0
 5954              	.LCFI168:
 5955              		.cfi_def_cfa_register 7
 5956 0006 7860     		str	r0, [r7, #4]
3118:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5957              		.loc 1 3118 22
 5958 0008 7B68     		ldr	r3, [r7, #4]
 5959 000a 9B6A     		ldr	r3, [r3, #40]
 5960 000c FB60     		str	r3, [r7, #12]
3119:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
3120:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3121:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3122:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3123:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3124:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3125:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3127:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 5961              		.loc 1 3127 15
 5962 000e FFF7FEFF 		bl	HAL_GetTick
 5963 0012 B860     		str	r0, [r7, #8]
3128:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3129:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DMA Normal Mode */
3130:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 5964              		.loc 1 3130 12
 5965 0014 7B68     		ldr	r3, [r7, #4]
 5966 0016 1B68     		ldr	r3, [r3]
 5967              		.loc 1 3130 22
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 160


 5968 0018 1B68     		ldr	r3, [r3]
 5969              		.loc 1 3130 28
 5970 001a 03F02003 		and	r3, r3, #32
 5971              		.loc 1 3130 6
 5972 001e 202B     		cmp	r3, #32
 5973 0020 3CD0     		beq	.L297
3131:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3132:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable ERR interrupt */
3133:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 5974              		.loc 1 3133 5
 5975 0022 FB68     		ldr	r3, [r7, #12]
 5976 0024 1B68     		ldr	r3, [r3]
 5977 0026 5A68     		ldr	r2, [r3, #4]
 5978 0028 FB68     		ldr	r3, [r7, #12]
 5979 002a 1B68     		ldr	r3, [r3]
 5980 002c 22F02002 		bic	r2, r2, #32
 5981 0030 5A60     		str	r2, [r3, #4]
3134:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3135:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* CRC handling */
3137:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3138:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3139:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Wait until RXNE flag */
3140:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
3141:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3142:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Error on the CRC reception */
3143:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3144:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
3145:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Read CRC */
3146:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
3147:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3148:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read 16bit CRC */
3149:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
3150:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
3151:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg);
3152:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
3153:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
3154:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3155:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Initialize the 8bit temporary pointer */
3156:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3157:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read 8bit CRC */
3158:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
3159:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
3160:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg8);
3161:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3162:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
3163:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
3164:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstar
3165:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           {
3166:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             /* Error on the CRC reception */
3167:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3168:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           }
3169:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
3170:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           tmpreg8 = *ptmpreg8;
3171:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* To avoid GCC warning */
3172:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           UNUSED(tmpreg8);
3173:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 161


3174:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
3175:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3176:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3177:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3178:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
3179:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 5982              		.loc 1 3179 20
 5983 0032 FB68     		ldr	r3, [r7, #12]
 5984 0034 9B68     		ldr	r3, [r3, #8]
 5985              		.loc 1 3179 8
 5986 0036 002B     		cmp	r3, #0
 5987 0038 0DD1     		bne	.L298
 5988              		.loc 1 3179 70 discriminator 1
 5989 003a FB68     		ldr	r3, [r7, #12]
 5990 003c 5B68     		ldr	r3, [r3, #4]
 5991              		.loc 1 3179 56 discriminator 1
 5992 003e B3F5827F 		cmp	r3, #260
 5993 0042 08D1     		bne	.L298
3180:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3181:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
3182:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 5994              		.loc 1 3182 7
 5995 0044 FB68     		ldr	r3, [r7, #12]
 5996 0046 1B68     		ldr	r3, [r3]
 5997 0048 5A68     		ldr	r2, [r3, #4]
 5998 004a FB68     		ldr	r3, [r7, #12]
 5999 004c 1B68     		ldr	r3, [r3]
 6000 004e 22F00302 		bic	r2, r2, #3
 6001 0052 5A60     		str	r2, [r3, #4]
 6002 0054 07E0     		b	.L299
 6003              	.L298:
3183:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3184:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
3185:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3186:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Normal case */
3187:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 6004              		.loc 1 3187 7
 6005 0056 FB68     		ldr	r3, [r7, #12]
 6006 0058 1B68     		ldr	r3, [r3]
 6007 005a 5A68     		ldr	r2, [r3, #4]
 6008 005c FB68     		ldr	r3, [r7, #12]
 6009 005e 1B68     		ldr	r3, [r3]
 6010 0060 22F00102 		bic	r2, r2, #1
 6011 0064 5A60     		str	r2, [r3, #4]
 6012              	.L299:
3188:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3189:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3190:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check the end of the transaction */
3191:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6013              		.loc 1 3191 9
 6014 0066 BA68     		ldr	r2, [r7, #8]
 6015 0068 6421     		movs	r1, #100
 6016 006a F868     		ldr	r0, [r7, #12]
 6017 006c FFF7FEFF 		bl	SPI_EndRxTransaction
 6018 0070 0346     		mov	r3, r0
 6019              		.loc 1 3191 8 discriminator 1
 6020 0072 002B     		cmp	r3, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 162


 6021 0074 02D0     		beq	.L300
3192:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3193:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 6022              		.loc 1 3193 23
 6023 0076 FB68     		ldr	r3, [r7, #12]
 6024 0078 2022     		movs	r2, #32
 6025 007a 1A66     		str	r2, [r3, #96]
 6026              	.L300:
3194:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3195:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3196:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6027              		.loc 1 3196 23
 6028 007c FB68     		ldr	r3, [r7, #12]
 6029 007e 0022     		movs	r2, #0
 6030 0080 A3F84620 		strh	r2, [r3, #70]	@ movhi
3197:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6031              		.loc 1 3197 17
 6032 0084 FB68     		ldr	r3, [r7, #12]
 6033 0086 0122     		movs	r2, #1
 6034 0088 83F85D20 		strb	r2, [r3, #93]
3198:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3199:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3200:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check if CRC error occurred */
3201:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
3202:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3203:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3204:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3205:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3206:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3207:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3208:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 6035              		.loc 1 3208 13
 6036 008c FB68     		ldr	r3, [r7, #12]
 6037 008e 1B6E     		ldr	r3, [r3, #96]
 6038              		.loc 1 3208 8
 6039 0090 002B     		cmp	r3, #0
 6040 0092 03D0     		beq	.L297
3209:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3210:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
3211:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3212:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3213:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3214:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 6041              		.loc 1 3214 7
 6042 0094 F868     		ldr	r0, [r7, #12]
 6043 0096 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3215:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3216:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
 6044              		.loc 1 3216 7
 6045 009a 02E0     		b	.L296
 6046              	.L297:
3217:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3218:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3219:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Rx complete callback */
3220:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3221:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
3222:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 163


3223:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
 6047              		.loc 1 3223 3
 6048 009c F868     		ldr	r0, [r7, #12]
 6049 009e FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 6050              	.L296:
3224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3225:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6051              		.loc 1 3225 1
 6052 00a2 1037     		adds	r7, r7, #16
 6053              	.LCFI169:
 6054              		.cfi_def_cfa_offset 8
 6055 00a4 BD46     		mov	sp, r7
 6056              	.LCFI170:
 6057              		.cfi_def_cfa_register 13
 6058              		@ sp needed
 6059 00a6 80BD     		pop	{r7, pc}
 6060              		.cfi_endproc
 6061              	.LFE162:
 6063              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 6064              		.align	1
 6065              		.syntax unified
 6066              		.thumb
 6067              		.thumb_func
 6069              	SPI_DMATransmitReceiveCplt:
 6070              	.LFB163:
3226:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3227:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3228:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
3229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3230:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3231:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3232:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3233:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3234:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6071              		.loc 1 3234 1
 6072              		.cfi_startproc
 6073              		@ args = 0, pretend = 0, frame = 16
 6074              		@ frame_needed = 1, uses_anonymous_args = 0
 6075 0000 80B5     		push	{r7, lr}
 6076              	.LCFI171:
 6077              		.cfi_def_cfa_offset 8
 6078              		.cfi_offset 7, -8
 6079              		.cfi_offset 14, -4
 6080 0002 84B0     		sub	sp, sp, #16
 6081              	.LCFI172:
 6082              		.cfi_def_cfa_offset 24
 6083 0004 00AF     		add	r7, sp, #0
 6084              	.LCFI173:
 6085              		.cfi_def_cfa_register 7
 6086 0006 7860     		str	r0, [r7, #4]
3235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6087              		.loc 1 3235 22
 6088 0008 7B68     		ldr	r3, [r7, #4]
 6089 000a 9B6A     		ldr	r3, [r3, #40]
 6090 000c FB60     		str	r3, [r7, #12]
3236:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
3237:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 164


3238:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3239:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3241:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3242:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3243:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3244:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6091              		.loc 1 3244 15
 6092 000e FFF7FEFF 		bl	HAL_GetTick
 6093 0012 B860     		str	r0, [r7, #8]
3245:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3246:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* DMA Normal Mode */
3247:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 6094              		.loc 1 3247 12
 6095 0014 7B68     		ldr	r3, [r7, #4]
 6096 0016 1B68     		ldr	r3, [r3]
 6097              		.loc 1 3247 22
 6098 0018 1B68     		ldr	r3, [r3]
 6099              		.loc 1 3247 28
 6100 001a 03F02003 		and	r3, r3, #32
 6101              		.loc 1 3247 6
 6102 001e 202B     		cmp	r3, #32
 6103 0020 30D0     		beq	.L303
3248:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3249:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable ERR interrupt */
3250:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 6104              		.loc 1 3250 5
 6105 0022 FB68     		ldr	r3, [r7, #12]
 6106 0024 1B68     		ldr	r3, [r3]
 6107 0026 5A68     		ldr	r2, [r3, #4]
 6108 0028 FB68     		ldr	r3, [r7, #12]
 6109 002a 1B68     		ldr	r3, [r3]
 6110 002c 22F02002 		bic	r2, r2, #32
 6111 0030 5A60     		str	r2, [r3, #4]
3251:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3252:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3253:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* CRC handling */
3254:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3255:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3256:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_8BI
3257:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3258:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_QUARTER_FULL, SPI_DEFAULT
3259:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                           tickstart) != HAL_OK)
3260:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
3261:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Error on the CRC reception */
3262:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3263:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
3264:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Initialize the 8bit temporary pointer */
3265:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3266:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read 8bit CRC */
3267:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
3268:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
3269:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg8);
3270:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
3271:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
3272:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3273:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_HALF_FULL, SPI_DEFAULT_TI
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 165


3274:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
3275:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Error on the CRC reception */
3276:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3277:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
3278:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Read CRC to Flush DR and RXNE flag */
3279:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
3280:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* To avoid GCC warning */
3281:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         UNUSED(tmpreg);
3282:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
3283:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3284:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3285:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3286:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check the end of the transaction */
3287:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6112              		.loc 1 3287 9
 6113 0032 BA68     		ldr	r2, [r7, #8]
 6114 0034 6421     		movs	r1, #100
 6115 0036 F868     		ldr	r0, [r7, #12]
 6116 0038 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6117 003c 0346     		mov	r3, r0
 6118              		.loc 1 3287 8 discriminator 1
 6119 003e 002B     		cmp	r3, #0
 6120 0040 05D0     		beq	.L304
3288:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3289:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6121              		.loc 1 3289 7
 6122 0042 FB68     		ldr	r3, [r7, #12]
 6123 0044 1B6E     		ldr	r3, [r3, #96]
 6124 0046 43F02002 		orr	r2, r3, #32
 6125 004a FB68     		ldr	r3, [r7, #12]
 6126 004c 1A66     		str	r2, [r3, #96]
 6127              	.L304:
3290:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3291:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3292:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
3293:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 6128              		.loc 1 3293 5
 6129 004e FB68     		ldr	r3, [r7, #12]
 6130 0050 1B68     		ldr	r3, [r3]
 6131 0052 5A68     		ldr	r2, [r3, #4]
 6132 0054 FB68     		ldr	r3, [r7, #12]
 6133 0056 1B68     		ldr	r3, [r3]
 6134 0058 22F00302 		bic	r2, r2, #3
 6135 005c 5A60     		str	r2, [r3, #4]
3294:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3295:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6136              		.loc 1 3295 23
 6137 005e FB68     		ldr	r3, [r7, #12]
 6138 0060 0022     		movs	r2, #0
 6139 0062 DA87     		strh	r2, [r3, #62]	@ movhi
3296:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6140              		.loc 1 3296 23
 6141 0064 FB68     		ldr	r3, [r7, #12]
 6142 0066 0022     		movs	r2, #0
 6143 0068 A3F84620 		strh	r2, [r3, #70]	@ movhi
3297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6144              		.loc 1 3297 17
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 166


 6145 006c FB68     		ldr	r3, [r7, #12]
 6146 006e 0122     		movs	r2, #1
 6147 0070 83F85D20 		strb	r2, [r3, #93]
3298:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3299:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3300:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check if CRC error occurred */
3301:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
3302:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3304:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3305:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3306:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3307:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3308:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 6148              		.loc 1 3308 13
 6149 0074 FB68     		ldr	r3, [r7, #12]
 6150 0076 1B6E     		ldr	r3, [r3, #96]
 6151              		.loc 1 3308 8
 6152 0078 002B     		cmp	r3, #0
 6153 007a 03D0     		beq	.L303
3309:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3310:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
3311:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3312:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3313:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3314:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 6154              		.loc 1 3314 7
 6155 007c F868     		ldr	r0, [r7, #12]
 6156 007e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3315:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3316:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
 6157              		.loc 1 3316 7
 6158 0082 02E0     		b	.L302
 6159              	.L303:
3317:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3318:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3319:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user TxRx complete callback */
3320:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3321:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
3322:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3323:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
 6160              		.loc 1 3323 3
 6161 0084 F868     		ldr	r0, [r7, #12]
 6162 0086 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 6163              	.L302:
3324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3325:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6164              		.loc 1 3325 1
 6165 008a 1037     		adds	r7, r7, #16
 6166              	.LCFI174:
 6167              		.cfi_def_cfa_offset 8
 6168 008c BD46     		mov	sp, r7
 6169              	.LCFI175:
 6170              		.cfi_def_cfa_register 13
 6171              		@ sp needed
 6172 008e 80BD     		pop	{r7, pc}
 6173              		.cfi_endproc
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 167


 6174              	.LFE163:
 6176              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 6177              		.align	1
 6178              		.syntax unified
 6179              		.thumb
 6180              		.thumb_func
 6182              	SPI_DMAHalfTransmitCplt:
 6183              	.LFB164:
3326:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3327:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3328:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
3329:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3330:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3331:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3332:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3333:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
3334:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6184              		.loc 1 3334 1
 6185              		.cfi_startproc
 6186              		@ args = 0, pretend = 0, frame = 16
 6187              		@ frame_needed = 1, uses_anonymous_args = 0
 6188 0000 80B5     		push	{r7, lr}
 6189              	.LCFI176:
 6190              		.cfi_def_cfa_offset 8
 6191              		.cfi_offset 7, -8
 6192              		.cfi_offset 14, -4
 6193 0002 84B0     		sub	sp, sp, #16
 6194              	.LCFI177:
 6195              		.cfi_def_cfa_offset 24
 6196 0004 00AF     		add	r7, sp, #0
 6197              	.LCFI178:
 6198              		.cfi_def_cfa_register 7
 6199 0006 7860     		str	r0, [r7, #4]
3335:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6200              		.loc 1 3335 22
 6201 0008 7B68     		ldr	r3, [r7, #4]
 6202 000a 9B6A     		ldr	r3, [r3, #40]
 6203 000c FB60     		str	r3, [r7, #12]
3336:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3337:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Tx half complete callback */
3338:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3339:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
3340:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3341:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
 6204              		.loc 1 3341 3
 6205 000e F868     		ldr	r0, [r7, #12]
 6206 0010 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
3342:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3343:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6207              		.loc 1 3343 1
 6208 0014 00BF     		nop
 6209 0016 1037     		adds	r7, r7, #16
 6210              	.LCFI179:
 6211              		.cfi_def_cfa_offset 8
 6212 0018 BD46     		mov	sp, r7
 6213              	.LCFI180:
 6214              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 168


 6215              		@ sp needed
 6216 001a 80BD     		pop	{r7, pc}
 6217              		.cfi_endproc
 6218              	.LFE164:
 6220              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 6221              		.align	1
 6222              		.syntax unified
 6223              		.thumb
 6224              		.thumb_func
 6226              	SPI_DMAHalfReceiveCplt:
 6227              	.LFB165:
3344:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3345:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3346:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
3347:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3348:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3350:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3351:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
3352:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6228              		.loc 1 3352 1
 6229              		.cfi_startproc
 6230              		@ args = 0, pretend = 0, frame = 16
 6231              		@ frame_needed = 1, uses_anonymous_args = 0
 6232 0000 80B5     		push	{r7, lr}
 6233              	.LCFI181:
 6234              		.cfi_def_cfa_offset 8
 6235              		.cfi_offset 7, -8
 6236              		.cfi_offset 14, -4
 6237 0002 84B0     		sub	sp, sp, #16
 6238              	.LCFI182:
 6239              		.cfi_def_cfa_offset 24
 6240 0004 00AF     		add	r7, sp, #0
 6241              	.LCFI183:
 6242              		.cfi_def_cfa_register 7
 6243 0006 7860     		str	r0, [r7, #4]
3353:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6244              		.loc 1 3353 22
 6245 0008 7B68     		ldr	r3, [r7, #4]
 6246 000a 9B6A     		ldr	r3, [r3, #40]
 6247 000c FB60     		str	r3, [r7, #12]
3354:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3355:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Rx half complete callback */
3356:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3357:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
3358:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3359:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
 6248              		.loc 1 3359 3
 6249 000e F868     		ldr	r0, [r7, #12]
 6250 0010 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
3360:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3361:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6251              		.loc 1 3361 1
 6252 0014 00BF     		nop
 6253 0016 1037     		adds	r7, r7, #16
 6254              	.LCFI184:
 6255              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 169


 6256 0018 BD46     		mov	sp, r7
 6257              	.LCFI185:
 6258              		.cfi_def_cfa_register 13
 6259              		@ sp needed
 6260 001a 80BD     		pop	{r7, pc}
 6261              		.cfi_endproc
 6262              	.LFE165:
 6264              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 6265              		.align	1
 6266              		.syntax unified
 6267              		.thumb
 6268              		.thumb_func
 6270              	SPI_DMAHalfTransmitReceiveCplt:
 6271              	.LFB166:
3362:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3363:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3364:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
3365:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3366:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3367:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3368:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3369:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3370:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6272              		.loc 1 3370 1
 6273              		.cfi_startproc
 6274              		@ args = 0, pretend = 0, frame = 16
 6275              		@ frame_needed = 1, uses_anonymous_args = 0
 6276 0000 80B5     		push	{r7, lr}
 6277              	.LCFI186:
 6278              		.cfi_def_cfa_offset 8
 6279              		.cfi_offset 7, -8
 6280              		.cfi_offset 14, -4
 6281 0002 84B0     		sub	sp, sp, #16
 6282              	.LCFI187:
 6283              		.cfi_def_cfa_offset 24
 6284 0004 00AF     		add	r7, sp, #0
 6285              	.LCFI188:
 6286              		.cfi_def_cfa_register 7
 6287 0006 7860     		str	r0, [r7, #4]
3371:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6288              		.loc 1 3371 22
 6289 0008 7B68     		ldr	r3, [r7, #4]
 6290 000a 9B6A     		ldr	r3, [r3, #40]
 6291 000c FB60     		str	r3, [r7, #12]
3372:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3373:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user TxRx half complete callback */
3374:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3375:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
3376:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
 6292              		.loc 1 3377 3
 6293 000e F868     		ldr	r0, [r7, #12]
 6294 0010 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
3378:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3379:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6295              		.loc 1 3379 1
 6296 0014 00BF     		nop
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 170


 6297 0016 1037     		adds	r7, r7, #16
 6298              	.LCFI189:
 6299              		.cfi_def_cfa_offset 8
 6300 0018 BD46     		mov	sp, r7
 6301              	.LCFI190:
 6302              		.cfi_def_cfa_register 13
 6303              		@ sp needed
 6304 001a 80BD     		pop	{r7, pc}
 6305              		.cfi_endproc
 6306              	.LFE166:
 6308              		.section	.text.SPI_DMAError,"ax",%progbits
 6309              		.align	1
 6310              		.syntax unified
 6311              		.thumb
 6312              		.thumb_func
 6314              	SPI_DMAError:
 6315              	.LFB167:
3380:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3381:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3382:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
3383:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3384:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3385:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3386:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3387:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
3388:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6316              		.loc 1 3388 1
 6317              		.cfi_startproc
 6318              		@ args = 0, pretend = 0, frame = 16
 6319              		@ frame_needed = 1, uses_anonymous_args = 0
 6320 0000 80B5     		push	{r7, lr}
 6321              	.LCFI191:
 6322              		.cfi_def_cfa_offset 8
 6323              		.cfi_offset 7, -8
 6324              		.cfi_offset 14, -4
 6325 0002 84B0     		sub	sp, sp, #16
 6326              	.LCFI192:
 6327              		.cfi_def_cfa_offset 24
 6328 0004 00AF     		add	r7, sp, #0
 6329              	.LCFI193:
 6330              		.cfi_def_cfa_register 7
 6331 0006 7860     		str	r0, [r7, #4]
3389:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6332              		.loc 1 3389 22
 6333 0008 7B68     		ldr	r3, [r7, #4]
 6334 000a 9B6A     		ldr	r3, [r3, #40]
 6335 000c FB60     		str	r3, [r7, #12]
3390:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3391:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
3392:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 6336              		.loc 1 3392 3
 6337 000e FB68     		ldr	r3, [r7, #12]
 6338 0010 1B68     		ldr	r3, [r3]
 6339 0012 5A68     		ldr	r2, [r3, #4]
 6340 0014 FB68     		ldr	r3, [r7, #12]
 6341 0016 1B68     		ldr	r3, [r3]
 6342 0018 22F00302 		bic	r2, r2, #3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 171


 6343 001c 5A60     		str	r2, [r3, #4]
3393:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3394:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 6344              		.loc 1 3394 3
 6345 001e FB68     		ldr	r3, [r7, #12]
 6346 0020 1B6E     		ldr	r3, [r3, #96]
 6347 0022 43F01002 		orr	r2, r3, #16
 6348 0026 FB68     		ldr	r3, [r7, #12]
 6349 0028 1A66     		str	r2, [r3, #96]
3395:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 6350              		.loc 1 3395 15
 6351 002a FB68     		ldr	r3, [r7, #12]
 6352 002c 0122     		movs	r2, #1
 6353 002e 83F85D20 		strb	r2, [r3, #93]
3396:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user error callback */
3397:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3398:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3399:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3400:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 6354              		.loc 1 3400 3
 6355 0032 F868     		ldr	r0, [r7, #12]
 6356 0034 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3401:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3402:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6357              		.loc 1 3402 1
 6358 0038 00BF     		nop
 6359 003a 1037     		adds	r7, r7, #16
 6360              	.LCFI194:
 6361              		.cfi_def_cfa_offset 8
 6362 003c BD46     		mov	sp, r7
 6363              	.LCFI195:
 6364              		.cfi_def_cfa_register 13
 6365              		@ sp needed
 6366 003e 80BD     		pop	{r7, pc}
 6367              		.cfi_endproc
 6368              	.LFE167:
 6370              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 6371              		.align	1
 6372              		.syntax unified
 6373              		.thumb
 6374              		.thumb_func
 6376              	SPI_DMAAbortOnError:
 6377              	.LFB168:
3403:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3404:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3405:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
3406:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
3407:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma DMA handle.
3408:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3409:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3410:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
3411:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6378              		.loc 1 3411 1
 6379              		.cfi_startproc
 6380              		@ args = 0, pretend = 0, frame = 16
 6381              		@ frame_needed = 1, uses_anonymous_args = 0
 6382 0000 80B5     		push	{r7, lr}
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 172


 6383              	.LCFI196:
 6384              		.cfi_def_cfa_offset 8
 6385              		.cfi_offset 7, -8
 6386              		.cfi_offset 14, -4
 6387 0002 84B0     		sub	sp, sp, #16
 6388              	.LCFI197:
 6389              		.cfi_def_cfa_offset 24
 6390 0004 00AF     		add	r7, sp, #0
 6391              	.LCFI198:
 6392              		.cfi_def_cfa_register 7
 6393 0006 7860     		str	r0, [r7, #4]
3412:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6394              		.loc 1 3412 22
 6395 0008 7B68     		ldr	r3, [r7, #4]
 6396 000a 9B6A     		ldr	r3, [r3, #40]
 6397 000c FB60     		str	r3, [r7, #12]
3413:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 6398              		.loc 1 3413 21
 6399 000e FB68     		ldr	r3, [r7, #12]
 6400 0010 0022     		movs	r2, #0
 6401 0012 A3F84620 		strh	r2, [r3, #70]	@ movhi
3414:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6402              		.loc 1 3414 21
 6403 0016 FB68     		ldr	r3, [r7, #12]
 6404 0018 0022     		movs	r2, #0
 6405 001a DA87     		strh	r2, [r3, #62]	@ movhi
3415:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3416:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user error callback */
3417:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3418:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3419:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3420:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 6406              		.loc 1 3420 3
 6407 001c F868     		ldr	r0, [r7, #12]
 6408 001e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3421:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3422:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6409              		.loc 1 3422 1
 6410 0022 00BF     		nop
 6411 0024 1037     		adds	r7, r7, #16
 6412              	.LCFI199:
 6413              		.cfi_def_cfa_offset 8
 6414 0026 BD46     		mov	sp, r7
 6415              	.LCFI200:
 6416              		.cfi_def_cfa_register 13
 6417              		@ sp needed
 6418 0028 80BD     		pop	{r7, pc}
 6419              		.cfi_endproc
 6420              	.LFE168:
 6422              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 6423              		.align	1
 6424              		.syntax unified
 6425              		.thumb
 6426              		.thumb_func
 6428              	SPI_DMATxAbortCallback:
 6429              	.LFB169:
3423:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 173


3424:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3425:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
3426:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
3427:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3428:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
3429:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma DMA handle.
3430:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3431:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3432:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
3433:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6430              		.loc 1 3433 1
 6431              		.cfi_startproc
 6432              		@ args = 0, pretend = 0, frame = 24
 6433              		@ frame_needed = 1, uses_anonymous_args = 0
 6434 0000 80B5     		push	{r7, lr}
 6435              	.LCFI201:
 6436              		.cfi_def_cfa_offset 8
 6437              		.cfi_offset 7, -8
 6438              		.cfi_offset 14, -4
 6439 0002 88B0     		sub	sp, sp, #32
 6440              	.LCFI202:
 6441              		.cfi_def_cfa_offset 40
 6442 0004 02AF     		add	r7, sp, #8
 6443              	.LCFI203:
 6444              		.cfi_def_cfa 7, 32
 6445 0006 7860     		str	r0, [r7, #4]
3434:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6446              		.loc 1 3434 22
 6447 0008 7B68     		ldr	r3, [r7, #4]
 6448 000a 9B6A     		ldr	r3, [r3, #40]
 6449 000c 7B61     		str	r3, [r7, #20]
3435:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3436:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 6450              		.loc 1 3436 7
 6451 000e 7B69     		ldr	r3, [r7, #20]
 6452 0010 5B6D     		ldr	r3, [r3, #84]
 6453              		.loc 1 3436 35
 6454 0012 0022     		movs	r2, #0
 6455 0014 9A63     		str	r2, [r3, #56]
3437:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3438:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable Tx DMA Request */
3439:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 6456              		.loc 1 3439 3
 6457 0016 7B69     		ldr	r3, [r7, #20]
 6458 0018 1B68     		ldr	r3, [r3]
 6459 001a 5A68     		ldr	r2, [r3, #4]
 6460 001c 7B69     		ldr	r3, [r7, #20]
 6461 001e 1B68     		ldr	r3, [r3]
 6462 0020 22F00202 		bic	r2, r2, #2
 6463 0024 5A60     		str	r2, [r3, #4]
3440:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3441:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 6464              		.loc 1 3441 7
 6465 0026 FFF7FEFF 		bl	HAL_GetTick
 6466 002a 0346     		mov	r3, r0
 6467              		.loc 1 3441 7 is_stmt 0 discriminator 1
 6468 002c 1A46     		mov	r2, r3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 174


 6469 002e 6421     		movs	r1, #100
 6470 0030 7869     		ldr	r0, [r7, #20]
 6471 0032 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6472 0036 0346     		mov	r3, r0
 6473              		.loc 1 3441 6 is_stmt 1 discriminator 2
 6474 0038 002B     		cmp	r3, #0
 6475 003a 02D0     		beq	.L312
3442:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3443:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6476              		.loc 1 3443 21
 6477 003c 7B69     		ldr	r3, [r7, #20]
 6478 003e 4022     		movs	r2, #64
 6479 0040 1A66     		str	r2, [r3, #96]
 6480              	.L312:
3444:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3445:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3446:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3447:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 6481              		.loc 1 3447 3
 6482 0042 7B69     		ldr	r3, [r7, #20]
 6483 0044 1B68     		ldr	r3, [r3]
 6484 0046 1A68     		ldr	r2, [r3]
 6485 0048 7B69     		ldr	r3, [r7, #20]
 6486 004a 1B68     		ldr	r3, [r3]
 6487 004c 22F04002 		bic	r2, r2, #64
 6488 0050 1A60     		str	r2, [r3]
3448:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3449:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 6489              		.loc 1 3450 7
 6490 0052 FFF7FEFF 		bl	HAL_GetTick
 6491 0056 0346     		mov	r3, r0
 6492              		.loc 1 3450 7 is_stmt 0 discriminator 1
 6493 0058 0093     		str	r3, [sp]
 6494 005a 6423     		movs	r3, #100
 6495 005c 0022     		movs	r2, #0
 6496 005e 4FF4C061 		mov	r1, #1536
 6497 0062 7869     		ldr	r0, [r7, #20]
 6498 0064 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 6499 0068 0346     		mov	r3, r0
 6500              		.loc 1 3450 6 is_stmt 1 discriminator 2
 6501 006a 002B     		cmp	r3, #0
 6502 006c 02D0     		beq	.L313
3451:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3452:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6503              		.loc 1 3452 21
 6504 006e 7B69     		ldr	r3, [r7, #20]
 6505 0070 4022     		movs	r2, #64
 6506 0072 1A66     		str	r2, [r3, #96]
 6507              	.L313:
3453:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3454:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3455:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3456:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 6508              		.loc 1 3456 11
 6509 0074 7B69     		ldr	r3, [r7, #20]
 6510 0076 9B6D     		ldr	r3, [r3, #88]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 175


 6511              		.loc 1 3456 6
 6512 0078 002B     		cmp	r3, #0
 6513 007a 04D0     		beq	.L314
3457:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3458:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
 6514              		.loc 1 3458 13
 6515 007c 7B69     		ldr	r3, [r7, #20]
 6516 007e 9B6D     		ldr	r3, [r3, #88]
 6517              		.loc 1 3458 21
 6518 0080 9B6B     		ldr	r3, [r3, #56]
 6519              		.loc 1 3458 8
 6520 0082 002B     		cmp	r3, #0
 6521 0084 27D1     		bne	.L317
 6522              	.L314:
3459:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3461:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3462:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3463:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3464:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3465:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 6523              		.loc 1 3465 21
 6524 0086 7B69     		ldr	r3, [r7, #20]
 6525 0088 0022     		movs	r2, #0
 6526 008a A3F84620 		strh	r2, [r3, #70]	@ movhi
3466:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6527              		.loc 1 3466 21
 6528 008e 7B69     		ldr	r3, [r7, #20]
 6529 0090 0022     		movs	r2, #0
 6530 0092 DA87     		strh	r2, [r3, #62]	@ movhi
3467:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3468:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3469:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
 6531              		.loc 1 3469 11
 6532 0094 7B69     		ldr	r3, [r7, #20]
 6533 0096 1B6E     		ldr	r3, [r3, #96]
 6534              		.loc 1 3469 6
 6535 0098 402B     		cmp	r3, #64
 6536 009a 02D0     		beq	.L316
3470:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3471:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset errorCode */
3472:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 6537              		.loc 1 3472 21
 6538 009c 7B69     		ldr	r3, [r7, #20]
 6539 009e 0022     		movs	r2, #0
 6540 00a0 1A66     		str	r2, [r3, #96]
 6541              	.L316:
 6542              	.LBB12:
3473:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3474:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3475:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3476:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6543              		.loc 1 3476 3
 6544 00a2 0023     		movs	r3, #0
 6545 00a4 3B61     		str	r3, [r7, #16]
 6546 00a6 7B69     		ldr	r3, [r7, #20]
 6547 00a8 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 176


 6548 00aa DB68     		ldr	r3, [r3, #12]
 6549 00ac 3B61     		str	r3, [r7, #16]
 6550 00ae 7B69     		ldr	r3, [r7, #20]
 6551 00b0 1B68     		ldr	r3, [r3]
 6552 00b2 9B68     		ldr	r3, [r3, #8]
 6553 00b4 3B61     		str	r3, [r7, #16]
 6554 00b6 3B69     		ldr	r3, [r7, #16]
 6555              	.LBE12:
 6556              	.LBB13:
3477:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 6557              		.loc 1 3477 3
 6558 00b8 0023     		movs	r3, #0
 6559 00ba FB60     		str	r3, [r7, #12]
 6560 00bc 7B69     		ldr	r3, [r7, #20]
 6561 00be 1B68     		ldr	r3, [r3]
 6562 00c0 9B68     		ldr	r3, [r3, #8]
 6563 00c2 FB60     		str	r3, [r7, #12]
 6564 00c4 FB68     		ldr	r3, [r7, #12]
 6565              	.LBE13:
3478:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3479:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3480:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 6566              		.loc 1 3480 16
 6567 00c6 7B69     		ldr	r3, [r7, #20]
 6568 00c8 0122     		movs	r2, #1
 6569 00ca 83F85D20 		strb	r2, [r3, #93]
3481:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3482:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Abort complete callback */
3483:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3484:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3485:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3486:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 6570              		.loc 1 3486 3
 6571 00ce 7869     		ldr	r0, [r7, #20]
 6572 00d0 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6573 00d4 00E0     		b	.L311
 6574              	.L317:
3460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 6575              		.loc 1 3460 7
 6576 00d6 00BF     		nop
 6577              	.L311:
3487:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3488:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6578              		.loc 1 3488 1
 6579 00d8 1837     		adds	r7, r7, #24
 6580              	.LCFI204:
 6581              		.cfi_def_cfa_offset 8
 6582 00da BD46     		mov	sp, r7
 6583              	.LCFI205:
 6584              		.cfi_def_cfa_register 13
 6585              		@ sp needed
 6586 00dc 80BD     		pop	{r7, pc}
 6587              		.cfi_endproc
 6588              	.LFE169:
 6590              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 6591              		.align	1
 6592              		.syntax unified
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 177


 6593              		.thumb
 6594              		.thumb_func
 6596              	SPI_DMARxAbortCallback:
 6597              	.LFB170:
3489:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3490:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3491:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3492:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3493:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3494:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3495:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hdma DMA handle.
3496:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3497:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3498:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3499:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6598              		.loc 1 3499 1
 6599              		.cfi_startproc
 6600              		@ args = 0, pretend = 0, frame = 24
 6601              		@ frame_needed = 1, uses_anonymous_args = 0
 6602 0000 80B5     		push	{r7, lr}
 6603              	.LCFI206:
 6604              		.cfi_def_cfa_offset 8
 6605              		.cfi_offset 7, -8
 6606              		.cfi_offset 14, -4
 6607 0002 88B0     		sub	sp, sp, #32
 6608              	.LCFI207:
 6609              		.cfi_def_cfa_offset 40
 6610 0004 02AF     		add	r7, sp, #8
 6611              	.LCFI208:
 6612              		.cfi_def_cfa 7, 32
 6613 0006 7860     		str	r0, [r7, #4]
3500:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 6614              		.loc 1 3500 22
 6615 0008 7B68     		ldr	r3, [r7, #4]
 6616 000a 9B6A     		ldr	r3, [r3, #40]
 6617 000c 7B61     		str	r3, [r7, #20]
3501:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3502:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3503:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 6618              		.loc 1 3503 3
 6619 000e 7B69     		ldr	r3, [r7, #20]
 6620 0010 1B68     		ldr	r3, [r3]
 6621 0012 1A68     		ldr	r2, [r3]
 6622 0014 7B69     		ldr	r3, [r7, #20]
 6623 0016 1B68     		ldr	r3, [r3]
 6624 0018 22F04002 		bic	r2, r2, #64
 6625 001c 1A60     		str	r2, [r3]
3504:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3505:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 6626              		.loc 1 3505 7
 6627 001e 7B69     		ldr	r3, [r7, #20]
 6628 0020 9B6D     		ldr	r3, [r3, #88]
 6629              		.loc 1 3505 35
 6630 0022 0022     		movs	r2, #0
 6631 0024 9A63     		str	r2, [r3, #56]
3506:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3507:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable Rx DMA Request */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 178


3508:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 6632              		.loc 1 3508 3
 6633 0026 7B69     		ldr	r3, [r7, #20]
 6634 0028 1B68     		ldr	r3, [r3]
 6635 002a 5A68     		ldr	r2, [r3, #4]
 6636 002c 7B69     		ldr	r3, [r7, #20]
 6637 002e 1B68     		ldr	r3, [r3]
 6638 0030 22F00102 		bic	r2, r2, #1
 6639 0034 5A60     		str	r2, [r3, #4]
3509:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3510:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control the BSY flag */
3511:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
 6640              		.loc 1 3511 7
 6641 0036 FFF7FEFF 		bl	HAL_GetTick
 6642 003a 0346     		mov	r3, r0
 6643              		.loc 1 3511 7 is_stmt 0 discriminator 1
 6644 003c 0093     		str	r3, [sp]
 6645 003e 6423     		movs	r3, #100
 6646 0040 0022     		movs	r2, #0
 6647 0042 8021     		movs	r1, #128
 6648 0044 7869     		ldr	r0, [r7, #20]
 6649 0046 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6650 004a 0346     		mov	r3, r0
 6651              		.loc 1 3511 6 is_stmt 1 discriminator 2
 6652 004c 002B     		cmp	r3, #0
 6653 004e 02D0     		beq	.L319
3512:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3513:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6654              		.loc 1 3513 21
 6655 0050 7B69     		ldr	r3, [r7, #20]
 6656 0052 4022     		movs	r2, #64
 6657 0054 1A66     		str	r2, [r3, #96]
 6658              	.L319:
3514:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3515:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3516:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3517:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 6659              		.loc 1 3517 7
 6660 0056 FFF7FEFF 		bl	HAL_GetTick
 6661 005a 0346     		mov	r3, r0
 6662              		.loc 1 3517 7 is_stmt 0 discriminator 1
 6663 005c 0093     		str	r3, [sp]
 6664 005e 6423     		movs	r3, #100
 6665 0060 0022     		movs	r2, #0
 6666 0062 4FF4C061 		mov	r1, #1536
 6667 0066 7869     		ldr	r0, [r7, #20]
 6668 0068 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 6669 006c 0346     		mov	r3, r0
 6670              		.loc 1 3517 6 is_stmt 1 discriminator 2
 6671 006e 002B     		cmp	r3, #0
 6672 0070 02D0     		beq	.L320
3518:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3519:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 6673              		.loc 1 3519 21
 6674 0072 7B69     		ldr	r3, [r7, #20]
 6675 0074 4022     		movs	r2, #64
 6676 0076 1A66     		str	r2, [r3, #96]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 179


 6677              	.L320:
3520:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3521:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3522:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3523:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 6678              		.loc 1 3523 11
 6679 0078 7B69     		ldr	r3, [r7, #20]
 6680 007a 5B6D     		ldr	r3, [r3, #84]
 6681              		.loc 1 3523 6
 6682 007c 002B     		cmp	r3, #0
 6683 007e 04D0     		beq	.L321
3524:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3525:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
 6684              		.loc 1 3525 13
 6685 0080 7B69     		ldr	r3, [r7, #20]
 6686 0082 5B6D     		ldr	r3, [r3, #84]
 6687              		.loc 1 3525 21
 6688 0084 9B6B     		ldr	r3, [r3, #56]
 6689              		.loc 1 3525 8
 6690 0086 002B     		cmp	r3, #0
 6691 0088 27D1     		bne	.L324
 6692              	.L321:
3526:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3527:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3528:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3529:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3530:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3531:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3532:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 6693              		.loc 1 3532 21
 6694 008a 7B69     		ldr	r3, [r7, #20]
 6695 008c 0022     		movs	r2, #0
 6696 008e A3F84620 		strh	r2, [r3, #70]	@ movhi
3533:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 6697              		.loc 1 3533 21
 6698 0092 7B69     		ldr	r3, [r7, #20]
 6699 0094 0022     		movs	r2, #0
 6700 0096 DA87     		strh	r2, [r3, #62]	@ movhi
3534:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3535:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3536:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
 6701              		.loc 1 3536 11
 6702 0098 7B69     		ldr	r3, [r7, #20]
 6703 009a 1B6E     		ldr	r3, [r3, #96]
 6704              		.loc 1 3536 6
 6705 009c 402B     		cmp	r3, #64
 6706 009e 02D0     		beq	.L323
3537:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3538:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Reset errorCode */
3539:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 6707              		.loc 1 3539 21
 6708 00a0 7B69     		ldr	r3, [r7, #20]
 6709 00a2 0022     		movs	r2, #0
 6710 00a4 1A66     		str	r2, [r3, #96]
 6711              	.L323:
 6712              	.LBB14:
3540:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 180


3541:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3542:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3543:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6713              		.loc 1 3543 3
 6714 00a6 0023     		movs	r3, #0
 6715 00a8 3B61     		str	r3, [r7, #16]
 6716 00aa 7B69     		ldr	r3, [r7, #20]
 6717 00ac 1B68     		ldr	r3, [r3]
 6718 00ae DB68     		ldr	r3, [r3, #12]
 6719 00b0 3B61     		str	r3, [r7, #16]
 6720 00b2 7B69     		ldr	r3, [r7, #20]
 6721 00b4 1B68     		ldr	r3, [r3]
 6722 00b6 9B68     		ldr	r3, [r3, #8]
 6723 00b8 3B61     		str	r3, [r7, #16]
 6724 00ba 3B69     		ldr	r3, [r7, #16]
 6725              	.LBE14:
 6726              	.LBB15:
3544:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 6727              		.loc 1 3544 3
 6728 00bc 0023     		movs	r3, #0
 6729 00be FB60     		str	r3, [r7, #12]
 6730 00c0 7B69     		ldr	r3, [r7, #20]
 6731 00c2 1B68     		ldr	r3, [r3]
 6732 00c4 9B68     		ldr	r3, [r3, #8]
 6733 00c6 FB60     		str	r3, [r7, #12]
 6734 00c8 FB68     		ldr	r3, [r7, #12]
 6735              	.LBE15:
3545:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3546:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3547:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 6736              		.loc 1 3547 16
 6737 00ca 7B69     		ldr	r3, [r7, #20]
 6738 00cc 0122     		movs	r2, #1
 6739 00ce 83F85D20 		strb	r2, [r3, #93]
3548:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3549:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Call user Abort complete callback */
3550:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3551:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3552:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
3553:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 6740              		.loc 1 3553 3
 6741 00d2 7869     		ldr	r0, [r7, #20]
 6742 00d4 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 6743 00d8 00E0     		b	.L318
 6744              	.L324:
3527:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
 6745              		.loc 1 3527 7
 6746 00da 00BF     		nop
 6747              	.L318:
3554:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3555:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6748              		.loc 1 3555 1
 6749 00dc 1837     		adds	r7, r7, #24
 6750              	.LCFI209:
 6751              		.cfi_def_cfa_offset 8
 6752 00de BD46     		mov	sp, r7
 6753              	.LCFI210:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 181


 6754              		.cfi_def_cfa_register 13
 6755              		@ sp needed
 6756 00e0 80BD     		pop	{r7, pc}
 6757              		.cfi_endproc
 6758              	.LFE170:
 6760              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 6761              		.align	1
 6762              		.syntax unified
 6763              		.thumb
 6764              		.thumb_func
 6766              	SPI_2linesRxISR_8BIT:
 6767              	.LFB171:
3556:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3557:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3558:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3559:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3560:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3561:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3562:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3563:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3564:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6768              		.loc 1 3564 1
 6769              		.cfi_startproc
 6770              		@ args = 0, pretend = 0, frame = 8
 6771              		@ frame_needed = 1, uses_anonymous_args = 0
 6772 0000 80B5     		push	{r7, lr}
 6773              	.LCFI211:
 6774              		.cfi_def_cfa_offset 8
 6775              		.cfi_offset 7, -8
 6776              		.cfi_offset 14, -4
 6777 0002 82B0     		sub	sp, sp, #8
 6778              	.LCFI212:
 6779              		.cfi_def_cfa_offset 16
 6780 0004 00AF     		add	r7, sp, #0
 6781              	.LCFI213:
 6782              		.cfi_def_cfa_register 7
 6783 0006 7860     		str	r0, [r7, #4]
3565:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Receive data in packing mode */
3566:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->RxXferCount > 1U)
 6784              		.loc 1 3566 11
 6785 0008 7B68     		ldr	r3, [r7, #4]
 6786 000a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 6787 000e 9BB2     		uxth	r3, r3
 6788              		.loc 1 3566 6
 6789 0010 012B     		cmp	r3, #1
 6790 0012 23D9     		bls	.L326
3567:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3568:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 6791              		.loc 1 3568 54
 6792 0014 7B68     		ldr	r3, [r7, #4]
 6793 0016 1B68     		ldr	r3, [r3]
 6794              		.loc 1 3568 64
 6795 0018 DA68     		ldr	r2, [r3, #12]
 6796              		.loc 1 3568 23
 6797 001a 7B68     		ldr	r3, [r7, #4]
 6798 001c 1B6C     		ldr	r3, [r3, #64]
 6799              		.loc 1 3568 39
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 182


 6800 001e 92B2     		uxth	r2, r2
 6801              		.loc 1 3568 37
 6802 0020 1A80     		strh	r2, [r3]	@ movhi
3569:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 6803              		.loc 1 3569 9
 6804 0022 7B68     		ldr	r3, [r7, #4]
 6805 0024 1B6C     		ldr	r3, [r3, #64]
 6806              		.loc 1 3569 22
 6807 0026 9A1C     		adds	r2, r3, #2
 6808 0028 7B68     		ldr	r3, [r7, #4]
 6809 002a 1A64     		str	r2, [r3, #64]
3570:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount -= 2U;
 6810              		.loc 1 3570 9
 6811 002c 7B68     		ldr	r3, [r7, #4]
 6812 002e B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 6813 0032 9BB2     		uxth	r3, r3
 6814              		.loc 1 3570 23
 6815 0034 023B     		subs	r3, r3, #2
 6816 0036 9AB2     		uxth	r2, r3
 6817 0038 7B68     		ldr	r3, [r7, #4]
 6818 003a A3F84620 		strh	r2, [r3, #70]	@ movhi
3571:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->RxXferCount == 1U)
 6819              		.loc 1 3571 13
 6820 003e 7B68     		ldr	r3, [r7, #4]
 6821 0040 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 6822 0044 9BB2     		uxth	r3, r3
 6823              		.loc 1 3571 8
 6824 0046 012B     		cmp	r3, #1
 6825 0048 1FD1     		bne	.L327
3572:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3573:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 8bit */
3574:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 6826              		.loc 1 3574 7
 6827 004a 7B68     		ldr	r3, [r7, #4]
 6828 004c 1B68     		ldr	r3, [r3]
 6829 004e 5A68     		ldr	r2, [r3, #4]
 6830 0050 7B68     		ldr	r3, [r7, #4]
 6831 0052 1B68     		ldr	r3, [r3]
 6832 0054 42F48052 		orr	r2, r2, #4096
 6833 0058 5A60     		str	r2, [r3, #4]
 6834 005a 16E0     		b	.L327
 6835              	.L326:
3575:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3576:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3577:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
3578:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
3579:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3580:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
 6836              		.loc 1 3580 48
 6837 005c 7B68     		ldr	r3, [r7, #4]
 6838 005e 1B68     		ldr	r3, [r3]
 6839              		.loc 1 3580 43
 6840 0060 03F10C02 		add	r2, r3, #12
 6841              		.loc 1 3580 10
 6842 0064 7B68     		ldr	r3, [r7, #4]
 6843 0066 1B6C     		ldr	r3, [r3, #64]
 6844              		.loc 1 3580 25
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 183


 6845 0068 1278     		ldrb	r2, [r2]
 6846 006a D2B2     		uxtb	r2, r2
 6847              		.loc 1 3580 23
 6848 006c 1A70     		strb	r2, [r3]
3581:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 6849              		.loc 1 3581 9
 6850 006e 7B68     		ldr	r3, [r7, #4]
 6851 0070 1B6C     		ldr	r3, [r3, #64]
 6852              		.loc 1 3581 21
 6853 0072 5A1C     		adds	r2, r3, #1
 6854 0074 7B68     		ldr	r3, [r7, #4]
 6855 0076 1A64     		str	r2, [r3, #64]
3582:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->RxXferCount--;
 6856              		.loc 1 3582 9
 6857 0078 7B68     		ldr	r3, [r7, #4]
 6858 007a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 6859 007e 9BB2     		uxth	r3, r3
 6860              		.loc 1 3582 22
 6861 0080 013B     		subs	r3, r3, #1
 6862 0082 9AB2     		uxth	r2, r3
 6863 0084 7B68     		ldr	r3, [r7, #4]
 6864 0086 A3F84620 		strh	r2, [r3, #70]	@ movhi
 6865              	.L327:
3583:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3584:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3585:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check end of the reception */
3586:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 6866              		.loc 1 3586 11
 6867 008a 7B68     		ldr	r3, [r7, #4]
 6868 008c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 6869 0090 9BB2     		uxth	r3, r3
 6870              		.loc 1 3586 6
 6871 0092 002B     		cmp	r3, #0
 6872 0094 0FD1     		bne	.L329
3587:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3588:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3589:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3590:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3591:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
3592:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
3593:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3594:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3595:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3596:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3597:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3598:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 6873              		.loc 1 3598 5
 6874 0096 7B68     		ldr	r3, [r7, #4]
 6875 0098 1B68     		ldr	r3, [r3]
 6876 009a 5A68     		ldr	r2, [r3, #4]
 6877 009c 7B68     		ldr	r3, [r7, #4]
 6878 009e 1B68     		ldr	r3, [r3]
 6879 00a0 22F06002 		bic	r2, r2, #96
 6880 00a4 5A60     		str	r2, [r3, #4]
3599:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3600:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
 6881              		.loc 1 3600 13
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 184


 6882 00a6 7B68     		ldr	r3, [r7, #4]
 6883 00a8 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 6884 00aa 9BB2     		uxth	r3, r3
 6885              		.loc 1 3600 8
 6886 00ac 002B     		cmp	r3, #0
 6887 00ae 02D1     		bne	.L329
3601:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3602:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 6888              		.loc 1 3602 7
 6889 00b0 7868     		ldr	r0, [r7, #4]
 6890 00b2 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 6891              	.L329:
3603:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3604:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3605:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 6892              		.loc 1 3605 1
 6893 00b6 00BF     		nop
 6894 00b8 0837     		adds	r7, r7, #8
 6895              	.LCFI214:
 6896              		.cfi_def_cfa_offset 8
 6897 00ba BD46     		mov	sp, r7
 6898              	.LCFI215:
 6899              		.cfi_def_cfa_register 13
 6900              		@ sp needed
 6901 00bc 80BD     		pop	{r7, pc}
 6902              		.cfi_endproc
 6903              	.LFE171:
 6905              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 6906              		.align	1
 6907              		.syntax unified
 6908              		.thumb
 6909              		.thumb_func
 6911              	SPI_2linesTxISR_8BIT:
 6912              	.LFB172:
3606:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3607:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3608:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3609:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3610:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3611:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3612:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3613:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3614:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3615:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
3616:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3617:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3618:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3619:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3620:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3621:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3622:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3623:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* To avoid GCC warning */
3624:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(tmpreg8);
3625:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3626:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->CRCSize--;
3627:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3628:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check end of the reception */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 185


3629:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
3630:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3631:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
3632:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3633:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3634:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3635:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3636:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3637:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3638:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3639:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
3640:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3641:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3642:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3643:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3644:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3645:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3646:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3647:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3648:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3649:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 6913              		.loc 1 3649 1
 6914              		.cfi_startproc
 6915              		@ args = 0, pretend = 0, frame = 8
 6916              		@ frame_needed = 1, uses_anonymous_args = 0
 6917 0000 80B5     		push	{r7, lr}
 6918              	.LCFI216:
 6919              		.cfi_def_cfa_offset 8
 6920              		.cfi_offset 7, -8
 6921              		.cfi_offset 14, -4
 6922 0002 82B0     		sub	sp, sp, #8
 6923              	.LCFI217:
 6924              		.cfi_def_cfa_offset 16
 6925 0004 00AF     		add	r7, sp, #0
 6926              	.LCFI218:
 6927              		.cfi_def_cfa_register 7
 6928 0006 7860     		str	r0, [r7, #4]
3650:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in packing Bit mode */
3651:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->TxXferCount >= 2U)
 6929              		.loc 1 3651 11
 6930 0008 7B68     		ldr	r3, [r7, #4]
 6931 000a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 6932 000c 9BB2     		uxth	r3, r3
 6933              		.loc 1 3651 6
 6934 000e 012B     		cmp	r3, #1
 6935 0010 12D9     		bls	.L331
3652:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3653:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 6936              		.loc 1 3653 44
 6937 0012 7B68     		ldr	r3, [r7, #4]
 6938 0014 9B6B     		ldr	r3, [r3, #56]
 6939              		.loc 1 3653 26
 6940 0016 1A88     		ldrh	r2, [r3]
 6941              		.loc 1 3653 9
 6942 0018 7B68     		ldr	r3, [r7, #4]
 6943 001a 1B68     		ldr	r3, [r3]
 6944              		.loc 1 3653 24
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 186


 6945 001c DA60     		str	r2, [r3, #12]
3654:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 6946              		.loc 1 3654 9
 6947 001e 7B68     		ldr	r3, [r7, #4]
 6948 0020 9B6B     		ldr	r3, [r3, #56]
 6949              		.loc 1 3654 22
 6950 0022 9A1C     		adds	r2, r3, #2
 6951 0024 7B68     		ldr	r3, [r7, #4]
 6952 0026 9A63     		str	r2, [r3, #56]
3655:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxXferCount -= 2U;
 6953              		.loc 1 3655 9
 6954 0028 7B68     		ldr	r3, [r7, #4]
 6955 002a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 6956 002c 9BB2     		uxth	r3, r3
 6957              		.loc 1 3655 23
 6958 002e 023B     		subs	r3, r3, #2
 6959 0030 9AB2     		uxth	r2, r3
 6960 0032 7B68     		ldr	r3, [r7, #4]
 6961 0034 DA87     		strh	r2, [r3, #62]	@ movhi
 6962 0036 12E0     		b	.L332
 6963              	.L331:
3656:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3657:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
3658:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
3659:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3660:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 6964              		.loc 1 3660 50
 6965 0038 7B68     		ldr	r3, [r7, #4]
 6966 003a 9A6B     		ldr	r2, [r3, #56]
 6967              		.loc 1 3660 27
 6968 003c 7B68     		ldr	r3, [r7, #4]
 6969 003e 1B68     		ldr	r3, [r3]
 6970              		.loc 1 3660 22
 6971 0040 0C33     		adds	r3, r3, #12
 6972              		.loc 1 3660 45
 6973 0042 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 6974              		.loc 1 3660 42
 6975 0044 1A70     		strb	r2, [r3]
3661:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 6976              		.loc 1 3661 9
 6977 0046 7B68     		ldr	r3, [r7, #4]
 6978 0048 9B6B     		ldr	r3, [r3, #56]
 6979              		.loc 1 3661 21
 6980 004a 5A1C     		adds	r2, r3, #1
 6981 004c 7B68     		ldr	r3, [r7, #4]
 6982 004e 9A63     		str	r2, [r3, #56]
3662:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxXferCount--;
 6983              		.loc 1 3662 9
 6984 0050 7B68     		ldr	r3, [r7, #4]
 6985 0052 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 6986 0054 9BB2     		uxth	r3, r3
 6987              		.loc 1 3662 22
 6988 0056 013B     		subs	r3, r3, #1
 6989 0058 9AB2     		uxth	r2, r3
 6990 005a 7B68     		ldr	r3, [r7, #4]
 6991 005c DA87     		strh	r2, [r3, #62]	@ movhi
 6992              	.L332:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 187


3663:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3664:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3665:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transmission */
3666:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 6993              		.loc 1 3666 11
 6994 005e 7B68     		ldr	r3, [r7, #4]
 6995 0060 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 6996 0062 9BB2     		uxth	r3, r3
 6997              		.loc 1 3666 6
 6998 0064 002B     		cmp	r3, #0
 6999 0066 10D1     		bne	.L334
3667:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3668:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3669:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3670:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3671:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3672:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3673:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable TXE interrupt */
3674:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3675:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3676:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3677:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3678:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3679:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable TXE interrupt */
3680:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 7000              		.loc 1 3680 5
 7001 0068 7B68     		ldr	r3, [r7, #4]
 7002 006a 1B68     		ldr	r3, [r3]
 7003 006c 5A68     		ldr	r2, [r3, #4]
 7004 006e 7B68     		ldr	r3, [r7, #4]
 7005 0070 1B68     		ldr	r3, [r3]
 7006 0072 22F08002 		bic	r2, r2, #128
 7007 0076 5A60     		str	r2, [r3, #4]
3681:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3682:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
 7008              		.loc 1 3682 13
 7009 0078 7B68     		ldr	r3, [r7, #4]
 7010 007a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7011 007e 9BB2     		uxth	r3, r3
 7012              		.loc 1 3682 8
 7013 0080 002B     		cmp	r3, #0
 7014 0082 02D1     		bne	.L334
3683:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3684:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 7015              		.loc 1 3684 7
 7016 0084 7868     		ldr	r0, [r7, #4]
 7017 0086 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7018              	.L334:
3685:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3686:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3687:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7019              		.loc 1 3687 1
 7020 008a 00BF     		nop
 7021 008c 0837     		adds	r7, r7, #8
 7022              	.LCFI219:
 7023              		.cfi_def_cfa_offset 8
 7024 008e BD46     		mov	sp, r7
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 188


 7025              	.LCFI220:
 7026              		.cfi_def_cfa_register 13
 7027              		@ sp needed
 7028 0090 80BD     		pop	{r7, pc}
 7029              		.cfi_endproc
 7030              	.LFE172:
 7032              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 7033              		.align	1
 7034              		.syntax unified
 7035              		.thumb
 7036              		.thumb_func
 7038              	SPI_2linesRxISR_16BIT:
 7039              	.LFB173:
3688:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3689:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3690:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3691:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3692:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3693:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3694:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3695:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3696:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7040              		.loc 1 3696 1
 7041              		.cfi_startproc
 7042              		@ args = 0, pretend = 0, frame = 8
 7043              		@ frame_needed = 1, uses_anonymous_args = 0
 7044 0000 80B5     		push	{r7, lr}
 7045              	.LCFI221:
 7046              		.cfi_def_cfa_offset 8
 7047              		.cfi_offset 7, -8
 7048              		.cfi_offset 14, -4
 7049 0002 82B0     		sub	sp, sp, #8
 7050              	.LCFI222:
 7051              		.cfi_def_cfa_offset 16
 7052 0004 00AF     		add	r7, sp, #0
 7053              	.LCFI223:
 7054              		.cfi_def_cfa_register 7
 7055 0006 7860     		str	r0, [r7, #4]
3697:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3698:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 7056              		.loc 1 3698 52
 7057 0008 7B68     		ldr	r3, [r7, #4]
 7058 000a 1B68     		ldr	r3, [r3]
 7059              		.loc 1 3698 62
 7060 000c DA68     		ldr	r2, [r3, #12]
 7061              		.loc 1 3698 21
 7062 000e 7B68     		ldr	r3, [r7, #4]
 7063 0010 1B6C     		ldr	r3, [r3, #64]
 7064              		.loc 1 3698 37
 7065 0012 92B2     		uxth	r2, r2
 7066              		.loc 1 3698 35
 7067 0014 1A80     		strh	r2, [r3]	@ movhi
3699:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 7068              		.loc 1 3699 7
 7069 0016 7B68     		ldr	r3, [r7, #4]
 7070 0018 1B6C     		ldr	r3, [r3, #64]
 7071              		.loc 1 3699 20
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 189


 7072 001a 9A1C     		adds	r2, r3, #2
 7073 001c 7B68     		ldr	r3, [r7, #4]
 7074 001e 1A64     		str	r2, [r3, #64]
3700:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount--;
 7075              		.loc 1 3700 7
 7076 0020 7B68     		ldr	r3, [r7, #4]
 7077 0022 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7078 0026 9BB2     		uxth	r3, r3
 7079              		.loc 1 3700 20
 7080 0028 013B     		subs	r3, r3, #1
 7081 002a 9AB2     		uxth	r2, r3
 7082 002c 7B68     		ldr	r3, [r7, #4]
 7083 002e A3F84620 		strh	r2, [r3, #70]	@ movhi
3701:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3702:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 7084              		.loc 1 3702 11
 7085 0032 7B68     		ldr	r3, [r7, #4]
 7086 0034 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7087 0038 9BB2     		uxth	r3, r3
 7088              		.loc 1 3702 6
 7089 003a 002B     		cmp	r3, #0
 7090 003c 0FD1     		bne	.L337
3703:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3704:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3705:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3706:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3707:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
3708:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3709:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3710:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3711:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3712:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable RXNE interrupt */
3713:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
 7091              		.loc 1 3713 5
 7092 003e 7B68     		ldr	r3, [r7, #4]
 7093 0040 1B68     		ldr	r3, [r3]
 7094 0042 5A68     		ldr	r2, [r3, #4]
 7095 0044 7B68     		ldr	r3, [r7, #4]
 7096 0046 1B68     		ldr	r3, [r3]
 7097 0048 22F04002 		bic	r2, r2, #64
 7098 004c 5A60     		str	r2, [r3, #4]
3714:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3715:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
 7099              		.loc 1 3715 13
 7100 004e 7B68     		ldr	r3, [r7, #4]
 7101 0050 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7102 0052 9BB2     		uxth	r3, r3
 7103              		.loc 1 3715 8
 7104 0054 002B     		cmp	r3, #0
 7105 0056 02D1     		bne	.L337
3716:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3717:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 7106              		.loc 1 3717 7
 7107 0058 7868     		ldr	r0, [r7, #4]
 7108 005a FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7109              	.L337:
3718:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 190


3719:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3720:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7110              		.loc 1 3720 1
 7111 005e 00BF     		nop
 7112 0060 0837     		adds	r7, r7, #8
 7113              	.LCFI224:
 7114              		.cfi_def_cfa_offset 8
 7115 0062 BD46     		mov	sp, r7
 7116              	.LCFI225:
 7117              		.cfi_def_cfa_register 13
 7118              		@ sp needed
 7119 0064 80BD     		pop	{r7, pc}
 7120              		.cfi_endproc
 7121              	.LFE173:
 7123              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 7124              		.align	1
 7125              		.syntax unified
 7126              		.thumb
 7127              		.thumb_func
 7129              	SPI_2linesTxISR_16BIT:
 7130              	.LFB174:
3721:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3722:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3723:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3724:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3725:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3726:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3727:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3728:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3729:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3730:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
3731:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3732:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3733:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3734:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3735:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* To avoid GCC warning */
3736:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(tmpreg);
3737:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3738:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable RXNE interrupt */
3739:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3740:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3741:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
3742:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
3743:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3744:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3745:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3746:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3747:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3748:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3749:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3750:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3751:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3752:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7131              		.loc 1 3752 1
 7132              		.cfi_startproc
 7133              		@ args = 0, pretend = 0, frame = 8
 7134              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 191


 7135 0000 80B5     		push	{r7, lr}
 7136              	.LCFI226:
 7137              		.cfi_def_cfa_offset 8
 7138              		.cfi_offset 7, -8
 7139              		.cfi_offset 14, -4
 7140 0002 82B0     		sub	sp, sp, #8
 7141              	.LCFI227:
 7142              		.cfi_def_cfa_offset 16
 7143 0004 00AF     		add	r7, sp, #0
 7144              	.LCFI228:
 7145              		.cfi_def_cfa_register 7
 7146 0006 7860     		str	r0, [r7, #4]
3753:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3754:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 7147              		.loc 1 3754 42
 7148 0008 7B68     		ldr	r3, [r7, #4]
 7149 000a 9B6B     		ldr	r3, [r3, #56]
 7150              		.loc 1 3754 24
 7151 000c 1A88     		ldrh	r2, [r3]
 7152              		.loc 1 3754 7
 7153 000e 7B68     		ldr	r3, [r7, #4]
 7154 0010 1B68     		ldr	r3, [r3]
 7155              		.loc 1 3754 22
 7156 0012 DA60     		str	r2, [r3, #12]
3755:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 7157              		.loc 1 3755 7
 7158 0014 7B68     		ldr	r3, [r7, #4]
 7159 0016 9B6B     		ldr	r3, [r3, #56]
 7160              		.loc 1 3755 20
 7161 0018 9A1C     		adds	r2, r3, #2
 7162 001a 7B68     		ldr	r3, [r7, #4]
 7163 001c 9A63     		str	r2, [r3, #56]
3756:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount--;
 7164              		.loc 1 3756 7
 7165 001e 7B68     		ldr	r3, [r7, #4]
 7166 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7167 0022 9BB2     		uxth	r3, r3
 7168              		.loc 1 3756 20
 7169 0024 013B     		subs	r3, r3, #1
 7170 0026 9AB2     		uxth	r2, r3
 7171 0028 7B68     		ldr	r3, [r7, #4]
 7172 002a DA87     		strh	r2, [r3, #62]	@ movhi
3757:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3758:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable CRC Transmission */
3759:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 7173              		.loc 1 3759 11
 7174 002c 7B68     		ldr	r3, [r7, #4]
 7175 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7176 0030 9BB2     		uxth	r3, r3
 7177              		.loc 1 3759 6
 7178 0032 002B     		cmp	r3, #0
 7179 0034 10D1     		bne	.L340
3760:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3761:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3762:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3763:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3764:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 192


3765:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3766:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Disable TXE interrupt */
3767:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3768:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3769:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3770:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3771:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3772:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable TXE interrupt */
3773:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 7180              		.loc 1 3773 5
 7181 0036 7B68     		ldr	r3, [r7, #4]
 7182 0038 1B68     		ldr	r3, [r3]
 7183 003a 5A68     		ldr	r2, [r3, #4]
 7184 003c 7B68     		ldr	r3, [r7, #4]
 7185 003e 1B68     		ldr	r3, [r3]
 7186 0040 22F08002 		bic	r2, r2, #128
 7187 0044 5A60     		str	r2, [r3, #4]
3774:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3775:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
 7188              		.loc 1 3775 13
 7189 0046 7B68     		ldr	r3, [r7, #4]
 7190 0048 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7191 004c 9BB2     		uxth	r3, r3
 7192              		.loc 1 3775 8
 7193 004e 002B     		cmp	r3, #0
 7194 0050 02D1     		bne	.L340
3776:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3777:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 7195              		.loc 1 3777 7
 7196 0052 7868     		ldr	r0, [r7, #4]
 7197 0054 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7198              	.L340:
3778:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3779:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3780:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7199              		.loc 1 3780 1
 7200 0058 00BF     		nop
 7201 005a 0837     		adds	r7, r7, #8
 7202              	.LCFI229:
 7203              		.cfi_def_cfa_offset 8
 7204 005c BD46     		mov	sp, r7
 7205              	.LCFI230:
 7206              		.cfi_def_cfa_register 13
 7207              		@ sp needed
 7208 005e 80BD     		pop	{r7, pc}
 7209              		.cfi_endproc
 7210              	.LFE174:
 7212              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 7213              		.align	1
 7214              		.syntax unified
 7215              		.thumb
 7216              		.thumb_func
 7218              	SPI_RxISR_8BIT:
 7219              	.LFB175:
3781:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3782:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3783:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 193


3784:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3785:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3786:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3787:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3788:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3789:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3790:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
3791:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3792:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3793:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3794:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3795:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3796:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3797:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3798:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* To avoid GCC warning */
3799:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(tmpreg8);
3800:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3801:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->CRCSize--;
3802:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3803:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
3804:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3805:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3806:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3807:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
3808:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3809:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3810:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3811:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3812:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3813:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3814:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3815:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3816:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3817:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7220              		.loc 1 3817 1
 7221              		.cfi_startproc
 7222              		@ args = 0, pretend = 0, frame = 8
 7223              		@ frame_needed = 1, uses_anonymous_args = 0
 7224 0000 80B5     		push	{r7, lr}
 7225              	.LCFI231:
 7226              		.cfi_def_cfa_offset 8
 7227              		.cfi_offset 7, -8
 7228              		.cfi_offset 14, -4
 7229 0002 82B0     		sub	sp, sp, #8
 7230              	.LCFI232:
 7231              		.cfi_def_cfa_offset 16
 7232 0004 00AF     		add	r7, sp, #0
 7233              	.LCFI233:
 7234              		.cfi_def_cfa_register 7
 7235 0006 7860     		str	r0, [r7, #4]
3818:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 7236              		.loc 1 3818 46
 7237 0008 7B68     		ldr	r3, [r7, #4]
 7238 000a 1B68     		ldr	r3, [r3]
 7239              		.loc 1 3818 41
 7240 000c 03F10C02 		add	r2, r3, #12
 7241              		.loc 1 3818 8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 194


 7242 0010 7B68     		ldr	r3, [r7, #4]
 7243 0012 1B6C     		ldr	r3, [r3, #64]
 7244              		.loc 1 3818 24
 7245 0014 1278     		ldrb	r2, [r2]
 7246 0016 D2B2     		uxtb	r2, r2
 7247              		.loc 1 3818 21
 7248 0018 1A70     		strb	r2, [r3]
3819:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 7249              		.loc 1 3819 7
 7250 001a 7B68     		ldr	r3, [r7, #4]
 7251 001c 1B6C     		ldr	r3, [r3, #64]
 7252              		.loc 1 3819 19
 7253 001e 5A1C     		adds	r2, r3, #1
 7254 0020 7B68     		ldr	r3, [r7, #4]
 7255 0022 1A64     		str	r2, [r3, #64]
3820:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount--;
 7256              		.loc 1 3820 7
 7257 0024 7B68     		ldr	r3, [r7, #4]
 7258 0026 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7259 002a 9BB2     		uxth	r3, r3
 7260              		.loc 1 3820 20
 7261 002c 013B     		subs	r3, r3, #1
 7262 002e 9AB2     		uxth	r2, r3
 7263 0030 7B68     		ldr	r3, [r7, #4]
 7264 0032 A3F84620 		strh	r2, [r3, #70]	@ movhi
3821:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3822:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3823:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable CRC Transmission */
3824:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3825:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3826:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3827:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3828:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3829:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3830:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 7265              		.loc 1 3830 11
 7266 0036 7B68     		ldr	r3, [r7, #4]
 7267 0038 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7268 003c 9BB2     		uxth	r3, r3
 7269              		.loc 1 3830 6
 7270 003e 002B     		cmp	r3, #0
 7271 0040 02D1     		bne	.L343
3831:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3832:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3833:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3834:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3835:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
3836:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3837:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3838:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3839:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 7272              		.loc 1 3839 5
 7273 0042 7868     		ldr	r0, [r7, #4]
 7274 0044 FFF7FEFF 		bl	SPI_CloseRx_ISR
 7275              	.L343:
3840:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3841:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 195


 7276              		.loc 1 3841 1
 7277 0048 00BF     		nop
 7278 004a 0837     		adds	r7, r7, #8
 7279              	.LCFI234:
 7280              		.cfi_def_cfa_offset 8
 7281 004c BD46     		mov	sp, r7
 7282              	.LCFI235:
 7283              		.cfi_def_cfa_register 13
 7284              		@ sp needed
 7285 004e 80BD     		pop	{r7, pc}
 7286              		.cfi_endproc
 7287              	.LFE175:
 7289              		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 7290              		.align	1
 7291              		.syntax unified
 7292              		.thumb
 7293              		.thumb_func
 7295              	SPI_RxISR_16BIT:
 7296              	.LFB176:
3842:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3843:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3844:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3845:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3846:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3847:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3848:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3849:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3850:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3851:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
3852:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3853:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3854:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3855:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3856:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* To avoid GCC warning */
3857:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   UNUSED(tmpreg);
3858:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3859:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3860:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3861:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3862:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3863:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
3864:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3865:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3866:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3867:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3868:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3869:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3870:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3871:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3872:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3873:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7297              		.loc 1 3873 1
 7298              		.cfi_startproc
 7299              		@ args = 0, pretend = 0, frame = 8
 7300              		@ frame_needed = 1, uses_anonymous_args = 0
 7301 0000 80B5     		push	{r7, lr}
 7302              	.LCFI236:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 196


 7303              		.cfi_def_cfa_offset 8
 7304              		.cfi_offset 7, -8
 7305              		.cfi_offset 14, -4
 7306 0002 82B0     		sub	sp, sp, #8
 7307              	.LCFI237:
 7308              		.cfi_def_cfa_offset 16
 7309 0004 00AF     		add	r7, sp, #0
 7310              	.LCFI238:
 7311              		.cfi_def_cfa_register 7
 7312 0006 7860     		str	r0, [r7, #4]
3874:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 7313              		.loc 1 3874 52
 7314 0008 7B68     		ldr	r3, [r7, #4]
 7315 000a 1B68     		ldr	r3, [r3]
 7316              		.loc 1 3874 62
 7317 000c DA68     		ldr	r2, [r3, #12]
 7318              		.loc 1 3874 21
 7319 000e 7B68     		ldr	r3, [r7, #4]
 7320 0010 1B6C     		ldr	r3, [r3, #64]
 7321              		.loc 1 3874 37
 7322 0012 92B2     		uxth	r2, r2
 7323              		.loc 1 3874 35
 7324 0014 1A80     		strh	r2, [r3]	@ movhi
3875:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 7325              		.loc 1 3875 7
 7326 0016 7B68     		ldr	r3, [r7, #4]
 7327 0018 1B6C     		ldr	r3, [r3, #64]
 7328              		.loc 1 3875 20
 7329 001a 9A1C     		adds	r2, r3, #2
 7330 001c 7B68     		ldr	r3, [r7, #4]
 7331 001e 1A64     		str	r2, [r3, #64]
3876:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->RxXferCount--;
 7332              		.loc 1 3876 7
 7333 0020 7B68     		ldr	r3, [r7, #4]
 7334 0022 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7335 0026 9BB2     		uxth	r3, r3
 7336              		.loc 1 3876 20
 7337 0028 013B     		subs	r3, r3, #1
 7338 002a 9AB2     		uxth	r2, r3
 7339 002c 7B68     		ldr	r3, [r7, #4]
 7340 002e A3F84620 		strh	r2, [r3, #70]	@ movhi
3877:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3878:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3879:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Enable CRC Transmission */
3880:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3881:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3882:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3883:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3884:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3885:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3886:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 7341              		.loc 1 3886 11
 7342 0032 7B68     		ldr	r3, [r7, #4]
 7343 0034 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7344 0038 9BB2     		uxth	r3, r3
 7345              		.loc 1 3886 6
 7346 003a 002B     		cmp	r3, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 197


 7347 003c 02D1     		bne	.L346
3887:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3888:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3889:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3890:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3891:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
3892:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return;
3893:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3894:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3895:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 7348              		.loc 1 3895 5
 7349 003e 7868     		ldr	r0, [r7, #4]
 7350 0040 FFF7FEFF 		bl	SPI_CloseRx_ISR
 7351              	.L346:
3896:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3897:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7352              		.loc 1 3897 1
 7353 0044 00BF     		nop
 7354 0046 0837     		adds	r7, r7, #8
 7355              	.LCFI239:
 7356              		.cfi_def_cfa_offset 8
 7357 0048 BD46     		mov	sp, r7
 7358              	.LCFI240:
 7359              		.cfi_def_cfa_register 13
 7360              		@ sp needed
 7361 004a 80BD     		pop	{r7, pc}
 7362              		.cfi_endproc
 7363              	.LFE176:
 7365              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 7366              		.align	1
 7367              		.syntax unified
 7368              		.thumb
 7369              		.thumb_func
 7371              	SPI_TxISR_8BIT:
 7372              	.LFB177:
3898:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3899:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3900:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3901:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3902:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3903:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3904:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3905:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3906:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7373              		.loc 1 3906 1
 7374              		.cfi_startproc
 7375              		@ args = 0, pretend = 0, frame = 8
 7376              		@ frame_needed = 1, uses_anonymous_args = 0
 7377 0000 80B5     		push	{r7, lr}
 7378              	.LCFI241:
 7379              		.cfi_def_cfa_offset 8
 7380              		.cfi_offset 7, -8
 7381              		.cfi_offset 14, -4
 7382 0002 82B0     		sub	sp, sp, #8
 7383              	.LCFI242:
 7384              		.cfi_def_cfa_offset 16
 7385 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 198


 7386              	.LCFI243:
 7387              		.cfi_def_cfa_register 7
 7388 0006 7860     		str	r0, [r7, #4]
3907:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 7389              		.loc 1 3907 48
 7390 0008 7B68     		ldr	r3, [r7, #4]
 7391 000a 9A6B     		ldr	r2, [r3, #56]
 7392              		.loc 1 3907 25
 7393 000c 7B68     		ldr	r3, [r7, #4]
 7394 000e 1B68     		ldr	r3, [r3]
 7395              		.loc 1 3907 20
 7396 0010 0C33     		adds	r3, r3, #12
 7397              		.loc 1 3907 43
 7398 0012 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 7399              		.loc 1 3907 40
 7400 0014 1A70     		strb	r2, [r3]
3908:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 7401              		.loc 1 3908 7
 7402 0016 7B68     		ldr	r3, [r7, #4]
 7403 0018 9B6B     		ldr	r3, [r3, #56]
 7404              		.loc 1 3908 19
 7405 001a 5A1C     		adds	r2, r3, #1
 7406 001c 7B68     		ldr	r3, [r7, #4]
 7407 001e 9A63     		str	r2, [r3, #56]
3909:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount--;
 7408              		.loc 1 3909 7
 7409 0020 7B68     		ldr	r3, [r7, #4]
 7410 0022 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7411 0024 9BB2     		uxth	r3, r3
 7412              		.loc 1 3909 20
 7413 0026 013B     		subs	r3, r3, #1
 7414 0028 9AB2     		uxth	r2, r3
 7415 002a 7B68     		ldr	r3, [r7, #4]
 7416 002c DA87     		strh	r2, [r3, #62]	@ movhi
3910:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3911:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 7417              		.loc 1 3911 11
 7418 002e 7B68     		ldr	r3, [r7, #4]
 7419 0030 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7420 0032 9BB2     		uxth	r3, r3
 7421              		.loc 1 3911 6
 7422 0034 002B     		cmp	r3, #0
 7423 0036 02D1     		bne	.L349
3912:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3913:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3914:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3915:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3916:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Enable CRC Transmission */
3917:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3918:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3919:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3920:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 7424              		.loc 1 3920 5
 7425 0038 7868     		ldr	r0, [r7, #4]
 7426 003a FFF7FEFF 		bl	SPI_CloseTx_ISR
 7427              	.L349:
3921:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 199


3922:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7428              		.loc 1 3922 1
 7429 003e 00BF     		nop
 7430 0040 0837     		adds	r7, r7, #8
 7431              	.LCFI244:
 7432              		.cfi_def_cfa_offset 8
 7433 0042 BD46     		mov	sp, r7
 7434              	.LCFI245:
 7435              		.cfi_def_cfa_register 13
 7436              		@ sp needed
 7437 0044 80BD     		pop	{r7, pc}
 7438              		.cfi_endproc
 7439              	.LFE177:
 7441              		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 7442              		.align	1
 7443              		.syntax unified
 7444              		.thumb
 7445              		.thumb_func
 7447              	SPI_TxISR_16BIT:
 7448              	.LFB178:
3923:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3924:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3925:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3926:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3927:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
3928:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
3929:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3930:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3931:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7449              		.loc 1 3931 1
 7450              		.cfi_startproc
 7451              		@ args = 0, pretend = 0, frame = 8
 7452              		@ frame_needed = 1, uses_anonymous_args = 0
 7453 0000 80B5     		push	{r7, lr}
 7454              	.LCFI246:
 7455              		.cfi_def_cfa_offset 8
 7456              		.cfi_offset 7, -8
 7457              		.cfi_offset 14, -4
 7458 0002 82B0     		sub	sp, sp, #8
 7459              	.LCFI247:
 7460              		.cfi_def_cfa_offset 16
 7461 0004 00AF     		add	r7, sp, #0
 7462              	.LCFI248:
 7463              		.cfi_def_cfa_register 7
 7464 0006 7860     		str	r0, [r7, #4]
3932:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3933:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 7465              		.loc 1 3933 42
 7466 0008 7B68     		ldr	r3, [r7, #4]
 7467 000a 9B6B     		ldr	r3, [r3, #56]
 7468              		.loc 1 3933 24
 7469 000c 1A88     		ldrh	r2, [r3]
 7470              		.loc 1 3933 7
 7471 000e 7B68     		ldr	r3, [r7, #4]
 7472 0010 1B68     		ldr	r3, [r3]
 7473              		.loc 1 3933 22
 7474 0012 DA60     		str	r2, [r3, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 200


3934:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 7475              		.loc 1 3934 7
 7476 0014 7B68     		ldr	r3, [r7, #4]
 7477 0016 9B6B     		ldr	r3, [r3, #56]
 7478              		.loc 1 3934 20
 7479 0018 9A1C     		adds	r2, r3, #2
 7480 001a 7B68     		ldr	r3, [r7, #4]
 7481 001c 9A63     		str	r2, [r3, #56]
3935:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->TxXferCount--;
 7482              		.loc 1 3935 7
 7483 001e 7B68     		ldr	r3, [r7, #4]
 7484 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7485 0022 9BB2     		uxth	r3, r3
 7486              		.loc 1 3935 20
 7487 0024 013B     		subs	r3, r3, #1
 7488 0026 9AB2     		uxth	r2, r3
 7489 0028 7B68     		ldr	r3, [r7, #4]
 7490 002a DA87     		strh	r2, [r3, #62]	@ movhi
3936:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3937:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 7491              		.loc 1 3937 11
 7492 002c 7B68     		ldr	r3, [r7, #4]
 7493 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7494 0030 9BB2     		uxth	r3, r3
 7495              		.loc 1 3937 6
 7496 0032 002B     		cmp	r3, #0
 7497 0034 02D1     		bne	.L352
3938:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3939:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3940:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3941:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3942:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Enable CRC Transmission */
3943:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3944:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
3945:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3946:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 7498              		.loc 1 3946 5
 7499 0036 7868     		ldr	r0, [r7, #4]
 7500 0038 FFF7FEFF 		bl	SPI_CloseTx_ISR
 7501              	.L352:
3947:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
3948:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7502              		.loc 1 3948 1
 7503 003c 00BF     		nop
 7504 003e 0837     		adds	r7, r7, #8
 7505              	.LCFI249:
 7506              		.cfi_def_cfa_offset 8
 7507 0040 BD46     		mov	sp, r7
 7508              	.LCFI250:
 7509              		.cfi_def_cfa_register 13
 7510              		@ sp needed
 7511 0042 80BD     		pop	{r7, pc}
 7512              		.cfi_endproc
 7513              	.LFE178:
 7515              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 7516              		.align	1
 7517              		.syntax unified
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 201


 7518              		.thumb
 7519              		.thumb_func
 7521              	SPI_WaitFlagStateUntilTimeout:
 7522              	.LFB179:
3949:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3950:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
3951:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3952:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3953:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *              the configuration information for SPI module.
3954:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Flag SPI flag to check
3955:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  State flag state to check
3956:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3957:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Tickstart tick start value
3958:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
3959:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
3960:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3961:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3962:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7523              		.loc 1 3962 1
 7524              		.cfi_startproc
 7525              		@ args = 4, pretend = 0, frame = 32
 7526              		@ frame_needed = 1, uses_anonymous_args = 0
 7527 0000 80B5     		push	{r7, lr}
 7528              	.LCFI251:
 7529              		.cfi_def_cfa_offset 8
 7530              		.cfi_offset 7, -8
 7531              		.cfi_offset 14, -4
 7532 0002 88B0     		sub	sp, sp, #32
 7533              	.LCFI252:
 7534              		.cfi_def_cfa_offset 40
 7535 0004 00AF     		add	r7, sp, #0
 7536              	.LCFI253:
 7537              		.cfi_def_cfa_register 7
 7538 0006 F860     		str	r0, [r7, #12]
 7539 0008 B960     		str	r1, [r7, #8]
 7540 000a 3B60     		str	r3, [r7]
 7541 000c 1346     		mov	r3, r2
 7542 000e FB71     		strb	r3, [r7, #7]
3963:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
3964:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tmp_timeout;
3965:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tmp_tickstart;
3966:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3967:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3968:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
 7543              		.loc 1 3968 30
 7544 0010 FFF7FEFF 		bl	HAL_GetTick
 7545 0014 0246     		mov	r2, r0
 7546              		.loc 1 3968 44 discriminator 1
 7547 0016 BB6A     		ldr	r3, [r7, #40]
 7548 0018 9B1A     		subs	r3, r3, r2
 7549              		.loc 1 3968 17 discriminator 1
 7550 001a 3A68     		ldr	r2, [r7]
 7551 001c 1344     		add	r3, r3, r2
 7552 001e FB61     		str	r3, [r7, #28]
3969:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 7553              		.loc 1 3969 19
 7554 0020 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 202


 7555 0024 B861     		str	r0, [r7, #24]
3970:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3971:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3972:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
 7556              		.loc 1 3972 43
 7557 0026 394B     		ldr	r3, .L364
 7558 0028 1B68     		ldr	r3, [r3]
 7559 002a 5B01     		lsls	r3, r3, #5
 7560              		.loc 1 3972 50
 7561 002c 1B0D     		lsrs	r3, r3, #20
 7562              		.loc 1 3972 23
 7563 002e FA69     		ldr	r2, [r7, #28]
 7564 0030 02FB03F3 		mul	r3, r2, r3
 7565              		.loc 1 3972 9
 7566 0034 7B61     		str	r3, [r7, #20]
3973:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
 7567              		.loc 1 3974 9
 7568 0036 54E0     		b	.L355
 7569              	.L363:
3975:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
3976:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
 7570              		.loc 1 3976 8
 7571 0038 3B68     		ldr	r3, [r7]
 7572 003a B3F1FF3F 		cmp	r3, #-1
 7573 003e 50D0     		beq	.L355
3977:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
3978:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 7574              		.loc 1 3978 13
 7575 0040 FFF7FEFF 		bl	HAL_GetTick
 7576 0044 0246     		mov	r2, r0
 7577              		.loc 1 3978 27 discriminator 1
 7578 0046 BB69     		ldr	r3, [r7, #24]
 7579 0048 D31A     		subs	r3, r2, r3
 7580              		.loc 1 3978 10 discriminator 1
 7581 004a FA69     		ldr	r2, [r7, #28]
 7582 004c 9A42     		cmp	r2, r3
 7583 004e 02D9     		bls	.L356
 7584              		.loc 1 3978 60 discriminator 1
 7585 0050 FB69     		ldr	r3, [r7, #28]
 7586 0052 002B     		cmp	r3, #0
 7587 0054 3DD1     		bne	.L357
 7588              	.L356:
3979:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
3980:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3981:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3982:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****            and slave for their respective CRC calculation */
3983:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3984:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3985:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 7589              		.loc 1 3985 9
 7590 0056 FB68     		ldr	r3, [r7, #12]
 7591 0058 1B68     		ldr	r3, [r3]
 7592 005a 5A68     		ldr	r2, [r3, #4]
 7593 005c FB68     		ldr	r3, [r7, #12]
 7594 005e 1B68     		ldr	r3, [r3]
 7595 0060 22F0E002 		bic	r2, r2, #224
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 203


 7596 0064 5A60     		str	r2, [r3, #4]
3986:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3987:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 7597              		.loc 1 3987 24
 7598 0066 FB68     		ldr	r3, [r7, #12]
 7599 0068 5B68     		ldr	r3, [r3, #4]
 7600              		.loc 1 3987 12
 7601 006a B3F5827F 		cmp	r3, #260
 7602 006e 11D1     		bne	.L358
 7603              		.loc 1 3987 65 discriminator 1
 7604 0070 FB68     		ldr	r3, [r7, #12]
 7605 0072 9B68     		ldr	r3, [r3, #8]
 7606              		.loc 1 3987 50 discriminator 1
 7607 0074 B3F5004F 		cmp	r3, #32768
 7608 0078 04D0     		beq	.L359
3988:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 7609              		.loc 1 3988 68
 7610 007a FB68     		ldr	r3, [r7, #12]
 7611 007c 9B68     		ldr	r3, [r3, #8]
 7612              		.loc 1 3988 54
 7613 007e B3F5806F 		cmp	r3, #1024
 7614 0082 07D1     		bne	.L358
 7615              	.L359:
3989:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
3990:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Disable SPI peripheral */
3991:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
 7616              		.loc 1 3991 11
 7617 0084 FB68     		ldr	r3, [r7, #12]
 7618 0086 1B68     		ldr	r3, [r3]
 7619 0088 1A68     		ldr	r2, [r3]
 7620 008a FB68     		ldr	r3, [r7, #12]
 7621 008c 1B68     		ldr	r3, [r3]
 7622 008e 22F04002 		bic	r2, r2, #64
 7623 0092 1A60     		str	r2, [r3]
 7624              	.L358:
3992:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
3993:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
3994:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Reset CRC Calculation */
3995:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 7625              		.loc 1 3995 23
 7626 0094 FB68     		ldr	r3, [r7, #12]
 7627 0096 9B6A     		ldr	r3, [r3, #40]
 7628              		.loc 1 3995 12
 7629 0098 B3F5005F 		cmp	r3, #8192
 7630 009c 0FD1     		bne	.L360
3996:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
3997:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
 7631              		.loc 1 3997 11
 7632 009e FB68     		ldr	r3, [r7, #12]
 7633 00a0 1B68     		ldr	r3, [r3]
 7634 00a2 1A68     		ldr	r2, [r3]
 7635 00a4 FB68     		ldr	r3, [r7, #12]
 7636 00a6 1B68     		ldr	r3, [r3]
 7637 00a8 22F40052 		bic	r2, r2, #8192
 7638 00ac 1A60     		str	r2, [r3]
 7639 00ae FB68     		ldr	r3, [r7, #12]
 7640 00b0 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 204


 7641 00b2 1A68     		ldr	r2, [r3]
 7642 00b4 FB68     		ldr	r3, [r7, #12]
 7643 00b6 1B68     		ldr	r3, [r3]
 7644 00b8 42F40052 		orr	r2, r2, #8192
 7645 00bc 1A60     		str	r2, [r3]
 7646              	.L360:
3998:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
3999:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4000:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 7647              		.loc 1 4000 21
 7648 00be FB68     		ldr	r3, [r7, #12]
 7649 00c0 0122     		movs	r2, #1
 7650 00c2 83F85D20 		strb	r2, [r3, #93]
4001:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4002:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Process Unlocked */
4003:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 7651              		.loc 1 4003 9
 7652 00c6 FB68     		ldr	r3, [r7, #12]
 7653 00c8 0022     		movs	r2, #0
 7654 00ca 83F85C20 		strb	r2, [r3, #92]
4004:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4005:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         return HAL_TIMEOUT;
 7655              		.loc 1 4005 16
 7656 00ce 0323     		movs	r3, #3
 7657 00d0 17E0     		b	.L361
 7658              	.L357:
4006:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4007:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
4008:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 7659              		.loc 1 4008 17
 7660 00d2 7B69     		ldr	r3, [r7, #20]
 7661              		.loc 1 4008 10
 7662 00d4 002B     		cmp	r3, #0
 7663 00d6 01D1     		bne	.L362
4009:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4010:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmp_timeout = 0U;
 7664              		.loc 1 4010 21
 7665 00d8 0023     		movs	r3, #0
 7666 00da FB61     		str	r3, [r7, #28]
 7667              	.L362:
4011:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4012:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 7668              		.loc 1 4012 12
 7669 00dc 7B69     		ldr	r3, [r7, #20]
 7670 00de 013B     		subs	r3, r3, #1
 7671 00e0 7B61     		str	r3, [r7, #20]
 7672              	.L355:
3974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7673              		.loc 1 3974 11
 7674 00e2 FB68     		ldr	r3, [r7, #12]
 7675 00e4 1B68     		ldr	r3, [r3]
 7676 00e6 9A68     		ldr	r2, [r3, #8]
 7677 00e8 BB68     		ldr	r3, [r7, #8]
 7678 00ea 1340     		ands	r3, r3, r2
3974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7679              		.loc 1 3974 48
 7680 00ec BA68     		ldr	r2, [r7, #8]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 205


 7681 00ee 9A42     		cmp	r2, r3
 7682 00f0 0CBF     		ite	eq
 7683 00f2 0123     		moveq	r3, #1
 7684 00f4 0023     		movne	r3, #0
 7685 00f6 DBB2     		uxtb	r3, r3
 7686 00f8 1A46     		mov	r2, r3
3974:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7687              		.loc 1 3974 57
 7688 00fa FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7689 00fc 9A42     		cmp	r2, r3
 7690 00fe 9BD1     		bne	.L363
4013:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4014:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4015:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4016:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 7691              		.loc 1 4016 10
 7692 0100 0023     		movs	r3, #0
 7693              	.L361:
4017:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7694              		.loc 1 4017 1
 7695 0102 1846     		mov	r0, r3
 7696 0104 2037     		adds	r7, r7, #32
 7697              	.LCFI254:
 7698              		.cfi_def_cfa_offset 8
 7699 0106 BD46     		mov	sp, r7
 7700              	.LCFI255:
 7701              		.cfi_def_cfa_register 13
 7702              		@ sp needed
 7703 0108 80BD     		pop	{r7, pc}
 7704              	.L365:
 7705 010a 00BF     		.align	2
 7706              	.L364:
 7707 010c 00000000 		.word	SystemCoreClock
 7708              		.cfi_endproc
 7709              	.LFE179:
 7711              		.section	.text.SPI_WaitFifoStateUntilTimeout,"ax",%progbits
 7712              		.align	1
 7713              		.syntax unified
 7714              		.thumb
 7715              		.thumb_func
 7717              	SPI_WaitFifoStateUntilTimeout:
 7718              	.LFB180:
4018:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4019:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4020:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle SPI FIFO Communication Timeout.
4021:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4022:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *              the configuration information for SPI module.
4023:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Fifo Fifo to check
4024:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  State Fifo state to check
4025:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4026:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Tickstart tick start value
4027:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
4028:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4029:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
4030:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
4031:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7719              		.loc 1 4031 1
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 206


 7720              		.cfi_startproc
 7721              		@ args = 4, pretend = 0, frame = 40
 7722              		@ frame_needed = 1, uses_anonymous_args = 0
 7723 0000 80B5     		push	{r7, lr}
 7724              	.LCFI256:
 7725              		.cfi_def_cfa_offset 8
 7726              		.cfi_offset 7, -8
 7727              		.cfi_offset 14, -4
 7728 0002 8AB0     		sub	sp, sp, #40
 7729              	.LCFI257:
 7730              		.cfi_def_cfa_offset 48
 7731 0004 00AF     		add	r7, sp, #0
 7732              	.LCFI258:
 7733              		.cfi_def_cfa_register 7
 7734 0006 F860     		str	r0, [r7, #12]
 7735 0008 B960     		str	r1, [r7, #8]
 7736 000a 7A60     		str	r2, [r7, #4]
 7737 000c 3B60     		str	r3, [r7]
4032:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
4033:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tmp_timeout;
4034:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tmp_tickstart;
4035:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
4036:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 7738              		.loc 1 4036 17
 7739 000e 0023     		movs	r3, #0
 7740 0010 FB75     		strb	r3, [r7, #23]
4037:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4038:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
4039:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_timeout = Timeout - (HAL_GetTick() - Tickstart);
 7741              		.loc 1 4039 28
 7742 0012 FFF7FEFF 		bl	HAL_GetTick
 7743 0016 0246     		mov	r2, r0
 7744              		.loc 1 4039 42 discriminator 1
 7745 0018 3B6B     		ldr	r3, [r7, #48]
 7746 001a 9B1A     		subs	r3, r3, r2
 7747              		.loc 1 4039 15 discriminator 1
 7748 001c 3A68     		ldr	r2, [r7]
 7749 001e 1344     		add	r3, r3, r2
 7750 0020 7B62     		str	r3, [r7, #36]
4040:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 7751              		.loc 1 4040 19
 7752 0022 FFF7FEFF 		bl	HAL_GetTick
 7753 0026 3862     		str	r0, [r7, #32]
4041:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4042:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
4043:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 7754              		.loc 1 4043 35
 7755 0028 FB68     		ldr	r3, [r7, #12]
 7756 002a 1B68     		ldr	r3, [r3]
 7757              		.loc 1 4043 12
 7758 002c 0C33     		adds	r3, r3, #12
 7759 002e FB61     		str	r3, [r7, #28]
4044:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4045:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
4046:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 35U) >> 20U);
 7760              		.loc 1 4046 43
 7761 0030 3D4B     		ldr	r3, .L378
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 207


 7762 0032 1A68     		ldr	r2, [r3]
 7763 0034 1346     		mov	r3, r2
 7764 0036 9B00     		lsls	r3, r3, #2
 7765 0038 1344     		add	r3, r3, r2
 7766 003a DA00     		lsls	r2, r3, #3
 7767 003c D31A     		subs	r3, r2, r3
 7768              		.loc 1 4046 50
 7769 003e 1B0D     		lsrs	r3, r3, #20
 7770              		.loc 1 4046 23
 7771 0040 7A6A     		ldr	r2, [r7, #36]
 7772 0042 02FB03F3 		mul	r3, r2, r3
 7773              		.loc 1 4046 9
 7774 0046 BB61     		str	r3, [r7, #24]
4047:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   while ((hspi->Instance->SR & Fifo) != State)
 7775              		.loc 1 4048 9
 7776 0048 60E0     		b	.L369
 7777              	.L377:
4049:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4050:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if ((Fifo == SPI_SR_FRLVL) && (State == SPI_FRLVL_EMPTY))
 7778              		.loc 1 4050 8
 7779 004a BB68     		ldr	r3, [r7, #8]
 7780 004c B3F5C06F 		cmp	r3, #1536
 7781 0050 07D1     		bne	.L368
 7782              		.loc 1 4050 32 discriminator 1
 7783 0052 7B68     		ldr	r3, [r7, #4]
 7784 0054 002B     		cmp	r3, #0
 7785 0056 04D1     		bne	.L368
4051:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4052:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Flush Data Register by a blank read */
4053:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
 7786              		.loc 1 4053 17
 7787 0058 FB69     		ldr	r3, [r7, #28]
 7788 005a 1B78     		ldrb	r3, [r3]
 7789 005c DBB2     		uxtb	r3, r3
 7790              		.loc 1 4053 15
 7791 005e FB75     		strb	r3, [r7, #23]
4054:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* To avoid GCC warning */
4055:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       UNUSED(tmpreg8);
 7792              		.loc 1 4055 7
 7793 0060 FB7D     		ldrb	r3, [r7, #23]
 7794              	.L368:
4056:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4057:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4058:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
 7795              		.loc 1 4058 8
 7796 0062 3B68     		ldr	r3, [r7]
 7797 0064 B3F1FF3F 		cmp	r3, #-1
 7798 0068 50D0     		beq	.L369
4059:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4060:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 7799              		.loc 1 4060 13
 7800 006a FFF7FEFF 		bl	HAL_GetTick
 7801 006e 0246     		mov	r2, r0
 7802              		.loc 1 4060 27 discriminator 1
 7803 0070 3B6A     		ldr	r3, [r7, #32]
 7804 0072 D31A     		subs	r3, r2, r3
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 208


 7805              		.loc 1 4060 10 discriminator 1
 7806 0074 7A6A     		ldr	r2, [r7, #36]
 7807 0076 9A42     		cmp	r2, r3
 7808 0078 02D9     		bls	.L370
 7809              		.loc 1 4060 60 discriminator 1
 7810 007a 7B6A     		ldr	r3, [r7, #36]
 7811 007c 002B     		cmp	r3, #0
 7812 007e 3DD1     		bne	.L371
 7813              	.L370:
4061:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4062:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
4063:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
4064:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****            and slave for their respective CRC calculation */
4065:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4066:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
4067:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 7814              		.loc 1 4067 9
 7815 0080 FB68     		ldr	r3, [r7, #12]
 7816 0082 1B68     		ldr	r3, [r3]
 7817 0084 5A68     		ldr	r2, [r3, #4]
 7818 0086 FB68     		ldr	r3, [r7, #12]
 7819 0088 1B68     		ldr	r3, [r3]
 7820 008a 22F0E002 		bic	r2, r2, #224
 7821 008e 5A60     		str	r2, [r3, #4]
4068:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4069:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 7822              		.loc 1 4069 24
 7823 0090 FB68     		ldr	r3, [r7, #12]
 7824 0092 5B68     		ldr	r3, [r3, #4]
 7825              		.loc 1 4069 12
 7826 0094 B3F5827F 		cmp	r3, #260
 7827 0098 11D1     		bne	.L372
 7828              		.loc 1 4069 65 discriminator 1
 7829 009a FB68     		ldr	r3, [r7, #12]
 7830 009c 9B68     		ldr	r3, [r3, #8]
 7831              		.loc 1 4069 50 discriminator 1
 7832 009e B3F5004F 		cmp	r3, #32768
 7833 00a2 04D0     		beq	.L373
4070:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 7834              		.loc 1 4070 68
 7835 00a4 FB68     		ldr	r3, [r7, #12]
 7836 00a6 9B68     		ldr	r3, [r3, #8]
 7837              		.loc 1 4070 54
 7838 00a8 B3F5806F 		cmp	r3, #1024
 7839 00ac 07D1     		bne	.L372
 7840              	.L373:
4071:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
4072:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           /* Disable SPI peripheral */
4073:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
 7841              		.loc 1 4073 11
 7842 00ae FB68     		ldr	r3, [r7, #12]
 7843 00b0 1B68     		ldr	r3, [r3]
 7844 00b2 1A68     		ldr	r2, [r3]
 7845 00b4 FB68     		ldr	r3, [r7, #12]
 7846 00b6 1B68     		ldr	r3, [r3]
 7847 00b8 22F04002 		bic	r2, r2, #64
 7848 00bc 1A60     		str	r2, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 209


 7849              	.L372:
4074:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
4075:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4076:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Reset CRC Calculation */
4077:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 7850              		.loc 1 4077 23
 7851 00be FB68     		ldr	r3, [r7, #12]
 7852 00c0 9B6A     		ldr	r3, [r3, #40]
 7853              		.loc 1 4077 12
 7854 00c2 B3F5005F 		cmp	r3, #8192
 7855 00c6 0FD1     		bne	.L374
4078:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         {
4079:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
 7856              		.loc 1 4079 11
 7857 00c8 FB68     		ldr	r3, [r7, #12]
 7858 00ca 1B68     		ldr	r3, [r3]
 7859 00cc 1A68     		ldr	r2, [r3]
 7860 00ce FB68     		ldr	r3, [r7, #12]
 7861 00d0 1B68     		ldr	r3, [r3]
 7862 00d2 22F40052 		bic	r2, r2, #8192
 7863 00d6 1A60     		str	r2, [r3]
 7864 00d8 FB68     		ldr	r3, [r7, #12]
 7865 00da 1B68     		ldr	r3, [r3]
 7866 00dc 1A68     		ldr	r2, [r3]
 7867 00de FB68     		ldr	r3, [r7, #12]
 7868 00e0 1B68     		ldr	r3, [r3]
 7869 00e2 42F40052 		orr	r2, r2, #8192
 7870 00e6 1A60     		str	r2, [r3]
 7871              	.L374:
4080:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         }
4081:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4082:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 7872              		.loc 1 4082 21
 7873 00e8 FB68     		ldr	r3, [r7, #12]
 7874 00ea 0122     		movs	r2, #1
 7875 00ec 83F85D20 		strb	r2, [r3, #93]
4083:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4084:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Process Unlocked */
4085:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 7876              		.loc 1 4085 9
 7877 00f0 FB68     		ldr	r3, [r7, #12]
 7878 00f2 0022     		movs	r2, #0
 7879 00f4 83F85C20 		strb	r2, [r3, #92]
4086:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4087:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         return HAL_TIMEOUT;
 7880              		.loc 1 4087 16
 7881 00f8 0323     		movs	r3, #3
 7882 00fa 10E0     		b	.L375
 7883              	.L371:
4088:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4089:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
4090:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 7884              		.loc 1 4090 17
 7885 00fc BB69     		ldr	r3, [r7, #24]
 7886              		.loc 1 4090 10
 7887 00fe 002B     		cmp	r3, #0
 7888 0100 01D1     		bne	.L376
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 210


4091:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4092:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         tmp_timeout = 0U;
 7889              		.loc 1 4092 21
 7890 0102 0023     		movs	r3, #0
 7891 0104 7B62     		str	r3, [r7, #36]
 7892              	.L376:
4093:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4094:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 7893              		.loc 1 4094 12
 7894 0106 BB69     		ldr	r3, [r7, #24]
 7895 0108 013B     		subs	r3, r3, #1
 7896 010a BB61     		str	r3, [r7, #24]
 7897              	.L369:
4048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7898              		.loc 1 4048 15
 7899 010c FB68     		ldr	r3, [r7, #12]
 7900 010e 1B68     		ldr	r3, [r3]
4048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7901              		.loc 1 4048 25
 7902 0110 9A68     		ldr	r2, [r3, #8]
4048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7903              		.loc 1 4048 30
 7904 0112 BB68     		ldr	r3, [r7, #8]
 7905 0114 1340     		ands	r3, r3, r2
4048:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
 7906              		.loc 1 4048 38
 7907 0116 7A68     		ldr	r2, [r7, #4]
 7908 0118 9A42     		cmp	r2, r3
 7909 011a 96D1     		bne	.L377
4095:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4096:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4097:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4098:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 7910              		.loc 1 4098 10
 7911 011c 0023     		movs	r3, #0
 7912              	.L375:
4099:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 7913              		.loc 1 4099 1
 7914 011e 1846     		mov	r0, r3
 7915 0120 2837     		adds	r7, r7, #40
 7916              	.LCFI259:
 7917              		.cfi_def_cfa_offset 8
 7918 0122 BD46     		mov	sp, r7
 7919              	.LCFI260:
 7920              		.cfi_def_cfa_register 13
 7921              		@ sp needed
 7922 0124 80BD     		pop	{r7, pc}
 7923              	.L379:
 7924 0126 00BF     		.align	2
 7925              	.L378:
 7926 0128 00000000 		.word	SystemCoreClock
 7927              		.cfi_endproc
 7928              	.LFE180:
 7930              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 7931              		.align	1
 7932              		.syntax unified
 7933              		.thumb
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 211


 7934              		.thumb_func
 7936              	SPI_EndRxTransaction:
 7937              	.LFB181:
4100:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4101:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4102:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
4103:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4104:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4105:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4106:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Tickstart tick start value
4107:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
4108:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4109:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
4110:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 7938              		.loc 1 4110 1
 7939              		.cfi_startproc
 7940              		@ args = 0, pretend = 0, frame = 16
 7941              		@ frame_needed = 1, uses_anonymous_args = 0
 7942 0000 80B5     		push	{r7, lr}
 7943              	.LCFI261:
 7944              		.cfi_def_cfa_offset 8
 7945              		.cfi_offset 7, -8
 7946              		.cfi_offset 14, -4
 7947 0002 86B0     		sub	sp, sp, #24
 7948              	.LCFI262:
 7949              		.cfi_def_cfa_offset 32
 7950 0004 02AF     		add	r7, sp, #8
 7951              	.LCFI263:
 7952              		.cfi_def_cfa 7, 24
 7953 0006 F860     		str	r0, [r7, #12]
 7954 0008 B960     		str	r1, [r7, #8]
 7955 000a 7A60     		str	r2, [r7, #4]
4111:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 7956              		.loc 1 4111 18
 7957 000c FB68     		ldr	r3, [r7, #12]
 7958 000e 5B68     		ldr	r3, [r3, #4]
 7959              		.loc 1 4111 6
 7960 0010 B3F5827F 		cmp	r3, #260
 7961 0014 11D1     		bne	.L381
 7962              		.loc 1 4111 59 discriminator 1
 7963 0016 FB68     		ldr	r3, [r7, #12]
 7964 0018 9B68     		ldr	r3, [r3, #8]
 7965              		.loc 1 4111 44 discriminator 1
 7966 001a B3F5004F 		cmp	r3, #32768
 7967 001e 04D0     		beq	.L382
4112:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 7968              		.loc 1 4112 62
 7969 0020 FB68     		ldr	r3, [r7, #12]
 7970 0022 9B68     		ldr	r3, [r3, #8]
 7971              		.loc 1 4112 48
 7972 0024 B3F5806F 		cmp	r3, #1024
 7973 0028 07D1     		bne	.L381
 7974              	.L382:
4113:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4114:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable SPI peripheral */
4115:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 7975              		.loc 1 4115 5
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 212


 7976 002a FB68     		ldr	r3, [r7, #12]
 7977 002c 1B68     		ldr	r3, [r3]
 7978 002e 1A68     		ldr	r2, [r3]
 7979 0030 FB68     		ldr	r3, [r7, #12]
 7980 0032 1B68     		ldr	r3, [r3]
 7981 0034 22F04002 		bic	r2, r2, #64
 7982 0038 1A60     		str	r2, [r3]
 7983              	.L381:
4116:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4117:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4118:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control the BSY flag */
4119:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 7984              		.loc 1 4119 7
 7985 003a 7B68     		ldr	r3, [r7, #4]
 7986 003c 0093     		str	r3, [sp]
 7987 003e BB68     		ldr	r3, [r7, #8]
 7988 0040 0022     		movs	r2, #0
 7989 0042 8021     		movs	r1, #128
 7990 0044 F868     		ldr	r0, [r7, #12]
 7991 0046 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 7992 004a 0346     		mov	r3, r0
 7993              		.loc 1 4119 6 discriminator 1
 7994 004c 002B     		cmp	r3, #0
 7995 004e 07D0     		beq	.L383
4120:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4121:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 7996              		.loc 1 4121 5
 7997 0050 FB68     		ldr	r3, [r7, #12]
 7998 0052 1B6E     		ldr	r3, [r3, #96]
 7999 0054 43F02002 		orr	r2, r3, #32
 8000 0058 FB68     		ldr	r3, [r7, #12]
 8001 005a 1A66     		str	r2, [r3, #96]
4122:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_TIMEOUT;
 8002              		.loc 1 4122 12
 8003 005c 0323     		movs	r3, #3
 8004 005e 23E0     		b	.L384
 8005              	.L383:
4123:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4124:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4125:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 8006              		.loc 1 4125 18
 8007 0060 FB68     		ldr	r3, [r7, #12]
 8008 0062 5B68     		ldr	r3, [r3, #4]
 8009              		.loc 1 4125 6
 8010 0064 B3F5827F 		cmp	r3, #260
 8011 0068 1DD1     		bne	.L385
 8012              		.loc 1 4125 59 discriminator 1
 8013 006a FB68     		ldr	r3, [r7, #12]
 8014 006c 9B68     		ldr	r3, [r3, #8]
 8015              		.loc 1 4125 44 discriminator 1
 8016 006e B3F5004F 		cmp	r3, #32768
 8017 0072 04D0     		beq	.L386
4126:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 8018              		.loc 1 4126 62
 8019 0074 FB68     		ldr	r3, [r7, #12]
 8020 0076 9B68     		ldr	r3, [r3, #8]
 8021              		.loc 1 4126 48
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 213


 8022 0078 B3F5806F 		cmp	r3, #1024
 8023 007c 13D1     		bne	.L385
 8024              	.L386:
4127:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4128:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4129:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) !=
 8025              		.loc 1 4129 9
 8026 007e 7B68     		ldr	r3, [r7, #4]
 8027 0080 0093     		str	r3, [sp]
 8028 0082 BB68     		ldr	r3, [r7, #8]
 8029 0084 0022     		movs	r2, #0
 8030 0086 4FF4C061 		mov	r1, #1536
 8031 008a F868     		ldr	r0, [r7, #12]
 8032 008c FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8033 0090 0346     		mov	r3, r0
 8034              		.loc 1 4129 8 discriminator 1
 8035 0092 002B     		cmp	r3, #0
 8036 0094 07D0     		beq	.L385
4130:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4131:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8037              		.loc 1 4131 7
 8038 0096 FB68     		ldr	r3, [r7, #12]
 8039 0098 1B6E     		ldr	r3, [r3, #96]
 8040 009a 43F02002 		orr	r2, r3, #32
 8041 009e FB68     		ldr	r3, [r7, #12]
 8042 00a0 1A66     		str	r2, [r3, #96]
4132:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       return HAL_TIMEOUT;
 8043              		.loc 1 4132 14
 8044 00a2 0323     		movs	r3, #3
 8045 00a4 00E0     		b	.L384
 8046              	.L385:
4133:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4134:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4135:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 8047              		.loc 1 4135 10
 8048 00a6 0023     		movs	r3, #0
 8049              	.L384:
4136:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8050              		.loc 1 4136 1
 8051 00a8 1846     		mov	r0, r3
 8052 00aa 1037     		adds	r7, r7, #16
 8053              	.LCFI264:
 8054              		.cfi_def_cfa_offset 8
 8055 00ac BD46     		mov	sp, r7
 8056              	.LCFI265:
 8057              		.cfi_def_cfa_register 13
 8058              		@ sp needed
 8059 00ae 80BD     		pop	{r7, pc}
 8060              		.cfi_endproc
 8061              	.LFE181:
 8063              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 8064              		.align	1
 8065              		.syntax unified
 8066              		.thumb
 8067              		.thumb_func
 8069              	SPI_EndRxTxTransaction:
 8070              	.LFB182:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 214


4137:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4138:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4139:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
4140:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi SPI handle
4141:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4142:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  Tickstart tick start value
4143:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval HAL status
4144:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4145:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
4146:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8071              		.loc 1 4146 1
 8072              		.cfi_startproc
 8073              		@ args = 0, pretend = 0, frame = 16
 8074              		@ frame_needed = 1, uses_anonymous_args = 0
 8075 0000 80B5     		push	{r7, lr}
 8076              	.LCFI266:
 8077              		.cfi_def_cfa_offset 8
 8078              		.cfi_offset 7, -8
 8079              		.cfi_offset 14, -4
 8080 0002 86B0     		sub	sp, sp, #24
 8081              	.LCFI267:
 8082              		.cfi_def_cfa_offset 32
 8083 0004 02AF     		add	r7, sp, #8
 8084              	.LCFI268:
 8085              		.cfi_def_cfa 7, 24
 8086 0006 F860     		str	r0, [r7, #12]
 8087 0008 B960     		str	r1, [r7, #8]
 8088 000a 7A60     		str	r2, [r7, #4]
4147:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control if the TX fifo is empty */
4148:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FTLVL, SPI_FTLVL_EMPTY, Timeout, Tickstart) != H
 8089              		.loc 1 4148 7
 8090 000c 7B68     		ldr	r3, [r7, #4]
 8091 000e 0093     		str	r3, [sp]
 8092 0010 BB68     		ldr	r3, [r7, #8]
 8093 0012 0022     		movs	r2, #0
 8094 0014 4FF4C051 		mov	r1, #6144
 8095 0018 F868     		ldr	r0, [r7, #12]
 8096 001a FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8097 001e 0346     		mov	r3, r0
 8098              		.loc 1 4148 6 discriminator 1
 8099 0020 002B     		cmp	r3, #0
 8100 0022 07D0     		beq	.L388
4149:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4150:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8101              		.loc 1 4150 5
 8102 0024 FB68     		ldr	r3, [r7, #12]
 8103 0026 1B6E     		ldr	r3, [r3, #96]
 8104 0028 43F02002 		orr	r2, r3, #32
 8105 002c FB68     		ldr	r3, [r7, #12]
 8106 002e 1A66     		str	r2, [r3, #96]
4151:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_TIMEOUT;
 8107              		.loc 1 4151 12
 8108 0030 0323     		movs	r3, #3
 8109 0032 27E0     		b	.L389
 8110              	.L388:
4152:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4153:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 215


4154:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control the BSY flag */
4155:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 8111              		.loc 1 4155 7
 8112 0034 7B68     		ldr	r3, [r7, #4]
 8113 0036 0093     		str	r3, [sp]
 8114 0038 BB68     		ldr	r3, [r7, #8]
 8115 003a 0022     		movs	r2, #0
 8116 003c 8021     		movs	r1, #128
 8117 003e F868     		ldr	r0, [r7, #12]
 8118 0040 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 8119 0044 0346     		mov	r3, r0
 8120              		.loc 1 4155 6 discriminator 1
 8121 0046 002B     		cmp	r3, #0
 8122 0048 07D0     		beq	.L390
4156:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4157:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8123              		.loc 1 4157 5
 8124 004a FB68     		ldr	r3, [r7, #12]
 8125 004c 1B6E     		ldr	r3, [r3, #96]
 8126 004e 43F02002 		orr	r2, r3, #32
 8127 0052 FB68     		ldr	r3, [r7, #12]
 8128 0054 1A66     		str	r2, [r3, #96]
4158:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_TIMEOUT;
 8129              		.loc 1 4158 12
 8130 0056 0323     		movs	r3, #3
 8131 0058 14E0     		b	.L389
 8132              	.L390:
4159:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4160:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4161:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control if the RX fifo is empty */
4162:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) != H
 8133              		.loc 1 4162 7
 8134 005a 7B68     		ldr	r3, [r7, #4]
 8135 005c 0093     		str	r3, [sp]
 8136 005e BB68     		ldr	r3, [r7, #8]
 8137 0060 0022     		movs	r2, #0
 8138 0062 4FF4C061 		mov	r1, #1536
 8139 0066 F868     		ldr	r0, [r7, #12]
 8140 0068 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8141 006c 0346     		mov	r3, r0
 8142              		.loc 1 4162 6 discriminator 1
 8143 006e 002B     		cmp	r3, #0
 8144 0070 07D0     		beq	.L391
4163:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4164:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8145              		.loc 1 4164 5
 8146 0072 FB68     		ldr	r3, [r7, #12]
 8147 0074 1B6E     		ldr	r3, [r3, #96]
 8148 0076 43F02002 		orr	r2, r3, #32
 8149 007a FB68     		ldr	r3, [r7, #12]
 8150 007c 1A66     		str	r2, [r3, #96]
4165:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     return HAL_TIMEOUT;
 8151              		.loc 1 4165 12
 8152 007e 0323     		movs	r3, #3
 8153 0080 00E0     		b	.L389
 8154              	.L391:
4166:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 216


4167:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4168:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   return HAL_OK;
 8155              		.loc 1 4168 10
 8156 0082 0023     		movs	r3, #0
 8157              	.L389:
4169:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8158              		.loc 1 4169 1
 8159 0084 1846     		mov	r0, r3
 8160 0086 1037     		adds	r7, r7, #16
 8161              	.LCFI269:
 8162              		.cfi_def_cfa_offset 8
 8163 0088 BD46     		mov	sp, r7
 8164              	.LCFI270:
 8165              		.cfi_def_cfa_register 13
 8166              		@ sp needed
 8167 008a 80BD     		pop	{r7, pc}
 8168              		.cfi_endproc
 8169              	.LFE182:
 8171              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 8172              		.align	1
 8173              		.syntax unified
 8174              		.thumb
 8175              		.thumb_func
 8177              	SPI_CloseRxTx_ISR:
 8178              	.LFB183:
4170:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4171:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4172:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
4173:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4174:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4175:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
4176:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4177:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
4178:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8179              		.loc 1 4178 1
 8180              		.cfi_startproc
 8181              		@ args = 0, pretend = 0, frame = 16
 8182              		@ frame_needed = 1, uses_anonymous_args = 0
 8183 0000 80B5     		push	{r7, lr}
 8184              	.LCFI271:
 8185              		.cfi_def_cfa_offset 8
 8186              		.cfi_offset 7, -8
 8187              		.cfi_offset 14, -4
 8188 0002 84B0     		sub	sp, sp, #16
 8189              	.LCFI272:
 8190              		.cfi_def_cfa_offset 24
 8191 0004 00AF     		add	r7, sp, #0
 8192              	.LCFI273:
 8193              		.cfi_def_cfa_register 7
 8194 0006 7860     		str	r0, [r7, #4]
4179:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
4180:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4181:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management */
4182:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 8195              		.loc 1 4182 15
 8196 0008 FFF7FEFF 		bl	HAL_GetTick
 8197 000c F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 217


4183:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4184:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable ERR interrupt */
4185:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 8198              		.loc 1 4185 3
 8199 000e 7B68     		ldr	r3, [r7, #4]
 8200 0010 1B68     		ldr	r3, [r3]
 8201 0012 5A68     		ldr	r2, [r3, #4]
 8202 0014 7B68     		ldr	r3, [r7, #4]
 8203 0016 1B68     		ldr	r3, [r3]
 8204 0018 22F02002 		bic	r2, r2, #32
 8205 001c 5A60     		str	r2, [r3, #4]
4186:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4187:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
4188:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 8206              		.loc 1 4188 7
 8207 001e FA68     		ldr	r2, [r7, #12]
 8208 0020 6421     		movs	r1, #100
 8209 0022 7868     		ldr	r0, [r7, #4]
 8210 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 8211 0028 0346     		mov	r3, r0
 8212              		.loc 1 4188 6 discriminator 1
 8213 002a 002B     		cmp	r3, #0
 8214 002c 05D0     		beq	.L393
4189:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4190:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8215              		.loc 1 4190 5
 8216 002e 7B68     		ldr	r3, [r7, #4]
 8217 0030 1B6E     		ldr	r3, [r3, #96]
 8218 0032 43F02002 		orr	r2, r3, #32
 8219 0036 7B68     		ldr	r3, [r7, #4]
 8220 0038 1A66     		str	r2, [r3, #96]
 8221              	.L393:
4191:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4192:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4193:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4194:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if CRC error occurred */
4195:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
4196:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4197:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
4198:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
4199:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
4200:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call user error callback */
4201:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4202:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4203:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4204:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
4205:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4206:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4207:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
4208:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4209:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4210:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
 8222              		.loc 1 4210 13
 8223 003a 7B68     		ldr	r3, [r7, #4]
 8224 003c 1B6E     		ldr	r3, [r3, #96]
 8225              		.loc 1 4210 8
 8226 003e 002B     		cmp	r3, #0
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 218


 8227 0040 15D1     		bne	.L394
4211:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4212:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
 8228              		.loc 1 4212 15
 8229 0042 7B68     		ldr	r3, [r7, #4]
 8230 0044 93F85D30 		ldrb	r3, [r3, #93]
 8231 0048 DBB2     		uxtb	r3, r3
 8232              		.loc 1 4212 10
 8233 004a 042B     		cmp	r3, #4
 8234 004c 07D1     		bne	.L395
4213:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4214:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 8235              		.loc 1 4214 21
 8236 004e 7B68     		ldr	r3, [r7, #4]
 8237 0050 0122     		movs	r2, #1
 8238 0052 83F85D20 		strb	r2, [r3, #93]
4215:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Call user Rx complete callback */
4216:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4217:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
4218:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4219:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
 8239              		.loc 1 4219 9
 8240 0056 7868     		ldr	r0, [r7, #4]
 8241 0058 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
4220:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4221:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4222:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       else
4223:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
4225:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Call user TxRx complete callback */
4226:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4227:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
4228:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
4230:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4231:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4232:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4233:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
4234:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
4236:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
4237:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4238:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4239:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4241:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4242:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4243:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4244:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4245:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4246:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8242              		.loc 1 4246 1
 8243 005c 0EE0     		b	.L397
 8244              	.L395:
4224:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         /* Call user TxRx complete callback */
 8245              		.loc 1 4224 21
 8246 005e 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 219


 8247 0060 0122     		movs	r2, #1
 8248 0062 83F85D20 		strb	r2, [r3, #93]
4229:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 8249              		.loc 1 4229 9
 8250 0066 7868     		ldr	r0, [r7, #4]
 8251 0068 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 8252              		.loc 1 4246 1
 8253 006c 06E0     		b	.L397
 8254              	.L394:
4235:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
 8255              		.loc 1 4235 19
 8256 006e 7B68     		ldr	r3, [r7, #4]
 8257 0070 0122     		movs	r2, #1
 8258 0072 83F85D20 		strb	r2, [r3, #93]
4240:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 8259              		.loc 1 4240 7
 8260 0076 7868     		ldr	r0, [r7, #4]
 8261 0078 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 8262              	.L397:
 8263              		.loc 1 4246 1
 8264 007c 00BF     		nop
 8265 007e 1037     		adds	r7, r7, #16
 8266              	.LCFI274:
 8267              		.cfi_def_cfa_offset 8
 8268 0080 BD46     		mov	sp, r7
 8269              	.LCFI275:
 8270              		.cfi_def_cfa_register 13
 8271              		@ sp needed
 8272 0082 80BD     		pop	{r7, pc}
 8273              		.cfi_endproc
 8274              	.LFE183:
 8276              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 8277              		.align	1
 8278              		.syntax unified
 8279              		.thumb
 8280              		.thumb_func
 8282              	SPI_CloseRx_ISR:
 8283              	.LFB184:
4247:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4248:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4249:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
4250:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4251:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4252:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
4253:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4254:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
4255:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8284              		.loc 1 4255 1
 8285              		.cfi_startproc
 8286              		@ args = 0, pretend = 0, frame = 8
 8287              		@ frame_needed = 1, uses_anonymous_args = 0
 8288 0000 80B5     		push	{r7, lr}
 8289              	.LCFI276:
 8290              		.cfi_def_cfa_offset 8
 8291              		.cfi_offset 7, -8
 8292              		.cfi_offset 14, -4
 8293 0002 82B0     		sub	sp, sp, #8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 220


 8294              	.LCFI277:
 8295              		.cfi_def_cfa_offset 16
 8296 0004 00AF     		add	r7, sp, #0
 8297              	.LCFI278:
 8298              		.cfi_def_cfa_register 7
 8299 0006 7860     		str	r0, [r7, #4]
4256:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
4257:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 8300              		.loc 1 4257 3
 8301 0008 7B68     		ldr	r3, [r7, #4]
 8302 000a 1B68     		ldr	r3, [r3]
 8303 000c 5A68     		ldr	r2, [r3, #4]
 8304 000e 7B68     		ldr	r3, [r7, #4]
 8305 0010 1B68     		ldr	r3, [r3]
 8306 0012 22F06002 		bic	r2, r2, #96
 8307 0016 5A60     		str	r2, [r3, #4]
4258:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4259:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
4260:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 8308              		.loc 1 4260 7
 8309 0018 FFF7FEFF 		bl	HAL_GetTick
 8310 001c 0346     		mov	r3, r0
 8311              		.loc 1 4260 7 is_stmt 0 discriminator 1
 8312 001e 1A46     		mov	r2, r3
 8313 0020 6421     		movs	r1, #100
 8314 0022 7868     		ldr	r0, [r7, #4]
 8315 0024 FFF7FEFF 		bl	SPI_EndRxTransaction
 8316 0028 0346     		mov	r3, r0
 8317              		.loc 1 4260 6 is_stmt 1 discriminator 2
 8318 002a 002B     		cmp	r3, #0
 8319 002c 05D0     		beq	.L399
4261:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4262:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8320              		.loc 1 4262 5
 8321 002e 7B68     		ldr	r3, [r7, #4]
 8322 0030 1B6E     		ldr	r3, [r3, #96]
 8323 0032 43F02002 		orr	r2, r3, #32
 8324 0036 7B68     		ldr	r3, [r7, #4]
 8325 0038 1A66     		str	r2, [r3, #96]
 8326              	.L399:
4263:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4264:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 8327              		.loc 1 4264 15
 8328 003a 7B68     		ldr	r3, [r7, #4]
 8329 003c 0122     		movs	r2, #1
 8330 003e 83F85D20 		strb	r2, [r3, #93]
4265:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4266:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4267:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check if CRC error occurred */
4268:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
4269:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4270:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
4271:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
4272:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call user error callback */
4273:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4274:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4275:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 221


4276:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
4277:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4278:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4279:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
4280:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4281:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4282:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
 8331              		.loc 1 4282 13
 8332 0042 7B68     		ldr	r3, [r7, #4]
 8333 0044 1B6E     		ldr	r3, [r3, #96]
 8334              		.loc 1 4282 8
 8335 0046 002B     		cmp	r3, #0
 8336 0048 03D1     		bne	.L400
4283:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4284:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user Rx complete callback */
4285:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4286:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
4287:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4288:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
 8337              		.loc 1 4288 7
 8338 004a 7868     		ldr	r0, [r7, #4]
 8339 004c FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
4289:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4290:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4291:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     else
4292:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4293:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       /* Call user error callback */
4294:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4295:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4296:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4298:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4299:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4300:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4301:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4302:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4303:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8340              		.loc 1 4303 1
 8341 0050 02E0     		b	.L402
 8342              	.L400:
4297:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 8343              		.loc 1 4297 7
 8344 0052 7868     		ldr	r0, [r7, #4]
 8345 0054 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 8346              	.L402:
 8347              		.loc 1 4303 1
 8348 0058 00BF     		nop
 8349 005a 0837     		adds	r7, r7, #8
 8350              	.LCFI279:
 8351              		.cfi_def_cfa_offset 8
 8352 005c BD46     		mov	sp, r7
 8353              	.LCFI280:
 8354              		.cfi_def_cfa_register 13
 8355              		@ sp needed
 8356 005e 80BD     		pop	{r7, pc}
 8357              		.cfi_endproc
 8358              	.LFE184:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 222


 8360              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 8361              		.align	1
 8362              		.syntax unified
 8363              		.thumb
 8364              		.thumb_func
 8366              	SPI_CloseTx_ISR:
 8367              	.LFB185:
4304:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4305:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4306:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
4307:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4308:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4309:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
4310:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4311:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
4312:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8368              		.loc 1 4312 1
 8369              		.cfi_startproc
 8370              		@ args = 0, pretend = 0, frame = 16
 8371              		@ frame_needed = 1, uses_anonymous_args = 0
 8372 0000 80B5     		push	{r7, lr}
 8373              	.LCFI281:
 8374              		.cfi_def_cfa_offset 8
 8375              		.cfi_offset 7, -8
 8376              		.cfi_offset 14, -4
 8377 0002 84B0     		sub	sp, sp, #16
 8378              	.LCFI282:
 8379              		.cfi_def_cfa_offset 24
 8380 0004 00AF     		add	r7, sp, #0
 8381              	.LCFI283:
 8382              		.cfi_def_cfa_register 7
 8383 0006 7860     		str	r0, [r7, #4]
4313:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   uint32_t tickstart;
4314:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4315:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
4316:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 8384              		.loc 1 4316 15
 8385 0008 FFF7FEFF 		bl	HAL_GetTick
 8386 000c F860     		str	r0, [r7, #12]
4317:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4318:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
4319:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 8387              		.loc 1 4319 3
 8388 000e 7B68     		ldr	r3, [r7, #4]
 8389 0010 1B68     		ldr	r3, [r3]
 8390 0012 5A68     		ldr	r2, [r3, #4]
 8391 0014 7B68     		ldr	r3, [r7, #4]
 8392 0016 1B68     		ldr	r3, [r3]
 8393 0018 22F0A002 		bic	r2, r2, #160
 8394 001c 5A60     		str	r2, [r3, #4]
4320:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4321:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check the end of the transaction */
4322:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 8395              		.loc 1 4322 7
 8396 001e FA68     		ldr	r2, [r7, #12]
 8397 0020 6421     		movs	r1, #100
 8398 0022 7868     		ldr	r0, [r7, #4]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 223


 8399 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 8400 0028 0346     		mov	r3, r0
 8401              		.loc 1 4322 6 discriminator 1
 8402 002a 002B     		cmp	r3, #0
 8403 002c 05D0     		beq	.L404
4323:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4324:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 8404              		.loc 1 4324 5
 8405 002e 7B68     		ldr	r3, [r7, #4]
 8406 0030 1B6E     		ldr	r3, [r3, #96]
 8407 0032 43F02002 		orr	r2, r3, #32
 8408 0036 7B68     		ldr	r3, [r7, #4]
 8409 0038 1A66     		str	r2, [r3, #96]
 8410              	.L404:
4325:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4326:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4327:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
4328:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 8411              		.loc 1 4328 17
 8412 003a 7B68     		ldr	r3, [r7, #4]
 8413 003c 9B68     		ldr	r3, [r3, #8]
 8414              		.loc 1 4328 6
 8415 003e 002B     		cmp	r3, #0
 8416 0040 0AD1     		bne	.L405
 8417              	.LBB16:
4329:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4330:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 8418              		.loc 1 4330 5
 8419 0042 0023     		movs	r3, #0
 8420 0044 BB60     		str	r3, [r7, #8]
 8421 0046 7B68     		ldr	r3, [r7, #4]
 8422 0048 1B68     		ldr	r3, [r3]
 8423 004a DB68     		ldr	r3, [r3, #12]
 8424 004c BB60     		str	r3, [r7, #8]
 8425 004e 7B68     		ldr	r3, [r7, #4]
 8426 0050 1B68     		ldr	r3, [r3]
 8427 0052 9B68     		ldr	r3, [r3, #8]
 8428 0054 BB60     		str	r3, [r7, #8]
 8429 0056 BB68     		ldr	r3, [r7, #8]
 8430              	.L405:
 8431              	.LBE16:
4331:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4332:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4333:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 8432              		.loc 1 4333 15
 8433 0058 7B68     		ldr	r3, [r7, #4]
 8434 005a 0122     		movs	r2, #1
 8435 005c 83F85D20 		strb	r2, [r3, #93]
4334:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 8436              		.loc 1 4334 11
 8437 0060 7B68     		ldr	r3, [r7, #4]
 8438 0062 1B6E     		ldr	r3, [r3, #96]
 8439              		.loc 1 4334 6
 8440 0064 002B     		cmp	r3, #0
 8441 0066 03D0     		beq	.L406
4335:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4336:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call user error callback */
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 224


4337:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4338:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4339:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4340:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 8442              		.loc 1 4340 5
 8443 0068 7868     		ldr	r0, [r7, #4]
 8444 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
4341:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4342:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4343:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   else
4344:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4345:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Call user Rx complete callback */
4346:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4347:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
4348:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #else
4349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
4350:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4351:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4352:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8445              		.loc 1 4352 1
 8446 006e 02E0     		b	.L408
 8447              	.L406:
4349:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 8448              		.loc 1 4349 5
 8449 0070 7868     		ldr	r0, [r7, #4]
 8450 0072 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 8451              	.L408:
 8452              		.loc 1 4352 1
 8453 0076 00BF     		nop
 8454 0078 1037     		adds	r7, r7, #16
 8455              	.LCFI284:
 8456              		.cfi_def_cfa_offset 8
 8457 007a BD46     		mov	sp, r7
 8458              	.LCFI285:
 8459              		.cfi_def_cfa_register 13
 8460              		@ sp needed
 8461 007c 80BD     		pop	{r7, pc}
 8462              		.cfi_endproc
 8463              	.LFE185:
 8465              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
 8466              		.align	1
 8467              		.syntax unified
 8468              		.thumb
 8469              		.thumb_func
 8471              	SPI_AbortRx_ISR:
 8472              	.LFB186:
4353:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4354:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
4355:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
4356:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4357:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4358:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
4359:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4360:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
4361:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8473              		.loc 1 4361 1
 8474              		.cfi_startproc
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 225


 8475              		@ args = 0, pretend = 0, frame = 16
 8476              		@ frame_needed = 1, uses_anonymous_args = 0
 8477 0000 80B5     		push	{r7, lr}
 8478              	.LCFI286:
 8479              		.cfi_def_cfa_offset 8
 8480              		.cfi_offset 7, -8
 8481              		.cfi_offset 14, -4
 8482 0002 86B0     		sub	sp, sp, #24
 8483              	.LCFI287:
 8484              		.cfi_def_cfa_offset 32
 8485 0004 02AF     		add	r7, sp, #8
 8486              	.LCFI288:
 8487              		.cfi_def_cfa 7, 24
 8488 0006 7860     		str	r0, [r7, #4]
4362:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
4363:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4364:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4365:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 8489              		.loc 1 4365 3
 8490 0008 7B68     		ldr	r3, [r7, #4]
 8491 000a 1B68     		ldr	r3, [r3]
 8492 000c 1A68     		ldr	r2, [r3]
 8493 000e 7B68     		ldr	r3, [r7, #4]
 8494 0010 1B68     		ldr	r3, [r3]
 8495 0012 22F04002 		bic	r2, r2, #64
 8496 0016 1A60     		str	r2, [r3]
4366:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4367:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 8497              		.loc 1 4367 56
 8498 0018 274B     		ldr	r3, .L415
 8499 001a 1B68     		ldr	r3, [r3]
 8500 001c 274A     		ldr	r2, .L415+4
 8501 001e A2FB0323 		umull	r2, r3, r2, r3
 8502 0022 5B0A     		lsrs	r3, r3, #9
 8503              		.loc 1 4367 31
 8504 0024 6422     		movs	r2, #100
 8505 0026 02FB03F3 		mul	r3, r2, r3
 8506              		.loc 1 4367 9
 8507 002a FB60     		str	r3, [r7, #12]
4368:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4369:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable RXNEIE interrupt */
4370:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 8508              		.loc 1 4370 3
 8509 002c 7B68     		ldr	r3, [r7, #4]
 8510 002e 1B68     		ldr	r3, [r3]
 8511 0030 5A68     		ldr	r2, [r3, #4]
 8512 0032 7B68     		ldr	r3, [r7, #4]
 8513 0034 1B68     		ldr	r3, [r3]
 8514 0036 22F04002 		bic	r2, r2, #64
 8515 003a 5A60     		str	r2, [r3, #4]
 8516              	.L412:
4371:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4372:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check RXNEIE is disabled */
4373:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   do
4374:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4375:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (count == 0U)
 8517              		.loc 1 4375 15
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 226


 8518 003c FB68     		ldr	r3, [r7, #12]
 8519              		.loc 1 4375 8
 8520 003e 002B     		cmp	r3, #0
 8521 0040 06D1     		bne	.L410
4376:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4377:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 8522              		.loc 1 4377 7
 8523 0042 7B68     		ldr	r3, [r7, #4]
 8524 0044 1B6E     		ldr	r3, [r3, #96]
 8525 0046 43F04002 		orr	r2, r3, #64
 8526 004a 7B68     		ldr	r3, [r7, #4]
 8527 004c 1A66     		str	r2, [r3, #96]
4378:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       break;
 8528              		.loc 1 4378 7
 8529 004e 09E0     		b	.L411
 8530              	.L410:
4379:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4380:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count--;
 8531              		.loc 1 4380 10
 8532 0050 FB68     		ldr	r3, [r7, #12]
 8533 0052 013B     		subs	r3, r3, #1
 8534 0054 FB60     		str	r3, [r7, #12]
4381:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 8535              		.loc 1 4381 12
 8536 0056 7B68     		ldr	r3, [r7, #4]
 8537 0058 1B68     		ldr	r3, [r3]
 8538 005a 5B68     		ldr	r3, [r3, #4]
 8539 005c 03F04003 		and	r3, r3, #64
 8540 0060 402B     		cmp	r3, #64
 8541 0062 EBD0     		beq	.L412
 8542              	.L411:
4382:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4383:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Control the BSY flag */
4384:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
 8543              		.loc 1 4384 7
 8544 0064 FFF7FEFF 		bl	HAL_GetTick
 8545 0068 0346     		mov	r3, r0
 8546              		.loc 1 4384 7 is_stmt 0 discriminator 1
 8547 006a 0093     		str	r3, [sp]
 8548 006c 6423     		movs	r3, #100
 8549 006e 0022     		movs	r2, #0
 8550 0070 8021     		movs	r1, #128
 8551 0072 7868     		ldr	r0, [r7, #4]
 8552 0074 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 8553 0078 0346     		mov	r3, r0
 8554              		.loc 1 4384 6 is_stmt 1 discriminator 2
 8555 007a 002B     		cmp	r3, #0
 8556 007c 02D0     		beq	.L413
4385:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4386:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8557              		.loc 1 4386 21
 8558 007e 7B68     		ldr	r3, [r7, #4]
 8559 0080 4022     		movs	r2, #64
 8560 0082 1A66     		str	r2, [r3, #96]
 8561              	.L413:
4387:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4388:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 227


4389:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4390:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 8562              		.loc 1 4390 7
 8563 0084 FFF7FEFF 		bl	HAL_GetTick
 8564 0088 0346     		mov	r3, r0
 8565              		.loc 1 4390 7 is_stmt 0 discriminator 1
 8566 008a 0093     		str	r3, [sp]
 8567 008c 6423     		movs	r3, #100
 8568 008e 0022     		movs	r2, #0
 8569 0090 4FF4C061 		mov	r1, #1536
 8570 0094 7868     		ldr	r0, [r7, #4]
 8571 0096 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8572 009a 0346     		mov	r3, r0
 8573              		.loc 1 4390 6 is_stmt 1 discriminator 2
 8574 009c 002B     		cmp	r3, #0
 8575 009e 02D0     		beq	.L414
4391:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4392:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8576              		.loc 1 4392 21
 8577 00a0 7B68     		ldr	r3, [r7, #4]
 8578 00a2 4022     		movs	r2, #64
 8579 00a4 1A66     		str	r2, [r3, #96]
 8580              	.L414:
4393:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4394:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4395:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 8581              		.loc 1 4395 15
 8582 00a6 7B68     		ldr	r3, [r7, #4]
 8583 00a8 0722     		movs	r2, #7
 8584 00aa 83F85D20 		strb	r2, [r3, #93]
4396:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8585              		.loc 1 4396 1
 8586 00ae 00BF     		nop
 8587 00b0 1037     		adds	r7, r7, #16
 8588              	.LCFI289:
 8589              		.cfi_def_cfa_offset 8
 8590 00b2 BD46     		mov	sp, r7
 8591              	.LCFI290:
 8592              		.cfi_def_cfa_register 13
 8593              		@ sp needed
 8594 00b4 80BD     		pop	{r7, pc}
 8595              	.L416:
 8596 00b6 00BF     		.align	2
 8597              	.L415:
 8598 00b8 00000000 		.word	SystemCoreClock
 8599 00bc F1197605 		.word	91625969
 8600              		.cfi_endproc
 8601              	.LFE186:
 8603              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 8604              		.align	1
 8605              		.syntax unified
 8606              		.thumb
 8607              		.thumb_func
 8609              	SPI_AbortTx_ISR:
 8610              	.LFB187:
4397:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4398:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** /**
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 228


4399:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
4400:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4401:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   *               the configuration information for SPI module.
4402:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   * @retval None
4403:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   */
4404:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
4405:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** {
 8611              		.loc 1 4405 1
 8612              		.cfi_startproc
 8613              		@ args = 0, pretend = 0, frame = 16
 8614              		@ frame_needed = 1, uses_anonymous_args = 0
 8615 0000 80B5     		push	{r7, lr}
 8616              	.LCFI291:
 8617              		.cfi_def_cfa_offset 8
 8618              		.cfi_offset 7, -8
 8619              		.cfi_offset 14, -4
 8620 0002 86B0     		sub	sp, sp, #24
 8621              	.LCFI292:
 8622              		.cfi_def_cfa_offset 32
 8623 0004 02AF     		add	r7, sp, #8
 8624              	.LCFI293:
 8625              		.cfi_def_cfa 7, 24
 8626 0006 7860     		str	r0, [r7, #4]
4406:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __IO uint32_t count;
4407:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4408:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 8627              		.loc 1 4408 56
 8628 0008 4C4B     		ldr	r3, .L428
 8629 000a 1B68     		ldr	r3, [r3]
 8630 000c 4C4A     		ldr	r2, .L428+4
 8631 000e A2FB0323 		umull	r2, r3, r2, r3
 8632 0012 5B0A     		lsrs	r3, r3, #9
 8633              		.loc 1 4408 31
 8634 0014 6422     		movs	r2, #100
 8635 0016 02FB03F3 		mul	r3, r2, r3
 8636              		.loc 1 4408 9
 8637 001a FB60     		str	r3, [r7, #12]
4409:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4410:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable TXEIE interrupt */
4411:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
 8638              		.loc 1 4411 3
 8639 001c 7B68     		ldr	r3, [r7, #4]
 8640 001e 1B68     		ldr	r3, [r3]
 8641 0020 5A68     		ldr	r2, [r3, #4]
 8642 0022 7B68     		ldr	r3, [r7, #4]
 8643 0024 1B68     		ldr	r3, [r3]
 8644 0026 22F08002 		bic	r2, r2, #128
 8645 002a 5A60     		str	r2, [r3, #4]
 8646              	.L420:
4412:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4413:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check TXEIE is disabled */
4414:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   do
4415:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4416:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (count == 0U)
 8647              		.loc 1 4416 15
 8648 002c FB68     		ldr	r3, [r7, #12]
 8649              		.loc 1 4416 8
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 229


 8650 002e 002B     		cmp	r3, #0
 8651 0030 06D1     		bne	.L418
4417:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4418:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 8652              		.loc 1 4418 7
 8653 0032 7B68     		ldr	r3, [r7, #4]
 8654 0034 1B6E     		ldr	r3, [r3, #96]
 8655 0036 43F04002 		orr	r2, r3, #64
 8656 003a 7B68     		ldr	r3, [r7, #4]
 8657 003c 1A66     		str	r2, [r3, #96]
4419:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       break;
 8658              		.loc 1 4419 7
 8659 003e 09E0     		b	.L419
 8660              	.L418:
4420:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4421:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     count--;
 8661              		.loc 1 4421 10
 8662 0040 FB68     		ldr	r3, [r7, #12]
 8663 0042 013B     		subs	r3, r3, #1
 8664 0044 FB60     		str	r3, [r7, #12]
4422:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE));
 8665              		.loc 1 4422 12
 8666 0046 7B68     		ldr	r3, [r7, #4]
 8667 0048 1B68     		ldr	r3, [r3]
 8668 004a 5B68     		ldr	r3, [r3, #4]
 8669 004c 03F08003 		and	r3, r3, #128
 8670 0050 802B     		cmp	r3, #128
 8671 0052 EBD0     		beq	.L420
 8672              	.L419:
4423:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4424:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 8673              		.loc 1 4424 7
 8674 0054 FFF7FEFF 		bl	HAL_GetTick
 8675 0058 0346     		mov	r3, r0
 8676              		.loc 1 4424 7 is_stmt 0 discriminator 1
 8677 005a 1A46     		mov	r2, r3
 8678 005c 6421     		movs	r1, #100
 8679 005e 7868     		ldr	r0, [r7, #4]
 8680 0060 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 8681 0064 0346     		mov	r3, r0
 8682              		.loc 1 4424 6 is_stmt 1 discriminator 2
 8683 0066 002B     		cmp	r3, #0
 8684 0068 02D0     		beq	.L421
4425:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4426:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8685              		.loc 1 4426 21
 8686 006a 7B68     		ldr	r3, [r7, #4]
 8687 006c 4022     		movs	r2, #64
 8688 006e 1A66     		str	r2, [r3, #96]
 8689              	.L421:
4427:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4428:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4429:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4430:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 8690              		.loc 1 4430 3
 8691 0070 7B68     		ldr	r3, [r7, #4]
 8692 0072 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 230


 8693 0074 1A68     		ldr	r2, [r3]
 8694 0076 7B68     		ldr	r3, [r7, #4]
 8695 0078 1B68     		ldr	r3, [r3]
 8696 007a 22F04002 		bic	r2, r2, #64
 8697 007e 1A60     		str	r2, [r3]
4431:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4432:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4433:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, HAL
 8698              		.loc 1 4433 7
 8699 0080 FFF7FEFF 		bl	HAL_GetTick
 8700 0084 0346     		mov	r3, r0
 8701              		.loc 1 4433 7 is_stmt 0 discriminator 1
 8702 0086 0093     		str	r3, [sp]
 8703 0088 6423     		movs	r3, #100
 8704 008a 0022     		movs	r2, #0
 8705 008c 4FF4C061 		mov	r1, #1536
 8706 0090 7868     		ldr	r0, [r7, #4]
 8707 0092 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8708 0096 0346     		mov	r3, r0
 8709              		.loc 1 4433 6 is_stmt 1 discriminator 2
 8710 0098 002B     		cmp	r3, #0
 8711 009a 02D0     		beq	.L422
4434:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4435:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8712              		.loc 1 4435 21
 8713 009c 7B68     		ldr	r3, [r7, #4]
 8714 009e 4022     		movs	r2, #64
 8715 00a0 1A66     		str	r2, [r3, #96]
 8716              	.L422:
4436:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4437:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4438:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   /* Check case of Full-Duplex Mode and disable directly RXNEIE interrupt */
4439:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 8717              		.loc 1 4439 7
 8718 00a2 7B68     		ldr	r3, [r7, #4]
 8719 00a4 1B68     		ldr	r3, [r3]
 8720 00a6 5B68     		ldr	r3, [r3, #4]
 8721 00a8 03F04003 		and	r3, r3, #64
 8722              		.loc 1 4439 6
 8723 00ac 402B     		cmp	r3, #64
 8724 00ae 3CD1     		bne	.L423
4440:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   {
4441:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Disable RXNEIE interrupt */
4442:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 8725              		.loc 1 4442 5
 8726 00b0 7B68     		ldr	r3, [r7, #4]
 8727 00b2 1B68     		ldr	r3, [r3]
 8728 00b4 5A68     		ldr	r2, [r3, #4]
 8729 00b6 7B68     		ldr	r3, [r7, #4]
 8730 00b8 1B68     		ldr	r3, [r3]
 8731 00ba 22F04002 		bic	r2, r2, #64
 8732 00be 5A60     		str	r2, [r3, #4]
 8733              	.L426:
4443:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4444:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Check RXNEIE is disabled */
4445:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     do
4446:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 231


4447:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       if (count == 0U)
 8734              		.loc 1 4447 17
 8735 00c0 FB68     		ldr	r3, [r7, #12]
 8736              		.loc 1 4447 10
 8737 00c2 002B     		cmp	r3, #0
 8738 00c4 06D1     		bne	.L424
4448:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       {
4449:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 8739              		.loc 1 4449 9
 8740 00c6 7B68     		ldr	r3, [r7, #4]
 8741 00c8 1B6E     		ldr	r3, [r3, #96]
 8742 00ca 43F04002 		orr	r2, r3, #64
 8743 00ce 7B68     		ldr	r3, [r7, #4]
 8744 00d0 1A66     		str	r2, [r3, #96]
4450:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****         break;
 8745              		.loc 1 4450 9
 8746 00d2 09E0     		b	.L425
 8747              	.L424:
4451:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       }
4452:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       count--;
 8748              		.loc 1 4452 12
 8749 00d4 FB68     		ldr	r3, [r7, #12]
 8750 00d6 013B     		subs	r3, r3, #1
 8751 00d8 FB60     		str	r3, [r7, #12]
4453:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 8752              		.loc 1 4453 14
 8753 00da 7B68     		ldr	r3, [r7, #4]
 8754 00dc 1B68     		ldr	r3, [r3]
 8755 00de 5B68     		ldr	r3, [r3, #4]
 8756 00e0 03F04003 		and	r3, r3, #64
 8757 00e4 402B     		cmp	r3, #64
 8758 00e6 EBD0     		beq	.L426
 8759              	.L425:
4454:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4455:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Control the BSY flag */
4456:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()
 8760              		.loc 1 4456 9
 8761 00e8 FFF7FEFF 		bl	HAL_GetTick
 8762 00ec 0346     		mov	r3, r0
 8763              		.loc 1 4456 9 is_stmt 0 discriminator 1
 8764 00ee 0093     		str	r3, [sp]
 8765 00f0 6423     		movs	r3, #100
 8766 00f2 0022     		movs	r2, #0
 8767 00f4 8021     		movs	r1, #128
 8768 00f6 7868     		ldr	r0, [r7, #4]
 8769 00f8 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 8770 00fc 0346     		mov	r3, r0
 8771              		.loc 1 4456 8 is_stmt 1 discriminator 2
 8772 00fe 002B     		cmp	r3, #0
 8773 0100 02D0     		beq	.L427
4457:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4458:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8774              		.loc 1 4458 23
 8775 0102 7B68     		ldr	r3, [r7, #4]
 8776 0104 4022     		movs	r2, #64
 8777 0106 1A66     		str	r2, [r3, #96]
 8778              	.L427:
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 232


4459:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4460:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** 
4461:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4462:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT, H
 8779              		.loc 1 4462 9
 8780 0108 FFF7FEFF 		bl	HAL_GetTick
 8781 010c 0346     		mov	r3, r0
 8782              		.loc 1 4462 9 is_stmt 0 discriminator 1
 8783 010e 0093     		str	r3, [sp]
 8784 0110 6423     		movs	r3, #100
 8785 0112 0022     		movs	r2, #0
 8786 0114 4FF4C061 		mov	r1, #1536
 8787 0118 7868     		ldr	r0, [r7, #4]
 8788 011a FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 8789 011e 0346     		mov	r3, r0
 8790              		.loc 1 4462 8 is_stmt 1 discriminator 2
 8791 0120 002B     		cmp	r3, #0
 8792 0122 02D0     		beq	.L423
4463:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     {
4464:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 8793              		.loc 1 4464 23
 8794 0124 7B68     		ldr	r3, [r7, #4]
 8795 0126 4022     		movs	r2, #64
 8796 0128 1A66     		str	r2, [r3, #96]
 8797              	.L423:
4465:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****     }
4466:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   }
4467:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 8798              		.loc 1 4467 15
 8799 012a 7B68     		ldr	r3, [r7, #4]
 8800 012c 0722     		movs	r2, #7
 8801 012e 83F85D20 		strb	r2, [r3, #93]
4468:Drivers/STM32G4xx_HAL_Driver/Src/stm32g4xx_hal_spi.c **** }
 8802              		.loc 1 4468 1
 8803 0132 00BF     		nop
 8804 0134 1037     		adds	r7, r7, #16
 8805              	.LCFI294:
 8806              		.cfi_def_cfa_offset 8
 8807 0136 BD46     		mov	sp, r7
 8808              	.LCFI295:
 8809              		.cfi_def_cfa_register 13
 8810              		@ sp needed
 8811 0138 80BD     		pop	{r7, pc}
 8812              	.L429:
 8813 013a 00BF     		.align	2
 8814              	.L428:
 8815 013c 00000000 		.word	SystemCoreClock
 8816 0140 F1197605 		.word	91625969
 8817              		.cfi_endproc
 8818              	.LFE187:
 8820              		.text
 8821              	.Letext0:
 8822              		.file 2 "D:/msys64/mingw64/arm-none-eabi/include/machine/_default_types.h"
 8823              		.file 3 "D:/msys64/mingw64/arm-none-eabi/include/sys/_stdint.h"
 8824              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g474xx.h"
 8825              		.file 5 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 8826              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 233


 8827              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 8828              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_spi.h"
 8829              		.file 9 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 8830              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 234


DEFINED SYMBOLS
                            *ABS*:00000000 stm32g4xx_hal_spi.c
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:21     .text.HAL_SPI_Init:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:27     .text.HAL_SPI_Init:00000000 HAL_SPI_Init
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:316    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:234    .text.HAL_SPI_DeInit:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:240    .text.HAL_SPI_DeInit:00000000 HAL_SPI_DeInit
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:358    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:310    .text.HAL_SPI_MspInit:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:352    .text.HAL_SPI_MspDeInit:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:394    .text.HAL_SPI_Transmit:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:400    .text.HAL_SPI_Transmit:00000000 HAL_SPI_Transmit
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8069   .text.SPI_EndRxTxTransaction:00000000 SPI_EndRxTxTransaction
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:936    .text.HAL_SPI_Receive:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:942    .text.HAL_SPI_Receive:00000000 HAL_SPI_Receive
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:1367   .text.HAL_SPI_TransmitReceive:00000000 HAL_SPI_TransmitReceive
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7936   .text.SPI_EndRxTransaction:00000000 SPI_EndRxTransaction
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:1361   .text.HAL_SPI_TransmitReceive:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2112   .text.HAL_SPI_Transmit_IT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2118   .text.HAL_SPI_Transmit_IT:00000000 HAL_SPI_Transmit_IT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2312   .text.HAL_SPI_Transmit_IT:00000110 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7447   .text.SPI_TxISR_16BIT:00000000 SPI_TxISR_16BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7371   .text.SPI_TxISR_8BIT:00000000 SPI_TxISR_8BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2318   .text.HAL_SPI_Receive_IT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2324   .text.HAL_SPI_Receive_IT:00000000 HAL_SPI_Receive_IT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2567   .text.HAL_SPI_TransmitReceive_IT:00000000 HAL_SPI_TransmitReceive_IT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2555   .text.HAL_SPI_Receive_IT:00000154 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7295   .text.SPI_RxISR_16BIT:00000000 SPI_RxISR_16BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7218   .text.SPI_RxISR_8BIT:00000000 SPI_RxISR_8BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2561   .text.HAL_SPI_TransmitReceive_IT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2804   .text.HAL_SPI_TransmitReceive_IT:0000014c $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7038   .text.SPI_2linesRxISR_16BIT:00000000 SPI_2linesRxISR_16BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7129   .text.SPI_2linesTxISR_16BIT:00000000 SPI_2linesTxISR_16BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6766   .text.SPI_2linesRxISR_8BIT:00000000 SPI_2linesRxISR_8BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6911   .text.SPI_2linesTxISR_8BIT:00000000 SPI_2linesTxISR_8BIT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2812   .text.HAL_SPI_Transmit_DMA:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:2818   .text.HAL_SPI_Transmit_DMA:00000000 HAL_SPI_Transmit_DMA
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3135   .text.HAL_SPI_Transmit_DMA:000001d4 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6182   .text.SPI_DMAHalfTransmitCplt:00000000 SPI_DMAHalfTransmitCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5809   .text.SPI_DMATransmitCplt:00000000 SPI_DMATransmitCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6314   .text.SPI_DMAError:00000000 SPI_DMAError
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3142   .text.HAL_SPI_Receive_DMA:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3148   .text.HAL_SPI_Receive_DMA:00000000 HAL_SPI_Receive_DMA
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3525   .text.HAL_SPI_TransmitReceive_DMA:00000000 HAL_SPI_TransmitReceive_DMA
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3512   .text.HAL_SPI_Receive_DMA:00000234 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6226   .text.SPI_DMAHalfReceiveCplt:00000000 SPI_DMAHalfReceiveCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5939   .text.SPI_DMAReceiveCplt:00000000 SPI_DMAReceiveCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:3519   .text.HAL_SPI_TransmitReceive_DMA:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4024   .text.HAL_SPI_TransmitReceive_DMA:000002f4 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6270   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 SPI_DMAHalfTransmitReceiveCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6069   .text.SPI_DMATransmitReceiveCplt:00000000 SPI_DMATransmitReceiveCplt
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4033   .text.HAL_SPI_Abort:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4039   .text.HAL_SPI_Abort:00000000 HAL_SPI_Abort
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7717   .text.SPI_WaitFifoStateUntilTimeout:00000000 SPI_WaitFifoStateUntilTimeout
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7521   .text.SPI_WaitFlagStateUntilTimeout:00000000 SPI_WaitFlagStateUntilTimeout
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4410   .text.HAL_SPI_Abort:00000230 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8609   .text.SPI_AbortTx_ISR:00000000 SPI_AbortTx_ISR
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 235


C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8471   .text.SPI_AbortRx_ISR:00000000 SPI_AbortRx_ISR
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4418   .text.HAL_SPI_Abort_IT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4424   .text.HAL_SPI_Abort_IT:00000000 HAL_SPI_Abort_IT
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5677   .text.HAL_SPI_AbortCpltCallback:00000000 HAL_SPI_AbortCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4767   .text.HAL_SPI_Abort_IT:000001dc $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6428   .text.SPI_DMATxAbortCallback:00000000 SPI_DMATxAbortCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6596   .text.SPI_DMARxAbortCallback:00000000 SPI_DMARxAbortCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4777   .text.HAL_SPI_DMAPause:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4783   .text.HAL_SPI_DMAPause:00000000 HAL_SPI_DMAPause
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4848   .text.HAL_SPI_DMAResume:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4854   .text.HAL_SPI_DMAResume:00000000 HAL_SPI_DMAResume
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4919   .text.HAL_SPI_DMAStop:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:4925   .text.HAL_SPI_DMAStop:00000000 HAL_SPI_DMAStop
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5024   .text.HAL_SPI_IRQHandler:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5030   .text.HAL_SPI_IRQHandler:00000000 HAL_SPI_IRQHandler
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5635   .text.HAL_SPI_ErrorCallback:00000000 HAL_SPI_ErrorCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5372   .text.HAL_SPI_IRQHandler:000001fc $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6376   .text.SPI_DMAAbortOnError:00000000 SPI_DMAAbortOnError
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5377   .text.HAL_SPI_TxCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5383   .text.HAL_SPI_TxCpltCallback:00000000 HAL_SPI_TxCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5419   .text.HAL_SPI_RxCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5425   .text.HAL_SPI_RxCpltCallback:00000000 HAL_SPI_RxCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5461   .text.HAL_SPI_TxRxCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5467   .text.HAL_SPI_TxRxCpltCallback:00000000 HAL_SPI_TxRxCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5503   .text.HAL_SPI_TxHalfCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5509   .text.HAL_SPI_TxHalfCpltCallback:00000000 HAL_SPI_TxHalfCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5545   .text.HAL_SPI_RxHalfCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5551   .text.HAL_SPI_RxHalfCpltCallback:00000000 HAL_SPI_RxHalfCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5587   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5593   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 HAL_SPI_TxRxHalfCpltCallback
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5629   .text.HAL_SPI_ErrorCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5671   .text.HAL_SPI_AbortCpltCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5713   .text.HAL_SPI_GetState:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5719   .text.HAL_SPI_GetState:00000000 HAL_SPI_GetState
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5759   .text.HAL_SPI_GetError:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5765   .text.HAL_SPI_GetError:00000000 HAL_SPI_GetError
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5804   .text.SPI_DMATransmitCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:5934   .text.SPI_DMAReceiveCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6064   .text.SPI_DMATransmitReceiveCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6177   .text.SPI_DMAHalfTransmitCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6221   .text.SPI_DMAHalfReceiveCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6265   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6309   .text.SPI_DMAError:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6371   .text.SPI_DMAAbortOnError:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6423   .text.SPI_DMATxAbortCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6591   .text.SPI_DMARxAbortCallback:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6761   .text.SPI_2linesRxISR_8BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8177   .text.SPI_CloseRxTx_ISR:00000000 SPI_CloseRxTx_ISR
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:6906   .text.SPI_2linesTxISR_8BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7033   .text.SPI_2linesRxISR_16BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7124   .text.SPI_2linesTxISR_16BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7213   .text.SPI_RxISR_8BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8282   .text.SPI_CloseRx_ISR:00000000 SPI_CloseRx_ISR
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7290   .text.SPI_RxISR_16BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7366   .text.SPI_TxISR_8BIT:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8366   .text.SPI_CloseTx_ISR:00000000 SPI_CloseTx_ISR
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7442   .text.SPI_TxISR_16BIT:00000000 $t
ARM GAS  C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s 			page 236


C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7516   .text.SPI_WaitFlagStateUntilTimeout:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7707   .text.SPI_WaitFlagStateUntilTimeout:0000010c $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7712   .text.SPI_WaitFifoStateUntilTimeout:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7926   .text.SPI_WaitFifoStateUntilTimeout:00000128 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:7931   .text.SPI_EndRxTransaction:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8064   .text.SPI_EndRxTxTransaction:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8172   .text.SPI_CloseRxTx_ISR:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8277   .text.SPI_CloseRx_ISR:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8361   .text.SPI_CloseTx_ISR:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8466   .text.SPI_AbortRx_ISR:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8598   .text.SPI_AbortRx_ISR:000000b8 $d
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8604   .text.SPI_AbortTx_ISR:00000000 $t
C:\Users\AURORA~1\AppData\Local\Temp\ccDX0hEW.s:8815   .text.SPI_AbortTx_ISR:0000013c $d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
SystemCoreClock
HAL_DMA_Abort_IT
